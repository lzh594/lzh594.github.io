<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>DBSEC-烤漆总结 | lzhのBLOG</title><meta name="author" content="£·"><meta name="copyright" content="£·"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="第一章 绪论 数据库系统概述 数据库4个基本概念   数据data：数据库中存储的基本对象   结构化、半结构化、非结构化   数据是符号化的信息；信息是语义化的数据     数据库database：长期储存在计算机内、有组织、可共享的大量数据的集合   数据库管理系统DBMS：用户和OS之间的一层数据管理软件   功能：数据定义、组织、存储、管理操纵、事务管理和运行管理、建立和维护，其他">
<meta property="og:type" content="article">
<meta property="og:title" content="DBSEC-烤漆总结">
<meta property="og:url" content="https://lzh594.github.io/BUAA/DBSEC/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%83%A4%E6%BC%86%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="lzhのBLOG">
<meta property="og:description" content="第一章 绪论 数据库系统概述 数据库4个基本概念   数据data：数据库中存储的基本对象   结构化、半结构化、非结构化   数据是符号化的信息；信息是语义化的数据     数据库database：长期储存在计算机内、有组织、可共享的大量数据的集合   数据库管理系统DBMS：用户和OS之间的一层数据管理软件   功能：数据定义、组织、存储、管理操纵、事务管理和运行管理、建立和维护，其他">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://lzh594.github.io/images/touxiang1.jpeg">
<meta property="article:published_time" content="2024-01-18T09:53:01.000Z">
<meta property="article:modified_time" content="2024-01-24T10:11:29.219Z">
<meta property="article:author" content="£·">
<meta property="article:tag" content="DBSEC">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lzh594.github.io/images/touxiang1.jpeg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://lzh594.github.io/BUAA/DBSEC/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%83%A4%E6%BC%86%E6%80%BB%E7%BB%93/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'DBSEC-烤漆总结',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-01-24 18:11:29'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.0.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/touxiang1.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/About/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background: /images/tianxiwei2.HPG"><nav id="nav"><span id="blog-info"><a href="/" title="lzhのBLOG"><span class="site-name">lzhのBLOG</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/About/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">DBSEC-烤漆总结</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-01-18T09:53:01.000Z" title="发表于 2024-01-18 17:53:01">2024-01-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-24T10:11:29.219Z" title="更新于 2024-01-24 18:11:29">2024-01-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/BUAA/">BUAA</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/BUAA/DBSEC/">DBSEC</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">8.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>27分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="DBSEC-烤漆总结"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>第一章 绪论</h1>
<h2 id="数据库系统概述">数据库系统概述</h2>
<h3 id="数据库4个基本概念">数据库4个基本概念</h3>
<ul>
<li>
<h3 id="数据data：数据库中存储的基本对象">数据data：数据库中存储的基本对象</h3>
<ul>
<li>
<h4 id="结构化、半结构化、非结构化">结构化、半结构化、非结构化</h4>
</li>
<li>
<h4 id="数据是符号化的信息；信息是语义化的数据">数据是符号化的信息；信息是语义化的数据</h4>
</li>
</ul>
</li>
<li>
<h3 id="数据库database：长期储存在计算机内、有组织、可共享的大量数据的集合">数据库database：长期储存在计算机内、有组织、可共享的大量数据的集合</h3>
</li>
<li>
<h3 id="数据库管理系统DBMS：用户和OS之间的一层数据管理软件">数据库管理系统DBMS：用户和OS之间的一层数据管理软件</h3>
<ul>
<li>
<h4 id="功能：数据定义、组织、存储、管理操纵、事务管理和运行管理、建立和维护，其他">功能：数据定义、组织、存储、管理操纵、事务管理和运行管理、建立和维护，其他</h4>
</li>
</ul>
</li>
<li>
<h3 id="数据库系统DBS：数据库-数据库管理系统-应用程序、数据库管理员-DBA">数据库系统DBS：数据库+数据库管理系统+应用程序、数据库管理员(DBA)</h3>
</li>
<li>
<h3 id="管理信息系统-MIS-架构：C-S、B-S">管理信息系统(MIS)架构：C/S、B/S</h3>
</li>
</ul>
<h2 id="数据模型：对现实世界数据特征的抽象">数据模型：对现实世界数据特征的抽象</h2>
<h3 id="分类：两个层次">分类：两个层次</h3>
<ul>
<li>
<h4 id="概念模型：用户观点">概念模型：用户观点</h4>
</li>
<li>
<h4 id="逻辑模型-计算机系统观点-和物理模型-数据最底层抽象">逻辑模型(计算机系统观点)和物理模型(数据最底层抽象)</h4>
</li>
</ul>
<h3 id="概念模型：">概念模型：</h3>
<ul>
<li>
<h4 id="信息世界中的基本概念：">信息世界中的基本概念：</h4>
<ul>
<li>
<h5 id="实体：客观存在可相互区别的事物">实体：客观存在可相互区别的事物</h5>
</li>
<li>
<h5 id="属性：尸体所具有的某一特性">属性：尸体所具有的某一特性</h5>
</li>
<li>
<h5 id="码-键：唯一标识实体的属性集">码/键：唯一标识实体的属性集</h5>
</li>
<li>
<h5 id="实体型：用实体名及其属性名集合来抽象和刻画同类实体">实体型：用实体名及其属性名集合来抽象和刻画同类实体</h5>
</li>
<li>
<h5 id="实体集：同一类型实体的集合">实体集：同一类型实体的集合</h5>
</li>
<li>
<h5 id="联系：现实世界中事物内部、事物之间的联系没在信息世界中反映为实体-型-内部-之间的联系">联系：现实世界中事物内部、事物之间的联系没在信息世界中反映为实体(型)内部/之间的联系</h5>
<ul>
<li>内部：各属性之间的联系</li>
<li>之间：不同实体集之间的联系</li>
<li>一对一、一对多、多对多</li>
</ul>
</li>
</ul>
</li>
<li>
<h4 id="实体-联系方法：">实体-联系方法：</h4>
<ul>
<li>
<h5 id="E-R图-ERD-描述现实世界的概念模型">E-R图(ERD)描述现实世界的概念模型</h5>
</li>
</ul>
</li>
</ul>
<h3 id="数据模型的组成要素：">数据模型的组成要素：</h3>
<ul>
<li>
<h4 id="数据结构：">数据结构：</h4>
<ul>
<li>
<h5 id="描述数据库的组成对象、以及对象之间的联系">描述数据库的组成对象、以及对象之间的联系</h5>
</li>
<li>
<h5 id="对系统静态特性的描述">对系统静态特性的描述</h5>
</li>
</ul>
</li>
<li>
<h4 id="数据操作">数据操作</h4>
<ul>
<li>
<h5 id="操作的集合，包括操作及有关操作规则">操作的集合，包括操作及有关操作规则</h5>
</li>
<li>
<h5 id="查询、更新-插入删除修改">查询、更新(插入删除修改)</h5>
</li>
</ul>
</li>
<li>
<h4 id="数据的完整性约束条件">数据的完整性约束条件</h4>
<ul>
<li>
<h5 id="一组完整性规则的集合">一组完整性规则的集合</h5>
</li>
</ul>
</li>
</ul>
<h3 id="常用的数据模型：">常用的数据模型：</h3>
<ul>
<li>层次模型、网状模型、关系模型、面向对象数据模型、对象关系数据模型、半结构化数据模型、图数据模型</li>
</ul>
<h3 id="层次模型">层次模型</h3>
<ul>
<li>DBS中最早的数据模型</li>
<li>树形结构：表示各类实体及实体间的联系</li>
<li>双亲唯一：只能处理一对多的实体联系</li>
</ul>
<h3 id="网状模型：">网状模型：</h3>
<ul>
<li>网状数据库系统的数据模型</li>
<li>层次模型是网状模型的特例</li>
</ul>
<h3 id="关系模型：">关系模型：</h3>
<h4 id="关系模型的数据结构">关系模型的数据结构</h4>
<ul>
<li>
<h5 id="关系数据库的数据模型">关系数据库的数据模型</h5>
</li>
<li>
<h5 id="用户观点下，关系模型数据的逻辑结构是一张二维表">用户观点下，关系模型数据的逻辑结构是一张二维表</h5>
</li>
<li>
<h5 id="关系：一张表-包括数据">关系：一张表(包括数据)</h5>
</li>
<li>
<h5 id="元组：表中一行">元组：表中一行</h5>
</li>
<li>
<h5 id="属性：表中一列">属性：表中一列</h5>
</li>
<li>
<h5 id="主码-主键：码或键，表中的某个可唯一确定一个元组的属性组">主码/主键：码或键，表中的某个可唯一确定一个元组的属性组</h5>
</li>
<li>
<h5 id="域：一组具有相同数据类型的值的集合；属性的取值范围来自某个域">域：一组具有相同数据类型的值的集合；属性的取值范围来自某个域</h5>
</li>
<li>
<h5 id="分量：元组中的一个属性值">分量：元组中的一个属性值</h5>
</li>
<li>
<h5 id="关系模式：对关系的结构描述">关系模式：对关系的结构描述</h5>
</li>
<li>
<h5 id="关系规范化：不允许表中还有表">关系规范化：不允许表中还有表</h5>
</li>
</ul>
<h4 id="关系模型的数据操作">关系模型的数据操作</h4>
<ul>
<li>
<h5 id="集合操作，操作对象和操作结果都是关系">集合操作，操作对象和操作结果都是关系</h5>
</li>
</ul>
<h4 id="关系的完整性约束条件">关系的完整性约束条件</h4>
<ul>
<li>
<h5 id="实体完整性">实体完整性</h5>
</li>
<li>
<h5 id="参照完整性">参照完整性</h5>
</li>
<li>
<h5 id="用户自定义的完整性">用户自定义的完整性</h5>
</li>
</ul>
<h2 id="数据库系统的结构">数据库系统的结构</h2>
<h3 id="数据库系统模式的概念">数据库系统模式的概念</h3>
<ul>
<li>
<h4 id="型：某一类数据的结构和属性的说明">型：某一类数据的结构和属性的说明</h4>
</li>
<li>
<h4 id="值：型的一个具体赋值">值：型的一个具体赋值</h4>
</li>
<li>
<h4 id="模式：">模式：</h4>
<ul>
<li>
<h5 id="数据库逻辑结构和特征的描述">数据库逻辑结构和特征的描述</h5>
</li>
<li>
<h5 id="型的描述">型的描述</h5>
</li>
<li>
<h5 id="反映数据的结构及其联系">反映数据的结构及其联系</h5>
</li>
<li>
<h5 id="模式相对稳定">模式相对稳定</h5>
</li>
</ul>
</li>
<li>
<h4 id="实例：">实例：</h4>
<ul>
<li>
<h5 id="模式的一个具体值">模式的一个具体值</h5>
</li>
<li>
<h5 id="反映数据库某一时刻的状态">反映数据库某一时刻的状态</h5>
</li>
</ul>
</li>
</ul>
<h3 id="三级模式结构：">三级模式结构：</h3>
<ul>
<li>
<h4 id="数据库应用开发人员角度">数据库应用开发人员角度</h4>
</li>
<li>
<h4 id="数据库系统内部的系统结构">数据库系统内部的系统结构</h4>
</li>
<li>
<h4 id="模式、外模式、内模式">模式、外模式、内模式</h4>
</li>
<li>
<h4 id="对数据的三个抽象级别">对数据的三个抽象级别</h4>
</li>
</ul>
<h4 id="模式：逻辑模式">模式：逻辑模式</h4>
<ul>
<li>
<h5 id="数据库中全体数据的逻辑结构和特征的描述">数据库中全体数据的逻辑结构和特征的描述</h5>
</li>
<li>
<h5 id="所有用户的公共数据视图">所有用户的公共数据视图</h5>
</li>
<li>
<h5 id="一个数据库只有一个模式">一个数据库只有一个模式</h5>
</li>
</ul>
<h4 id="外模式：子模式-用户模式">外模式：子模式/用户模式</h4>
<ul>
<li>
<h5 id="数据库用户使用的局部数据的逻辑结构和特征的描述">数据库用户使用的局部数据的逻辑结构和特征的描述</h5>
</li>
<li>
<h5 id="数据库用户的数据视图">数据库用户的数据视图</h5>
</li>
<li>
<h5 id="技术上：视图View的定义和描述">技术上：视图View的定义和描述</h5>
</li>
<li>
<h5 id="地位：介于模式和应用之间">地位：介于模式和应用之间</h5>
<ul>
<li>模式与外模式的关系：一对多；
<ul>
<li>外模式通常是模式的子集</li>
</ul>
</li>
<li>外模式与应用的关系：一对多；一个应用只能使用一个外模式</li>
</ul>
</li>
<li>
<h5 id="作用：保证数据库安全性-用户只能看-访问外模式的数据">作用：保证数据库安全性(用户只能看/访问外模式的数据)</h5>
</li>
</ul>
<h4 id="内模式：存储模式">内模式：存储模式</h4>
<ul>
<li>
<h5 id="数据物理结构和存储方式的描述">数据物理结构和存储方式的描述</h5>
</li>
<li>
<h5 id="一个数据库只有一个内模式">一个数据库只有一个内模式</h5>
</li>
<li>
<h5 id="对用户半透明">对用户半透明</h5>
</li>
</ul>
<h3 id="二级映像功能：">二级映像功能：</h3>
<ul>
<li>
<h4 id="DBMS内部实现三级模式这三个抽象层次的联系和转换">DBMS内部实现三级模式这三个抽象层次的联系和转换</h4>
</li>
<li>
<h4 id="外模式-模式映像、模式-内模式映像">外模式/模式映像、模式/内模式映像</h4>
</li>
<li>
<h4 id="保证了数据库外模式的稳定性">保证了数据库外模式的稳定性</h4>
</li>
<li>
<h4 id="从底层保证了应用程序的稳定性">从底层保证了应用程序的稳定性</h4>
</li>
</ul>
<h3 id="外模式-模式映像">外模式/模式映像</h3>
<ul>
<li>
<h4 id="每个外模式对应一个外模式-模式映像，定义外模式和模式之间的对应关系">每个外模式对应一个外模式/模式映像，定义外模式和模式之间的对应关系</h4>
</li>
<li>
<h4 id="保证数据的逻辑独立性：模式改变时，DBA改变外模式-模式映像即可保证外模式不变；应用程序依据外模式编写，因此不必修改应用程序">保证数据的逻辑独立性：模式改变时，DBA改变外模式/模式映像即可保证外模式不变；应用程序依据外模式编写，因此不必修改应用程序</h4>
</li>
<li>
<h4 id="映像定义通常包含在各自外模式的描述中">映像定义通常包含在各自外模式的描述中</h4>
</li>
</ul>
<h3 id="模式-内模式映像">模式/内模式映像</h3>
<ul>
<li>
<h4 id="定义了数据全局逻辑结构与存储结构之间的对应关系">定义了数据全局逻辑结构与存储结构之间的对应关系</h4>
</li>
<li>
<h4 id="模式-内模式映像是唯一的">模式/内模式映像是唯一的</h4>
</li>
<li>
<h4 id="映像定义通常包含在模式的描述中">映像定义通常包含在模式的描述中</h4>
</li>
<li>
<h4 id="保证了数据的物理独立性：DB的存储结构改变，DBA修改模式-内模式映像，使模式保持不变">保证了数据的物理独立性：DB的存储结构改变，DBA修改模式/内模式映像，使模式保持不变</h4>
</li>
<li>
<h4 id="应用程序也不受影响">应用程序也不受影响</h4>
</li>
</ul>
<h2 id="数据库系统组成">数据库系统组成</h2>
<h3 id="数据库、数据库管理系统、应用程序、数据库管理员、硬件平台及数据库、软件、人员">数据库、数据库管理系统、应用程序、数据库管理员、硬件平台及数据库、软件、人员</h3>
<h1>第二章 关系数据库</h1>
<h2 id="关系数据结构及形式化定义">关系数据结构及形式化定义</h2>
<h3 id="关系：实体及实体间的各种联系">关系：实体及实体间的各种联系</h3>
<ul>
<li>
<h4 id="关系的组成：同一类实体型的实例集合">关系的组成：同一类实体型的实例集合</h4>
</li>
<li>
<h4 id="关系之间的联系">关系之间的联系</h4>
</li>
<li>
<h4 id="逻辑结构：二维表表头-关系模式-——描述表的组成关系">逻辑结构：二维表表头(关系模式)——描述表的组成关系</h4>
</li>
<li>
<h4 id="建立在集合论和关系代数的基础上">建立在集合论和关系代数的基础上</h4>
</li>
<li>
<h4 id="关系的表示：R-D-1-D-2-D-n">关系的表示：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>D</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>D</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>D</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(D_1,D_2,...,D_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></h4>
</li>
</ul>
<h4 id="关系与表的术语对照">关系与表的术语对照</h4>
<table>
<thead>
<tr>
<th style="text-align:center">一般表格的术语</th>
<th style="text-align:center">关系术语</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">表名</td>
<td style="text-align:center">关系名</td>
</tr>
<tr>
<td style="text-align:center">表头(表格结构的描述)</td>
<td style="text-align:center">关系模式</td>
</tr>
<tr>
<td style="text-align:center">二维表(数据)</td>
<td style="text-align:center">关系</td>
</tr>
<tr>
<td style="text-align:center">记录/行</td>
<td style="text-align:center">元组</td>
</tr>
<tr>
<td style="text-align:center">列</td>
<td style="text-align:center">属性</td>
</tr>
<tr>
<td style="text-align:center">列名</td>
<td style="text-align:center">属性名</td>
</tr>
<tr>
<td style="text-align:center">列值</td>
<td style="text-align:center">属性值</td>
</tr>
<tr>
<td style="text-align:center">一条记录中的一个列值</td>
<td style="text-align:center">分量</td>
</tr>
<tr>
<td style="text-align:center">表中有表</td>
<td style="text-align:center">非规范关系</td>
</tr>
</tbody>
</table>
<h4 id="码-键：">码/键：</h4>
<ul>
<li>
<h5 id="候选码-键：关系中某一属性组的值能唯一地标识一个元组；找不出真子集仍满足前一条件">候选码/键：关系中某一属性组的值能唯一地标识一个元组；找不出真子集仍满足前一条件</h5>
</li>
<li>
<h5 id="全码-键：关系模式的所有属性组都是候选码">全码/键：关系模式的所有属性组都是候选码</h5>
</li>
<li>
<h5 id="超键：只满足唯一标识的条件，候选键是最小超键">超键：只满足唯一标识的条件，候选键是最小超键</h5>
</li>
<li>
<h5 id="主码-键：多个候选码选定一个，其诸属性称为主属性">主码/键：多个候选码选定一个，其诸属性称为主属性</h5>
</li>
<li>
<h5 id="外键：一个实体的主键被另外一个实体使用，以表达不同实体元组之间的关系">外键：一个实体的主键被另外一个实体使用，以表达不同实体元组之间的关系</h5>
</li>
</ul>
<h4 id="实体-表-间的关系：依赖主键-外键关系实现">实体(表)间的关系：依赖主键-外键关系实现</h4>
<h4 id="三类关系：基本关系、查询表、视图表">三类关系：基本关系、查询表、视图表</h4>
<h3 id="关系模式：">关系模式：</h3>
<ul>
<li>
<h4 id="关系模式是型，是结构；关系是值-二维表">关系模式是型，是结构；关系是值(二维表)</h4>
</li>
<li>
<h4 id="关系模式是关系的结构；关系是关系模式某一时刻的数据">关系模式是关系的结构；关系是关系模式某一时刻的数据</h4>
</li>
</ul>
<h3 id="形式化表示：R-U-D-DOM-F">形式化表示：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>U</mi><mo separator="true">,</mo><mi>D</mi><mo separator="true">,</mo><mi>D</mi><mi>O</mi><mi>M</mi><mo separator="true">,</mo><mi>F</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(U,D,DOM,F)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.10903em;">OM</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span></span></span></span></h3>
<ul>
<li>
<h4 id="R：关系名">R：关系名</h4>
</li>
<li>
<h4 id="U：组成该关系的属性名集合">U：组成该关系的属性名集合</h4>
</li>
<li>
<h4 id="D：U中属性所来自的域">D：U中属性所来自的域</h4>
</li>
<li>
<h4 id="DOM：属性向域的映像集合">DOM：属性向域的映像集合</h4>
</li>
<li>
<h4 id="F：属性间数据的依赖关系的集合">F：属性间数据的依赖关系的集合</h4>
</li>
</ul>
<h3 id="关系数据库：所有关系的集合构成一个关系数据库">关系数据库：所有关系的集合构成一个关系数据库</h3>
<ul>
<li>
<h4 id="型：关系数据库模式">型：关系数据库模式</h4>
</li>
<li>
<h4 id="值：关系模式在某一时刻对应的关系的集合-关系数据库RDB">值：关系模式在某一时刻对应的关系的集合(关系数据库RDB)</h4>
</li>
</ul>
<h3 id="关系模型的存储结构：关系数据库的物理组织">关系模型的存储结构：关系数据库的物理组织</h3>
<h2 id="关系操作">关系操作</h2>
<h3 id="查询：">查询：</h3>
<ul>
<li>
<h4 id="8种：选择、投影、连接、除、并、差、交、笛卡尔积">8种：选择、投影、连接、除、并、差、交、笛卡尔积</h4>
</li>
<li>
<h4 id="5种基本：选择、投影、并、差、笛卡尔积">5种基本：选择、投影、并、差、笛卡尔积</h4>
</li>
</ul>
<h3 id="更新：插入、删除、修改">更新：插入、删除、修改</h3>
<h3 id="特点：操作对象和结果都是集合，一次一集合">特点：操作对象和结果都是集合，一次一集合</h3>
<h3 id="关系数据库语言的分类：关系代数语言、关系演算语言、具有关系代数和关系演算双重特点的语言-SQL等">关系数据库语言的分类：关系代数语言、关系演算语言、具有关系代数和关系演算双重特点的语言(SQL等)</h3>
<h2 id="关系的完整性">关系的完整性</h2>
<h3 id="实体完整性-2">实体完整性</h3>
<ul>
<li>
<h4 id="实体完整性规则：主属性不能取空值">实体完整性规则：主属性不能取空值</h4>
</li>
</ul>
<h3 id="参照完整性：">参照完整性：</h3>
<h4 id="外码：">外码：</h4>
<ul>
<li>
<h5 id="设F是基本关系R的一个或一组属性，但不是关系R的码。如果F与基本关系S的主码K-s相对应，则F是R的外码">设F是基本关系R的一个或一组属性，但不是关系R的码。如果F与基本关系S的主码<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">K_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>相对应，则F是R的外码</h5>
</li>
<li>
<h5 id="R：参照关系">R：参照关系</h5>
</li>
<li>
<h5 id="S：被参照关系-目标关系">S：被参照关系/目标关系</h5>
</li>
<li>
<h5 id="R和S不一定不同；主码K-s和F必须定义在同一域上；外码不一定要与对应主码同名">R和S不一定不同；主码<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">K_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span>必须定义在同一域上；外码不一定要与对应主码同名</h5>
</li>
</ul>
<h4 id="参照完整性规则：">参照完整性规则：</h4>
<ul>
<li>
<h5 id="R中每个元组在F上的值必须等于S中某个元组主码值K-s-NULL">R中每个元组在F上的值必须等于S中某个元组主码值<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">K_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>/NULL</h5>
</li>
</ul>
<h4 id="数据冗余：">数据冗余：</h4>
<ul>
<li>
<h5 id="关系数据库不支持m-n联系，因为水导致数据冗余">关系数据库不支持m:n联系，因为水导致数据冗余</h5>
</li>
<li>
<h5 id="1-1、1-m的联系不会存在实体数据冗余">1:1、1:m的联系不会存在实体数据冗余</h5>
</li>
</ul>
<h3 id="用户自定义的完整性-2">用户自定义的完整性</h3>
<h4 id="针对某一具体关系数据库的约束条件">针对某一具体关系数据库的约束条件</h4>
<ul>
<li>
<h5 id="具体应用所设计的数据必须满足的语义要求">具体应用所设计的数据必须满足的语义要求</h5>
</li>
</ul>
<h4 id="关系模型应提供定义和检验这类完整性的机制">关系模型应提供定义和检验这类完整性的机制</h4>
<h2 id="关系代数">关系代数</h2>
<ul>
<li>
<h3 id="是一种抽象的查询语言，用关系运算表达查询">是一种抽象的查询语言，用关系运算表达查询</h3>
</li>
<li>
<h3 id="运算对象、结果都是关系">运算对象、结果都是关系</h3>
</li>
<li>
<h4 id="关系代数的运算符：集合运算符和专门的关系运算符">关系代数的运算符：集合运算符和专门的关系运算符</h4>
</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">运算符</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">集合运算符</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∪</mo></mrow><annotation encoding="application/x-tex">\cup</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5556em;"></span><span class="mord">∪</span></span></span></span></td>
<td style="text-align:center">并</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo></mrow><annotation encoding="application/x-tex">-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">−</span></span></span></span></td>
<td style="text-align:center">差</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∩</mo></mrow><annotation encoding="application/x-tex">\cap</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5556em;"></span><span class="mord">∩</span></span></span></span></td>
<td style="text-align:center">交</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">×</span></span></span></span></td>
<td style="text-align:center">笛卡尔积</td>
</tr>
<tr>
<td style="text-align:center">专门的关系运算符</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span></span></span></span></td>
<td style="text-align:center">选择</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span></span></td>
<td style="text-align:center">投影</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋈</mo></mrow><annotation encoding="application/x-tex">\Join</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.51em;vertical-align:-0.005em;"></span><span class="mrel">⋈</span></span></span></span></td>
<td style="text-align:center">连接</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>÷</mo></mrow><annotation encoding="application/x-tex">\div</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">÷</span></span></span></span></td>
<td style="text-align:center">除</td>
</tr>
</tbody>
</table>
<h3 id="并：">并：</h3>
<ul>
<li>
<h4 id="R、S同目n同域">R、S同目n同域</h4>
</li>
<li>
<h4 id="R-cup-S-set-t-t-in-R-vee-t-in-S"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>∪</mo><mi>S</mi><mo>=</mo><mo stretchy="false">{</mo><mtext> </mtext><mi>t</mi><mo>∣</mo><mi>t</mi><mo>∈</mo><mi>R</mi><mo>∨</mo><mi>t</mi><mo>∈</mo><mi>S</mi><mtext> </mtext><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R\cup S=\set{t|t\in R \vee t\in S}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6542em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6542em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">}</span></span></span></span></h4>
</li>
<li>
<h4 id="不允许重复">不允许重复</h4>
</li>
</ul>
<h3 id="差：">差：</h3>
<ul>
<li>
<h4 id="R-S-set-t-t-in-R-wedge-t-notin-S"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>−</mo><mi>S</mi><mo>=</mo><mo stretchy="false">{</mo><mtext> </mtext><mi>t</mi><mo>∣</mo><mi>t</mi><mo>∈</mo><mi>R</mi><mo>∧</mo><mi>t</mi><mo mathvariant="normal">∉</mo><mi>S</mi><mtext> </mtext><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R-S=\set{t|t\in R \wedge t\notin S}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6542em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mord"><span class="mrel">∈</span></span><span class="mord vbox"><span class="thinbox"><span class="llap"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="inner"><span class="mord"><span class="mord">/</span><span class="mspace" style="margin-right:0.0556em;"></span></span></span><span class="fix"></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">}</span></span></span></span></h4>
</li>
<li>
<h4 id="“是…但不含”">“是…但不含”</h4>
</li>
</ul>
<h3 id="交：">交：</h3>
<ul>
<li>
<h4 id="R-cap-S-set-t-t-in-R-wedge-t-in-S"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>∩</mo><mi>S</mi><mo>=</mo><mo stretchy="false">{</mo><mtext> </mtext><mi>t</mi><mo>∣</mo><mi>t</mi><mo>∈</mo><mi>R</mi><mo>∧</mo><mi>t</mi><mo>∈</mo><mi>S</mi><mtext> </mtext><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R\cap S=\set{t|t\in R\wedge t\in S}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6542em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6542em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">}</span></span></span></span></h4>
</li>
</ul>
<h3 id="笛卡尔积：">笛卡尔积：</h3>
<ul>
<li>
<h4 id="R-times-S-set-t-rt-s-t-r-in-R-wedge-t-s-in-S"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>×</mo><mi>S</mi><mo>=</mo><mo stretchy="false">{</mo><mtext> </mtext><msub><mi>t</mi><mi>r</mi></msub><msub><mi>t</mi><mi>s</mi></msub><mo>∣</mo><msub><mi>t</mi><mi>r</mi></msub><mo>∈</mo><mi>R</mi><mo>∧</mo><msub><mi>t</mi><mi>s</mi></msub><mo>∈</mo><mi>S</mi><mtext> </mtext><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R\times S=\set{t_rt_s|t_r\in R\wedge t_s\in S}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">}</span></span></span></span></h4>
</li>
<li>
<h4 id="行：k-1-times-k-2">行：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mn>1</mn></msub><mo>×</mo><msub><mi>k</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">k_1\times k_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></h4>
</li>
<li>
<h4 id="列：m-n">列：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>+</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m+n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></h4>
</li>
</ul>
<h3 id="选择：">选择：</h3>
<ul>
<li>
<h4 id="sigma-F-R-set-t-t-in-R-wedge-F-t-True"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>σ</mi><mi>F</mi></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mtext> </mtext><mi>t</mi><mo>∣</mo><mi>t</mi><mo>∈</mo><mi>R</mi><mo>∧</mo><mi>F</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>T</mi><mi>r</mi><mi>u</mi><mi>e</mi><mtext> </mtext><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\sigma_F(R)=\set{t|t\in R\wedge F(t)=True}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6542em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">}</span></span></span></span></h4>
</li>
<li>
<h4 id="F是一个逻辑表达式">F是一个逻辑表达式</h4>
</li>
</ul>
<h3 id="投影：">投影：</h3>
<ul>
<li>
<h4 id="pi-A-R-set-t-A-t-in-R-，A为R中属性列"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>A</mi></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mtext> </mtext><mi>t</mi><mo stretchy="false">[</mo><mi>A</mi><mo stretchy="false">]</mo><mo>∣</mo><mi>t</mi><mo>∈</mo><mi>R</mi><mtext> </mtext><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\pi_A(R)=\set{t[A]|t\in R}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mopen">[</span><span class="mord mathnormal">A</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6542em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">}</span></span></span></span>，A为R中属性列</h4>
</li>
<li>
<h4 id="投影后重复元组要去除">投影后重复元组要去除</h4>
</li>
</ul>
<h3 id="连接：">连接：</h3>
<ul>
<li>
<h4 id="从两个关系的笛卡尔积中选取属性间满足一定条件的元组">从两个关系的笛卡尔积中选取属性间满足一定条件的元组</h4>
</li>
<li>
<h5 id="R-Join-S-A-theta-B-set-t-rt-s-t-r-in-R-wedge-t-s-in-S-wedge-t-r-A-theta-t-sB"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>⋈</mo><msub><mi>S</mi><mrow><mi>A</mi><mi>θ</mi><mi>B</mi></mrow></msub><mo>=</mo><mo stretchy="false">{</mo><mtext> </mtext><msub><mi>t</mi><mi>r</mi></msub><msub><mi>t</mi><mi>s</mi></msub><mo>∣</mo><msub><mi>t</mi><mi>r</mi></msub><mo>∈</mo><mi>R</mi><mo>∧</mo><msub><mi>t</mi><mi>s</mi></msub><mo>∈</mo><mi>S</mi><mo>∧</mo><msub><mi>t</mi><mi>r</mi></msub><mo stretchy="false">[</mo><mi>A</mi><mo stretchy="false">]</mo><mi>θ</mi><msub><mi>t</mi><mi>s</mi></msub><mi>B</mi><mtext> </mtext><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R\Join S_{A\theta B}=\set{t_rt_s|t_r\in R \wedge t_s\in S \wedge t_r[A]\theta t_sB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6883em;vertical-align:-0.005em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⋈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">θB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal">A</span><span class="mclose">]</span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">}</span></span></span></span></h5>
</li>
<li>
<h4 id="A-B：R和S上度数相等且可比的属性组">A/B：R和S上度数相等且可比的属性组</h4>
</li>
<li>
<h4 id="theta：比较运算符"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span>：比较运算符</h4>
</li>
<li>
<h4 id="R-Join-S-A-theta-B-sigma-t-r-A-theta-t-s-B-R-times-S"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>⋈</mo><msub><mi>S</mi><mrow><mi>A</mi><mi>θ</mi><mi>B</mi></mrow></msub><mo>=</mo><msub><mi>σ</mi><mrow><msub><mi>t</mi><mi>r</mi></msub><mo stretchy="false">[</mo><mi>A</mi><mo stretchy="false">]</mo><mi>θ</mi><msub><mi>t</mi><mi>s</mi></msub><mo stretchy="false">[</mo><mi>B</mi><mo stretchy="false">]</mo></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo>×</mo><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R\Join S_{A\theta B}=\sigma_{t_r[A]\theta t_s[B]}(R\times S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6883em;vertical-align:-0.005em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⋈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">θB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mopen mtight">[</span><span class="mord mathnormal mtight">A</span><span class="mclose mtight">]</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span></span></span></h4>
</li>
</ul>
<h4 id="等值连接：-theta为“-”">等值连接：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">θ</span></span></span></span>为“=”</h4>
<ul>
<li>
<h4 id="R-Join-S-A-B-sigma-t-r-A-t-s-B-R-times-S"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>⋈</mo><msub><mi>S</mi><mrow><mi>A</mi><mo>=</mo><mi>B</mi></mrow></msub><mo>=</mo><msub><mi>σ</mi><mrow><msub><mi>t</mi><mi>r</mi></msub><mo stretchy="false">[</mo><mi>A</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mi>t</mi><mi>s</mi></msub><mo stretchy="false">[</mo><mi>B</mi><mo stretchy="false">]</mo></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo>×</mo><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R\Join S_{A=B}=\sigma_{t_r[A]= t_s[B]}(R\times S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6883em;vertical-align:-0.005em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⋈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mrel mtight">=</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mopen mtight">[</span><span class="mord mathnormal mtight">A</span><span class="mclose mtight">]</span><span class="mrel mtight">=</span><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span></span></span></h4>
</li>
</ul>
<h4 id="自然连接：特殊的等值连接">自然连接：特殊的等值连接</h4>
<ul>
<li>
<h5 id="比较分量必须为相同的属性组">比较分量必须为相同的属性组</h5>
</li>
<li>
<h5 id="结果中把重复的属性列去掉">结果中把重复的属性列去掉</h5>
</li>
<li>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>⋈</mo><mi>S</mi><mo>=</mo><msub><mi>σ</mi><mrow><msub><mi>t</mi><mi>r</mi></msub><mo stretchy="false">[</mo><mi>B</mi><mo stretchy="false">]</mo><mo>=</mo><msub><mi>t</mi><mi>s</mi></msub><mo stretchy="false">[</mo><mi>B</mi><mo stretchy="false">]</mo></mrow></msub><mo stretchy="false">(</mo><mi>R</mi><mo>×</mo><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R\Join S=\sigma_{t_r[B]= t_s[B]}(R\times S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6883em;vertical-align:-0.005em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⋈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mclose mtight">]</span><span class="mrel mtight">=</span><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mopen mtight">[</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span><span class="mclose mtight">]</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span></span></span></p>
</li>
</ul>
<h3 id="悬浮元组：">悬浮元组：</h3>
<ul>
<li>
<h4 id="自然连接时，R中某些元组可能在S中-不存在公共属性上值相等的元组，从而造成R中这些元组在操作时被舍弃了">自然连接时，R中某些元组可能在S中 不存在公共属性上值相等的元组，从而造成R中这些元组在操作时被舍弃了</h4>
</li>
</ul>
<h3 id="外连接：保存悬浮元组，填写空值">外连接：保存悬浮元组，填写空值</h3>
<h4 id="左外连接：只保留R中悬浮元组，右边S不匹配的元组为NULL">左外连接：只保留R中悬浮元组，右边S不匹配的元组为NULL</h4>
<h4 id="右外连接：只保留S中悬浮元组，左边R不匹配的元组为NULL">右外连接：只保留S中悬浮元组，左边R不匹配的元组为NULL</h4>
<h4 id="全外连接：保留所有悬浮元组">全外连接：保留所有悬浮元组</h4>
<h3 id="除运算：关系R-X-Y-S-Y-Z">除运算：关系<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>S</mi><mo stretchy="false">(</mo><mi>Y</mi><mo separator="true">,</mo><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(X,Y),S(Y,Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span></span></span></span></h3>
<ul>
<li>
<h4 id="R-Y-S-Y应出自相同域，且一般-pi-y-S-subseteq-pi-y-R"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mi mathvariant="normal">.</mi><mi>Y</mi><mi mathvariant="normal">/</mi><mi>S</mi><mi mathvariant="normal">.</mi><mi>Y</mi></mrow><annotation encoding="application/x-tex">R.Y/S.Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>应出自相同域，且一般<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mi>y</mi></msub><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>⊆</mo><msub><mi>π</mi><mi>y</mi></msub><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_y(S)\subseteq\pi_y(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span></h4>
</li>
<li>
<h4 id="R-div-S-set-t-r-X-t-r-in-R-wedge-y-S-subseteq-Y-x"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>÷</mo><mi>S</mi><mo>=</mo><mo stretchy="false">{</mo><mtext> </mtext><msub><mi>t</mi><mi>r</mi></msub><mo stretchy="false">[</mo><mi>X</mi><mo stretchy="false">]</mo><mo>∣</mo><msub><mi>t</mi><mi>r</mi></msub><mo>∈</mo><mi>R</mi><mo>∧</mo><mi mathvariant="normal">_</mi><mi>y</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>⊆</mo><msub><mi>Y</mi><mi>x</mi></msub><mtext> </mtext><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">R\div S=\set{t_r[X]|t_r\in R\wedge \_y(S)\subseteq Y_x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">÷</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">}</span></span></span></span></h4>
</li>
<li>
<h4 id="理解：求X-x的象集被S-Y所包含的一些元组">理解：求X=x的象集被S.Y所包含的一些元组</h4>
</li>
<li>
<h4 id="“查询…至少-全部-所有…”">“查询…至少/全部/所有…”</h4>
</li>
<li>
<h4 id="Eg：查询选修了全部课程的学生的学号">Eg：查询选修了全部课程的学生的学号</h4>
<ul>
<li>
<h5 id="pi-Sno-Cno-SC-div-pi-Cno-Course"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>π</mi><mrow><mi>S</mi><mi>n</mi><mi>o</mi><mo separator="true">,</mo><mi>C</mi><mi>n</mi><mi>o</mi></mrow></msub><mo stretchy="false">(</mo><mi>S</mi><mi>C</mi><mo stretchy="false">)</mo><mo>÷</mo><msub><mi>π</mi><mrow><mi>C</mi><mi>n</mi><mi>o</mi></mrow></msub><mo stretchy="false">(</mo><mi>C</mi><mi>o</mi><mi>u</mi><mi>r</mi><mi>s</mi><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\pi_{Sno,Cno}(SC)\div\pi_{Cno}(Course)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">o</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">SC</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">÷</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal">u</span><span class="mord mathnormal">rse</span><span class="mclose">)</span></span></span></span></h5>
</li>
</ul>
</li>
<li>
<h4 id="SQL：R-X-Y-div-S-Y-Z">SQL：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>÷</mo><mi>S</mi><mo stretchy="false">(</mo><mi>Y</mi><mo separator="true">,</mo><mi>Z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(X,Y)\div S(Y,Z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">÷</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span></span></span></span></h4>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> R.X <span class="keyword">from</span> R <span class="keyword">as</span> R1</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">(</span><br><span class="line">  <span class="keyword">select</span> S.Y <span class="keyword">from</span> S</span><br><span class="line">   <span class="keyword">where</span> <span class="keyword">not</span> <span class="keyword">exists</span></span><br><span class="line">   (</span><br><span class="line">     <span class="keyword">select</span><span class="operator">*</span> <span class="keyword">from</span> R <span class="keyword">as</span> R2</span><br><span class="line">     <span class="keyword">where</span> R2.X <span class="operator">=</span> R1.X <span class="keyword">and</span> R2.Y <span class="operator">=</span> S.Y</span><br><span class="line">   )</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h1>第三章 关系数据库标准语言SQL</h1>
<h2 id="SQL概述">SQL概述</h2>
<h3 id="SQL：结构化查询语言，关系数据库的标准语言">SQL：结构化查询语言，关系数据库的标准语言</h3>
<h3 id="SQL特点：">SQL特点：</h3>
<ul>
<li>
<h4 id="综合统一：">综合统一：</h4>
<ul>
<li>
<h5 id="集数据定义语言-DDL-、数据操纵语言-DML-、数据控制语言-DCL-于一体。还有事物控制语言-TCL">集数据定义语言(DDL)、数据操纵语言(DML)、数据控制语言(DCL)于一体。还有事物控制语言(TCL)</h5>
</li>
<li>
<h5 id="DDL：数据库结构schema定义：create、alter、drop">DDL：数据库结构schema定义：create、alter、drop</h5>
</li>
<li>
<h5 id="DML：数据查询与修改：insert、select、update、delete">DML：数据查询与修改：insert、select、update、delete</h5>
</li>
<li>
<h5 id="DCL：权限控制：grant、revoke">DCL：权限控制：grant、revoke</h5>
</li>
<li>
<h5 id="TCL：保障数据修改的原子性：begin-transaction、commit、rollback">TCL：保障数据修改的原子性：begin transaction、commit、rollback</h5>
</li>
</ul>
</li>
<li>
<h4 id="高度非过程化">高度非过程化</h4>
</li>
<li>
<h4 id="面向集合的操作方式">面向集合的操作方式</h4>
</li>
<li>
<h4 id="以同一种语法结构提供多种使用方式">以同一种语法结构提供多种使用方式</h4>
</li>
<li>
<h4 id="语言简洁，易学易用">语言简洁，易学易用</h4>
</li>
</ul>
<h2 id="学生-课程数据库">学生-课程数据库</h2>
<h2 id="数据定义：create-alter-drop">数据定义：create/alter/drop</h2>
<ul>
<li>
<h3 id="模式定义-mysql中与database等价-：定义了一个命名空间">模式定义(mysql中与database等价)：定义了一个命名空间</h3>
</li>
<li>
<h3 id="表定义">表定义</h3>
<ul>
<li>
<h4 id="创建">创建</h4>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="operator">&lt;</span>tableName<span class="operator">&gt;</span>(</span><br><span class="line">    <span class="operator">&lt;</span>colname<span class="operator">&gt;</span><span class="operator">&lt;</span>datatype<span class="operator">&gt;</span>[<span class="operator">&lt;</span>col <span class="keyword">constraint</span><span class="operator">&gt;</span>]</span><br><span class="line">    ...</span><br><span class="line">    [<span class="operator">&lt;</span><span class="keyword">table</span> <span class="keyword">constraint</span><span class="operator">&gt;</span>]</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li>
<h4 id="数据类型：域">数据类型：域</h4>
</li>
<li>
<h4 id="字符串常量：单引号">字符串常量：单引号</h4>
</li>
<li>
<h4 id="两个连续单引号转义为一个">两个连续单引号转义为一个</h4>
</li>
<li>
<h4 id="双引号标识关键字、对象名、字段名">双引号标识关键字、对象名、字段名</h4>
</li>
<li>
<h4 id="修改">修改</h4>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> <span class="operator">&lt;</span>tableName<span class="operator">&gt;</span>(</span><br><span class="line">    [<span class="keyword">ADD</span> <span class="operator">&lt;</span>colname<span class="operator">&gt;</span><span class="operator">&lt;</span>datatype<span class="operator">&gt;</span>[<span class="operator">&lt;</span>col <span class="keyword">constraint</span><span class="operator">&gt;</span>]]</span><br><span class="line">    ...</span><br><span class="line">    [<span class="keyword">ADD</span>[<span class="operator">&lt;</span><span class="keyword">table</span> <span class="keyword">constraint</span><span class="operator">&gt;</span>]]</span><br><span class="line">    [<span class="keyword">DROP</span> constraint...]</span><br><span class="line">    [<span class="keyword">alter</span> <span class="keyword">column</span> <span class="operator">&lt;</span>name<span class="operator">&gt;</span><span class="operator">&lt;</span>type<span class="operator">&gt;</span>]</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>删除</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="operator">&lt;</span>name<span class="operator">&gt;</span> [restrict<span class="operator">|</span>cascade]</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<h3 id="视图和索引定义">视图和索引定义</h3>
<ul>
<li>
<h4 id="索引目的：加快查询速度">索引目的：加快查询速度</h4>
</li>
<li>
<h4 id="顺序索引、B-树索引、散列索引、位图索引">顺序索引、B+树索引、散列索引、位图索引</h4>
</li>
</ul>
</li>
</ul>
<h2 id="数据查询">数据查询</h2>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> [<span class="keyword">all</span><span class="operator">|</span><span class="keyword">distinct</span>] <span class="operator">&lt;</span>colname<span class="operator">&gt;</span>[,...]</span><br><span class="line"><span class="keyword">from</span> <span class="operator">&lt;</span>tablename<span class="operator">&gt;</span>[,...]<span class="operator">|</span>(<span class="keyword">select</span>) [<span class="keyword">as</span> [othername]]</span><br><span class="line">[<span class="keyword">where</span> <span class="operator">&lt;&gt;</span>]</span><br><span class="line">[<span class="keyword">group</span> <span class="keyword">by</span> <span class="operator">&lt;</span>colname<span class="operator">&gt;</span> [<span class="keyword">having</span> <span class="operator">&lt;&gt;</span>]</span><br><span class="line">[<span class="keyword">order</span> <span class="keyword">by</span> <span class="operator">&lt;</span>colname<span class="operator">&gt;</span> [<span class="keyword">asc</span><span class="operator">|</span><span class="type">dec</span>]]</span><br></pre></td></tr></table></figure>
<ul>
<li>
<h3 id="等值连接：">等值连接：</h3>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">where</span> A<span class="operator">=</span>B</span><br></pre></td></tr></table></figure>
</li>
<li>
<h3 id="自然连接：">自然连接：</h3>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">table1 <span class="keyword">natural</span> <span class="keyword">join</span> table2</span><br></pre></td></tr></table></figure>
</li>
<li>
<h3 id="自身连接：需要给表起别名以区别">自身连接：需要给表起别名以区别</h3>
</li>
<li>
<h3 id="外连接：">外连接：</h3>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Student.Sno, Sname, Ssex, Sage, Sdept, Cno, Grade </span><br><span class="line"><span class="keyword">FROM</span> Student <span class="keyword">LEFT</span>[<span class="keyword">RIGHT</span><span class="operator">|</span><span class="keyword">FULL</span>] <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> SC <span class="keyword">ON</span> (Student.Sno<span class="operator">=</span>SC.Sno)</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">NATURAL</span> <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> SC;</span><br></pre></td></tr></table></figure>
</li>
<li>
<h3 id="嵌套查询：">嵌套查询：</h3>
<ul>
<li>
<h4 id="将一个查询块嵌套在另一个查询块的WHERE子句或HAVING短语的条件中">将一个查询块嵌套在另一个查询块的WHERE子句或HAVING短语的条件中</h4>
</li>
<li>
<h4 id="子查询不能使用order-by">子查询不能使用<code>order by</code></h4>
</li>
<li>
<h4 id="不相关子查询：子查询的查询条件不依赖于父查询">不相关子查询：子查询的查询条件不依赖于父查询</h4>
</li>
<li>
<h4 id="相关子查询：子查询的查询条件依赖于父查询">相关子查询：子查询的查询条件依赖于父查询</h4>
</li>
</ul>
</li>
</ul>
<h2 id="数据更新">数据更新</h2>
<h3 id="插入：">插入：</h3>
<ul>
<li>
<h4 id="将新元组插入指定表中">将新元组插入指定表中</h4>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [(<span class="operator">&lt;</span>属性列<span class="number">1</span><span class="operator">&gt;</span>[,<span class="operator">&lt;</span>属性列<span class="number">2</span> <span class="operator">&gt;</span>…)] </span><br><span class="line"><span class="keyword">VALUES</span> (<span class="operator">&lt;</span>常量<span class="number">1</span><span class="operator">&gt;</span> [,<span class="operator">&lt;</span>常量<span class="number">2</span><span class="operator">&gt;</span>]… );</span><br></pre></td></tr></table></figure>
</li>
<li>
<h4 id="插入子查询结果">插入子查询结果</h4>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [(<span class="operator">&lt;</span>属性列<span class="number">1</span><span class="operator">&gt;</span> [,<span class="operator">&lt;</span>属性列<span class="number">2</span><span class="operator">&gt;</span>… )] </span><br><span class="line">子查询;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="修改：">修改：</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> <span class="keyword">SET</span> <span class="operator">&lt;</span>列名<span class="operator">&gt;=</span><span class="operator">&lt;</span>表达式<span class="operator">&gt;</span>[,<span class="operator">&lt;</span>列名<span class="operator">&gt;=</span><span class="operator">&lt;</span>表达式<span class="operator">&gt;</span>]… </span><br><span class="line">[<span class="keyword">WHERE</span> <span class="operator">&lt;</span>条件<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>
<h3 id="删除：">删除：</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">FROM</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> </span><br><span class="line">[<span class="keyword">WHERE</span> <span class="operator">&lt;</span>条件<span class="operator">&gt;</span>];</span><br></pre></td></tr></table></figure>
<h2 id="空值处理">空值处理</h2>
<ul>
<li>
<h3 id="主码、unique、not-null不能取空值">主码、unique、not null不能取空值</h3>
</li>
<li>
<h3 id="判断：is-null-is-not-null">判断：is null/is not null</h3>
</li>
</ul>
<h2 id="视图">视图</h2>
<ul>
<li>
<h3 id="虚表">虚表</h3>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> <span class="operator">&lt;</span>视图名<span class="operator">&gt;</span> [(<span class="operator">&lt;</span>列名<span class="operator">&gt;</span> [,<span class="operator">&lt;</span>列名<span class="operator">&gt;</span>]…)] <span class="keyword">AS</span> <span class="operator">&lt;</span>子查询<span class="operator">&gt;</span> [<span class="keyword">WITH</span> <span class="keyword">CHECK</span> OPTION];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1>第四章 数据库安全性</h1>
<h2 id="概述">概述</h2>
<h3 id="定义：保护数据库以防止不合法使用所造成的数据泄露、更改或破坏">定义：保护数据库以防止不合法使用所造成的数据泄露、更改或破坏</h3>
<h3 id="主要评价指标：系用安全保护措施是否有效">主要评价指标：系用安全保护措施是否有效</h3>
<h3 id="安全目标：保密性、完整性、可用性">安全目标：保密性、完整性、可用性</h3>
<h3 id="安全标准：TCSEC标准-可信计算机系统评估准则-、TDI-可信数据库系统解释">安全标准：TCSEC标准(可信计算机系统评估准则)、TDI(可信数据库系统解释)</h3>
<h3 id="安全级别划分：四组七级">安全级别划分：四组七级</h3>
<ul>
<li>D：最小保护</li>
<li>C(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>C</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">C_1,C_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)：自主保护</li>
<li>B(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>B</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>B</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">B_1,B_2,B_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)：强制保护</li>
<li>A(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)：认证保护</li>
</ul>
<h2 id="安全性控制">安全性控制</h2>
<h3 id="数据库备份与恢复-后续">数据库备份与恢复(后续)</h3>
<h3 id="存取控制：">存取控制：</h3>
<ul>
<li>
<h4 id="自主存取控制-DAC-：C2">自主存取控制(DAC)：C2</h4>
<ul>
<li>
<h5 id="grant">grant</h5>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="operator">&lt;</span>权限<span class="operator">&gt;</span> [,<span class="operator">&lt;</span>权限<span class="operator">&gt;</span>]...</span><br><span class="line"><span class="keyword">ON</span> <span class="operator">&lt;</span>对象类型<span class="operator">&gt;</span> <span class="operator">&lt;</span>对象名<span class="operator">&gt;</span>[,<span class="operator">&lt;</span>对象类型<span class="operator">&gt;</span> <span class="operator">&lt;</span>对象名<span class="operator">&gt;</span>]… </span><br><span class="line"><span class="keyword">TO</span> <span class="operator">&lt;</span>用户<span class="operator">&gt;</span>[,<span class="operator">&lt;</span>用户<span class="operator">&gt;</span>]...</span><br><span class="line">[<span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION]; <span class="operator">/</span><span class="operator">/</span>针对数据对象</span><br></pre></td></tr></table></figure>
</li>
<li>
<h5 id="revoke">revoke</h5>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">REVOKE</span> <span class="operator">&lt;</span>权限<span class="operator">&gt;</span>[,<span class="operator">&lt;</span>权限<span class="operator">&gt;</span>]...</span><br><span class="line"><span class="keyword">ON</span> <span class="operator">&lt;</span>对象类型<span class="operator">&gt;</span> <span class="operator">&lt;</span>对象名<span class="operator">&gt;</span>[,<span class="operator">&lt;</span>对象类型<span class="operator">&gt;</span><span class="operator">&lt;</span>对象名<span class="operator">&gt;</span>]… </span><br><span class="line"><span class="keyword">FROM</span> <span class="operator">&lt;</span>用户<span class="operator">&gt;</span>[,<span class="operator">&lt;</span>用户<span class="operator">&gt;</span>]...[CASCADE <span class="operator">|</span> RESTRICT];</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<h4 id="强制存取控制-MAC-：B1">强制存取控制(MAC)：B1</h4>
</li>
</ul>
<h1>第五章 数据库完整性</h1>
<h2 id="数据库完整性概念：防止数据库中存在不符合语义的数据">数据库完整性概念：防止数据库中存在不符合语义的数据</h2>
<ul>
<li>
<h3 id="数据的正确性：符合现实世界语义">数据的正确性：符合现实世界语义</h3>
</li>
<li>
<h3 id="数据的相容性：符合逻辑">数据的相容性：符合逻辑</h3>
</li>
</ul>
<h2 id="实体完整性：">实体完整性：</h2>
<h3 id="定义">定义</h3>
<ul>
<li>
<h4 id="关系模型的实体完整性：create-table-中用primary-key定义">关系模型的实体完整性：create table 中用primary key定义</h4>
</li>
<li>
<h4 id="单属性构成的主键有两种说明方法">单属性构成的主键有两种说明方法:</h4>
<ul>
<li>
<h5 id="定义为列级约束条件">定义为列级约束条件</h5>
</li>
<li>
<h5 id="定义为表级约束条件">定义为表级约束条件</h5>
</li>
</ul>
</li>
<li>
<h4 id="对多个属性构成的主键只有一种说明方法：">对多个属性构成的主键只有一种说明方法：</h4>
<ul>
<li>
<h5 id="定义为表级约束条件-2">定义为表级约束条件</h5>
</li>
</ul>
</li>
</ul>
<h3 id="检查和违约处理">检查和违约处理</h3>
<ul>
<li>
<h4 id="主码值是否唯一">主码值是否唯一</h4>
</li>
<li>
<h4 id="主码各属性是否为空">主码各属性是否为空</h4>
</li>
</ul>
<h2 id="参照完整性-2">参照完整性</h2>
<h3 id="定义-2">定义</h3>
<ul>
<li>
<h4 id="create-table中用froeign-key定义外码">create table中用froeign key定义外码</h4>
</li>
<li>
<h4 id="references指明外码参照哪些表的主码">references指明外码参照哪些表的主码</h4>
</li>
</ul>
<h3 id="检查和违约处理-2">检查和违约处理</h3>
<ul>
<li>
<h4 id="两个表将相应的元组联系起来，检查是否会破坏参照完整性">两个表将相应的元组联系起来，检查是否会破坏参照完整性</h4>
</li>
<li>
<h4 id="处理：拒绝执行、级联操作、设置空值">处理：拒绝执行、级联操作、设置空值</h4>
</li>
</ul>
<h2 id="用户定义的完整性">用户定义的完整性</h2>
<h3 id="定义：针对某一具体应用的数据必须满足的语义的要去">定义：针对某一具体应用的数据必须满足的语义的要去</h3>
<h3 id="属性上的约束条件：">属性上的约束条件：</h3>
<ul>
<li>
<h4 id="列值非空">列值非空</h4>
</li>
<li>
<h4 id="列值唯一">列值唯一</h4>
</li>
<li>
<h4 id="检查列值是否满足一个条件表达式">检查列值是否满足一个条件表达式</h4>
</li>
</ul>
<h3 id="属性上的约束条件检查和违约处理">属性上的约束条件检查和违约处理</h3>
<ul>
<li>
<h4 id="检查是否被满足，不满足则拒绝执行">检查是否被满足，不满足则拒绝执行</h4>
</li>
</ul>
<h3 id="元组上的约束条件">元组上的约束条件</h3>
<ul>
<li>
<h4 id="check定义元组级的限制">check定义元组级的限制</h4>
</li>
<li>
<h4 id="可设置不同属性之间的取值的相互约束条件">可设置不同属性之间的取值的相互约束条件</h4>
</li>
</ul>
<h3 id="元组上的约束条件检查和违约处理">元组上的约束条件检查和违约处理</h3>
<ul>
<li>
<h4 id="检查是否被满足，不满足则拒绝执行-2">检查是否被满足，不满足则拒绝执行</h4>
</li>
</ul>
<h2 id="完整性约束命名子句">完整性约束命名子句</h2>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CONSTRAINT</span> <span class="operator">&lt;</span>完整性约束条件名<span class="operator">&gt;</span> <span class="operator">&lt;</span>完整性约束条件<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="触发器">触发器</h2>
<h3 id="定义：">定义：</h3>
<ul>
<li>
<h4 id="用户定义在关系表上的一类由事件驱动的特殊过程">用户定义在关系表上的一类由事件驱动的特殊过程</h4>
</li>
<li>
<h4 id="保存在数据库服务器中">保存在数据库服务器中</h4>
</li>
</ul>
<h3 id="类型：">类型：</h3>
<ul>
<li>
<h4 id="行级触发器">行级触发器</h4>
</li>
<li>
<h4 id="语句级触发器">语句级触发器</h4>
</li>
</ul>
<h1>第六章 关系数据理论</h1>
<h2 id="问题的提出">问题的提出</h2>
<h2 id="规范化">规范化</h2>
<h3 id="函数依赖">函数依赖</h3>
<ul>
<li>
<h4 id="定义：X函数确定Y-Y函数依赖于X-，记作：X-rightarrow-Y，称X是函数依赖的决定因素">定义：X函数确定Y(Y函数依赖于X)，记作：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X\rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>，称X是函数依赖的决定因素</h4>
<ul>
<li>
<h5 id="相互依赖：X-rightarrow-Y-wedge-Y-rightarrow-X-Rightarrow-X-leftrightarrow-Y">相互依赖：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>→</mo><mi>Y</mi><mo>∧</mo><mi>Y</mi><mo>→</mo><mi>X</mi><mo>⇒</mo><mi>X</mi><mo>↔</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X\rightarrow Y \wedge Y\rightarrow X\Rightarrow X\leftrightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">↔</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span></h5>
</li>
<li>
<h5 id="不函数依赖：X-nrightarrow-Y">不函数依赖：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>↛</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X \nrightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">↛</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span></h5>
</li>
</ul>
</li>
<li>
<h4 id="语义范畴：根据数据语义确定一个函数依赖">语义范畴：根据数据语义确定一个函数依赖</h4>
</li>
<li>
<h4 id="非平凡函数依赖：Y-nsubseteq-X">非平凡函数依赖：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>⊈</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">Y\nsubseteq X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0966em;vertical-align:-0.3027em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">⊈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span></h4>
</li>
<li>
<h4 id="平凡函数依赖：Y-subseteq-X">平凡函数依赖：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>⊆</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">Y\subseteq X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span></h4>
</li>
<li>
<h4 id="完全函数依赖：X-overset-F-rightarrow-Y-不存在X的真子集函数决定Y">完全函数依赖：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo><mover><mo><mo>→</mo></mo><mi>F</mi></mover></mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X \overset{F}{\rightarrow}Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1452em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1452em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">→</span></span></span><span style="top:-3.5669em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>,不存在X的真子集函数决定Y</h4>
</li>
<li>
<h4 id="部分函数依赖：X-overset-P-rightarrow-Y，存在X的真子集函数决定Y">部分函数依赖：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo><mover><mo><mo>→</mo></mo><mi>P</mi></mover></mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X \overset{P}{\rightarrow}Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1452em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1452em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">→</span></span></span><span style="top:-3.5669em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>，存在X的真子集函数决定Y</h4>
</li>
<li>
<h4 id="传递函数依赖：X-rightarrow-Y-Y-rightarrow-Z-Rightarrow-X-overset-mathrm-传递-rightarrow-Z，其中X和Y不是相互依赖，都不是平凡函数依赖">传递函数依赖：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>→</mo><mi>Y</mi><mo separator="true">,</mo><mi>Y</mi><mo>→</mo><mi>Z</mi><mo>⇒</mo><mi>X</mi><mo><mover><mo><mo>→</mo></mo><mtext>传递</mtext></mover></mo><mi>Z</mi></mrow><annotation encoding="application/x-tex">X\rightarrow Y,Y\rightarrow Z\Rightarrow X \overset{\mathrm{传递}}{\rightarrow}Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1452em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1452em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">→</span></span></span><span style="top:-3.5669em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm cjk_fallback mtight">传递</span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span></span></span></span>，其中X和Y不是相互依赖，都不是平凡函数依赖</h4>
<ul>
<li>
<h5 id="存在非受控冗余">存在非受控冗余</h5>
</li>
</ul>
</li>
</ul>
<h3 id="码-键">码/键</h3>
<ul>
<li>
<h4 id="候选码：K-overset-F-rightarrow-U">候选码：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo><mover><mo><mo>→</mo></mo><mi>F</mi></mover></mo><mi>U</mi></mrow><annotation encoding="application/x-tex">K\overset{F}{\rightarrow}U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1452em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1452em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">→</span></span></span><span style="top:-3.5669em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></span></span></span></h4>
</li>
<li>
<h4 id="超码：K-overset-P-rightarrow-U">超码：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo><mover><mo><mo>→</mo></mo><mi>P</mi></mover></mo><mi>U</mi></mrow><annotation encoding="application/x-tex">K\overset{P}{\rightarrow}U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1452em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1452em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">→</span></span></span><span style="top:-3.5669em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></span></span></span></h4>
</li>
</ul>
<h3 id="函数依赖的公理：对于满足一组函数依赖F的关系模式R-U-F-，其任何一个关系r，若函数依赖X→Y都成立-即r中任意两元组t、s，若t-X-s-X-，则-t-Y-s-Y-，则称F逻辑蕴涵X-→Y。">函数依赖的公理：对于满足一组函数依赖F的关系模式R &lt;U,F&gt;，其任何一个关系r，若函数依赖X→Y都成立(即r中任意两元组t、s，若t[X]=s[X]，则 t[Y]=s[Y])，则称F逻辑蕴涵X →Y。</h3>
<h3 id="范式-NF-：符合某一种级别的关系模式的集合">范式(NF)：符合某一种级别的关系模式的集合</h3>
<ul>
<li>
<h4 id="5NF-sub-4NF-sub-BCNF-sub-3NF-sub-2NF-sub1NF"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mi>N</mi><mi>F</mi><mo>⊂</mo><mn>4</mn><mi>N</mi><mi>F</mi><mo>⊂</mo><mi>B</mi><mi>C</mi><mi>N</mi><mi>F</mi><mo>⊂</mo><mn>3</mn><mi>N</mi><mi>F</mi><mo>⊂</mo><mn>2</mn><mi>N</mi><mi>F</mi><mo>⊂</mo><mn>1</mn><mi>N</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">5NF\sub 4NF\sub BCNF\sub 3NF\sub 2NF\sub1NF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord">5</span><span class="mord mathnormal" style="margin-right:0.13889em;">NF</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.13889em;">NF</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">BCNF</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.13889em;">NF</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.13889em;">NF</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊂</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord mathnormal" style="margin-right:0.13889em;">NF</span></span></span></span></h4>
</li>
<li>
<h4 id="规范化：一个低一级范式的关系模式，通过模式分解，可转换为若干个高一级范式的关系模式的集合">规范化：一个低一级范式的关系模式，通过模式分解，可转换为若干个高一级范式的关系模式的集合</h4>
</li>
</ul>
<h3 id="1NF">1NF</h3>
<ul>
<li>
<h4 id="二维表的每个分量不可再分">二维表的每个分量不可再分</h4>
</li>
<li>
<h4 id="关系数据库中对关系模式的基本要求">关系数据库中对关系模式的基本要求</h4>
</li>
</ul>
<h3 id="2NF">2NF</h3>
<ul>
<li>
<h4 id="R-in-1NF，且每个非主属性都完全函数依赖于任何一个候选码，则R-in2NF"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>∈</mo><mn>1</mn><mi>N</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">R\in 1NF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord mathnormal" style="margin-right:0.13889em;">NF</span></span></span></span>，且每个非主属性都完全函数依赖于任何一个候选码，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>∈</mo><mn>2</mn><mi>N</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">R\in2NF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.13889em;">NF</span></span></span></span></h4>
</li>
<li>
<h4 id="问题：插入异常、删除异常、修改复杂">问题：插入异常、删除异常、修改复杂</h4>
</li>
<li>
<h4 id="原因：存在对候选码-复合主键-的部分函数依赖">原因：存在对候选码(复合主键)的部分函数依赖</h4>
</li>
<li>
<h4 id="如果单一候选码，自然是2NF">如果单一候选码，自然是2NF</h4>
</li>
</ul>
<h3 id="3NF">3NF</h3>
<ul>
<li>
<h4 id="R-in-1NF，不存在传递依赖，则R-in-3NF"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>∈</mo><mn>1</mn><mi>N</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">R\in 1NF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord mathnormal" style="margin-right:0.13889em;">NF</span></span></span></span>，不存在传递依赖，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>∈</mo><mn>3</mn><mi>N</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">R\in 3NF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.13889em;">NF</span></span></span></span></h4>
</li>
<li>
<h4 id="消除非主属性对候选码的传递依赖">消除非主属性对候选码的传递依赖</h4>
</li>
</ul>
<h3 id="BCNF-修正的第三范式">BCNF(修正的第三范式)</h3>
<ul>
<li>
<h4 id="R-in-1NF，X-rightarrow-Y时-非平凡-，X必含有码，则R-in-BCNF"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>∈</mo><mn>1</mn><mi>N</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">R\in 1NF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord mathnormal" style="margin-right:0.13889em;">NF</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X\rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>时(非平凡)，X必含有码，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>∈</mo><mi>B</mi><mi>C</mi><mi>N</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">R\in BCNF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">BCNF</span></span></span></span></h4>
</li>
<li>
<h4 id="每一个决定属性集都包含候选码-即每个属性集都是超码">每一个决定属性集都包含候选码(即每个属性集都是超码)</h4>
</li>
<li>
<h4 id="除了所有属性-组-对候选码的依赖关系之外，没有任何其他依赖关系">除了所有属性(组)对候选码的依赖关系之外，没有任何其他依赖关系</h4>
</li>
<li>
<h4 id="函数依赖范畴内，实现模式的彻底分解，达到了最高规范化程度">函数依赖范畴内，实现模式的彻底分解，达到了最高规范化程度</h4>
</li>
<li>
<h4 id="消除了插入一场和删除异常">消除了插入一场和删除异常</h4>
</li>
</ul>
<h3 id="多值依赖">多值依赖</h3>
<ul>
<li>
<h4 id="X-rightarrow-rightarrow-Y等价于-forall-x-z-exist-y仅与x有关而与z无关"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>→</mo><mo>→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X\rightarrow\rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>等价于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>z</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="normal">∃</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">\forall(x,z),\exist y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∀</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∃</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>仅与x有关而与z无关</h4>
</li>
<li>
<h4 id="X-Y-Z-U"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>+</mo><mi>Y</mi><mo>+</mo><mi>Z</mi><mo>=</mo><mi>U</mi></mrow><annotation encoding="application/x-tex">X+Y+Z=U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></span></span></span></h4>
</li>
<li>
<h4 id="平凡的多值依赖：Z-Phi">平凡的多值依赖：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>=</mo><mi mathvariant="normal">Φ</mi></mrow><annotation encoding="application/x-tex">Z=\Phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Φ</span></span></span></span></h4>
</li>
<li>
<h4 id="函数依赖-FD-是多值依赖-MVD-的特殊情况：X-rightarrow-Y-Rightarrow-X-rightarrow-rightarrow-Y">函数依赖(FD)是多值依赖(MVD)的特殊情况：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>→</mo><mi>Y</mi><mo>⇒</mo><mi>X</mi><mo>→</mo><mo>→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X\rightarrow Y\Rightarrow X\rightarrow\rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span></h4>
</li>
<li>
<h4 id="Y和Z是独立的，地位等价，具有对称性">Y和Z是独立的，地位等价，具有对称性</h4>
</li>
</ul>
<h3 id="4NF">4NF</h3>
<ul>
<li>
<h4 id="R-in-1NF，每个非平凡的多值依赖X-rightarrow-rightarrow-Y，X都含有码，则R-in-4NF"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>∈</mo><mn>1</mn><mi>N</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">R\in 1NF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord mathnormal" style="margin-right:0.13889em;">NF</span></span></span></span>，每个非平凡的多值依赖<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>→</mo><mo>→</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X\rightarrow\rightarrow Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span>，X都含有码，则<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo>∈</mo><mn>4</mn><mi>N</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">R\in 4NF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.13889em;">NF</span></span></span></span></h4>
</li>
<li>
<h4 id="不允许有非平凡且非函数依赖的多值依赖">不允许有非平凡且非函数依赖的多值依赖</h4>
</li>
</ul>
<h3 id="关系模式规范化的基本步骤">关系模式规范化的基本步骤</h3>
<h4 id="1NF-2">1NF</h4>
<h4 id="downarrow-消除非主属性对码的部分函数依赖"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↓</mo></mrow><annotation encoding="application/x-tex">\downarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel">↓</span></span></span></span> 消除非主属性对码的部分函数依赖</h4>
<h4 id="2NF-2">2NF</h4>
<h4 id="downarrow-消除非主属性对码的传递函数依赖"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↓</mo></mrow><annotation encoding="application/x-tex">\downarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel">↓</span></span></span></span> 消除非主属性对码的传递函数依赖</h4>
<h4 id="3NF-2">3NF</h4>
<h4 id="downarrow-消除-主属性-对码的部分函数依赖和传递函数依赖"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↓</mo></mrow><annotation encoding="application/x-tex">\downarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel">↓</span></span></span></span> 消除==<strong>主属性</strong>==对码的部分函数依赖和传递函数依赖</h4>
<h4 id="BCNF-1-rightarrow-BC：消除决定因素非码的非平凡函数依赖">BCNF(1<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo><mi>B</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">\rightarrow BC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">BC</span></span></span></span>：消除决定因素非码的非平凡函数依赖)</h4>
<h4 id="downarrow-消除非平凡且非函数依赖的多值依赖"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>↓</mo></mrow><annotation encoding="application/x-tex">\downarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mrel">↓</span></span></span></span> 消除非平凡且非函数依赖的多值依赖</h4>
<h4 id="4NF-2">4NF</h4>
<h2 id="数据依赖的公理系统">数据依赖的公理系统</h2>
<h3 id="Armstrong公理系统：">Armstrong公理系统：</h3>
<ul>
<li>
<h4 id="自反律">自反律</h4>
</li>
<li>
<h4 id="增广律">增广律</h4>
</li>
<li>
<h4 id="传递律">传递律</h4>
</li>
</ul>
<h3 id="推理规则：">推理规则：</h3>
<ul>
<li>
<h4 id="合并规则：X-rightarrow-Y-X-rightarrow-Z-Rightarrow-X-rightarrow-YZ">合并规则：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>→</mo><mi>Y</mi><mo separator="true">,</mo><mi>X</mi><mo>→</mo><mi>Z</mi><mo>⇒</mo><mi>X</mi><mo>→</mo><mi>Y</mi><mi>Z</mi></mrow><annotation encoding="application/x-tex">X\rightarrow Y,X\rightarrow Z\Rightarrow X\rightarrow YZ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span></span></span></span></h4>
</li>
<li>
<h4 id="伪传递规则：X-rightarrow-Y-WY-rightarrow-Z-Rightarrow-XW-rightarrow-Z">伪传递规则：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>→</mo><mi>Y</mi><mo separator="true">,</mo><mi>W</mi><mi>Y</mi><mo>→</mo><mi>Z</mi><mo>⇒</mo><mi>X</mi><mi>W</mi><mo>→</mo><mi>Z</mi></mrow><annotation encoding="application/x-tex">X\rightarrow Y,WY\rightarrow Z\Rightarrow XW\rightarrow Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">WY</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span></span></span></span></h4>
</li>
<li>
<h4 id="分解规则：X-rightarrow-Y-Z-subseteq-Y-Rightarrow-X-rightarrow-Z">分解规则：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>→</mo><mi>Y</mi><mo separator="true">,</mo><mi>Z</mi><mo>⊆</mo><mi>Y</mi><mo>⇒</mo><mi>X</mi><mo>→</mo><mi>Z</mi></mrow><annotation encoding="application/x-tex">X\rightarrow Y,Z\subseteq Y \Rightarrow X\rightarrow Z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span></span></span></span></h4>
</li>
</ul>
<h1>第七章 数据库设计</h1>
<h2 id="数据库设计概述">数据库设计概述</h2>
<ul>
<li>
<h4 id="6个阶段">6个阶段</h4>
</li>
</ul>
<h2 id="需求分析">需求分析</h2>
<h2 id="概念结构设计">概念结构设计</h2>
<ul>
<li>
<h4 id="将需求分析得到的用户需求抽象为信息结构-概念模型">将需求分析得到的用户需求抽象为信息结构(概念模型)</h4>
</li>
</ul>
<h3 id="概念模型">概念模型</h3>
<ul>
<li>
<h4 id="反映现实世界，是现实世界的一个真实模型">反映现实世界，是现实世界的一个真实模型</h4>
</li>
</ul>
<h3 id="E-R模型">E-R模型</h3>
<ul>
<li>
<h4 id="实体之间的联系：1-1、1：n、m：n">实体之间的联系：1:1、1：n、m：n</h4>
</li>
</ul>
<h2 id="逻辑结构设计">逻辑结构设计</h2>
<ul>
<li>
<h4 id="用Crow’s-Foot-ERD建模">用Crow’s Foot ERD建模</h4>
</li>
<li>
<h4 id="根据关系数据库-范式分解理论-，消除属性依赖与冗余，明确主键、外键参照关系，消除实体间-多对多-的关系">根据关系数据库==范式分解理论==，消除属性依赖与冗余，明确主键、外键参照关系，消除实体间==多对多==的关系</h4>
</li>
<li>
<h4 id="按照规范化理论分解到3NF">按照规范化理论分解到3NF</h4>
</li>
</ul>
<h2 id="物理结构设计">物理结构设计</h2>
<ul>
<li>
<h4 id="数据库在物理设备上的存储结构与存取方法称为数据库的物理结构，它依赖于选定的数据库管理系统。">数据库在物理设备上的存储结构与存取方法称为数据库的物理结构，它依赖于选定的数据库管理系统。</h4>
</li>
<li>
<h4 id="确定数据库物理结构主要指确定数据的存放位置和存储结-构">确定数据库物理结构主要指确定数据的存放位置和存储结 构</h4>
</li>
</ul>
<h2 id="数据库的实施和维护">数据库的实施和维护</h2>
<h1>第八章 数据库编程</h1>
<h2 id="过程化SQL">过程化SQL</h2>
<ul>
<li>
<h3 id="业务逻辑在数据库上实现">业务逻辑在数据库上实现</h3>
</li>
</ul>
<h3 id="过程化SQL的块结构">过程化SQL的块结构</h3>
<ul>
<li>
<h4 id="SQL的扩展">SQL的扩展</h4>
</li>
<li>
<h4 id="增加了过程化语句功能">增加了过程化语句功能</h4>
</li>
<li>
<h4 id="基本结构是块">基本结构是块</h4>
<ul>
<li>
<h5 id="块之间可以嵌套">块之间可以嵌套</h5>
</li>
<li>
<h5 id="每个块完成一个逻辑操作">每个块完成一个逻辑操作</h5>
</li>
</ul>
</li>
<li>
<h4 id="块的基本结构">块的基本结构</h4>
<ul>
<li>
<h5 id="定义部分">定义部分</h5>
</li>
<li>
<h5 id="执行部分">执行部分</h5>
</li>
</ul>
</li>
</ul>
<h3 id="变量和常量的定义">变量和常量的定义</h3>
<ul>
<li>
<h4 id="变量定义">变量定义</h4>
</li>
<li>
<h4 id="常量定义">常量定义</h4>
</li>
<li>
<h4 id="赋值语句">赋值语句</h4>
</li>
</ul>
<h3 id="流程控制">流程控制</h3>
<ul>
<li>
<h4 id="条件控制语句">条件控制语句</h4>
</li>
<li>
<h4 id="循环控制语句">循环控制语句</h4>
</li>
<li>
<h4 id="错误处理">错误处理</h4>
</li>
</ul>
<h2 id="JDBC编程">JDBC编程</h2>
<h3 id="JDBC-API">JDBC API</h3>
<h4 id="提供了一套访问任何RDBMS的标准接口">提供了一套访问任何RDBMS的标准接口</h4>
<ul>
<li>
<h4 id="JDBC-Driver">JDBC Driver</h4>
</li>
<li>
<h4 id="Connection">Connection</h4>
</li>
<li>
<h4 id="Statement">Statement</h4>
</li>
<li>
<h4 id="ResultSet">ResultSet</h4>
</li>
</ul>
<h3 id="SQL注入">SQL注入</h3>
<ul>
<li>
<h4 id="高级代码注入技术，发生在应用程序和数据库交互层的安全漏洞">高级代码注入技术，发生在应用程序和数据库交互层的安全漏洞</h4>
</li>
<li>
<h4 id="攻击者专门构造传递给数据库的SQL字符串，来修改SQL自身的语法和功能">攻击者专门构造传递给数据库的SQL字符串，来修改SQL自身的语法和功能</h4>
</li>
</ul>
<h3 id="SQL注入产生的技术根源">SQL注入产生的技术根源</h3>
<ul>
<li>
<h4 id="典型的B-S应用程序三层架构">典型的B/S应用程序三层架构</h4>
</li>
</ul>
<h3 id="方式：">方式：</h3>
<ul>
<li>
<h4 id="整数">整数</h4>
</li>
<li>
<h4 id="字符串">字符串</h4>
</li>
<li>
<h4 id="SQL注释">SQL注释</h4>
</li>
</ul>
<h3 id="预防：">预防：</h3>
<ul>
<li>
<h4 id="检查用户输入、转义特殊字符">检查用户输入、转义特殊字符</h4>
</li>
</ul>
<h1>第九章 关系查询处理和查询优化</h1>
<h2 id="关系数据库系统的查询处理">关系数据库系统的查询处理</h2>
<h3 id="查询处理阶段">查询处理阶段</h3>
<ul>
<li>
<h4 id="查询分析：对查询语句进行扫描、词法分析、语法分析">查询分析：对查询语句进行扫描、词法分析、语法分析</h4>
</li>
<li>
<h4 id="查询检查：合法性检查、视图转换、安全性检查-DAC、MAC-、完整性初步检查">查询检查：合法性检查、视图转换、安全性检查(DAC、MAC)、完整性初步检查</h4>
<ul>
<li>
<h5 id="检查通过后转为等价的关系代数表达式">检查通过后转为等价的关系代数表达式</h5>
</li>
<li>
<h5 id="使用查询树-语法分析树">使用查询树/语法分析树</h5>
</li>
</ul>
</li>
<li>
<h4 id="查询优化：选择一个高效执行的查询处理策略">查询优化：选择一个高效执行的查询处理策略</h4>
<ul>
<li>
<h5 id="选择依据：基于规则、代价、语义">选择依据：基于规则、代价、语义</h5>
</li>
</ul>
</li>
<li>
<h4 id="查询执行：依据优化器得到的执行策略生成查询执行计划">查询执行：依据优化器得到的执行策略生成查询执行计划</h4>
<ul>
<li>
<h5 id="代码生成器：生成执行查询计划的代码">代码生成器：生成执行查询计划的代码</h5>
</li>
</ul>
</li>
</ul>
<h2 id="关系数据库系统的查询优化">关系数据库系统的查询优化</h2>
<h3 id="选择操作：">选择操作：</h3>
<ul>
<li>
<h5 id="全表扫描方法：适合小表">全表扫描方法：适合小表</h5>
</li>
<li>
<h5 id="索引扫描方法：B-树索引、Hash索引">索引扫描方法：B+树索引、Hash索引</h5>
</li>
</ul>
<h3 id="连接操作：查询处理中最耗时之一">连接操作：查询处理中最耗时之一</h3>
<ul>
<li>
<h4 id="嵌套循环方法：遍历">嵌套循环方法：遍历</h4>
<ul>
<li>
<h5 id="可快速获取前几条查询记录">可快速获取前几条查询记录</h5>
</li>
<li>
<h5 id="理想场景：外表小，内表连接字段有唯一索引">理想场景：外表小，内表连接字段有唯一索引</h5>
</li>
</ul>
</li>
<li>
<h4 id="排序-合并算法">排序-合并算法</h4>
<ul>
<li>
<h5 id="先排序再扫描">先排序再扫描</h5>
</li>
<li>
<h5 id="只需各表扫描一遍">只需各表扫描一遍</h5>
</li>
</ul>
</li>
<li>
<h4 id="索引连接算法-嵌套循环的变种">索引连接算法(嵌套循环的变种)</h4>
<ul>
<li>
<h5 id="通过内表索引查找">通过内表索引查找</h5>
</li>
</ul>
</li>
<li>
<h4 id="Hash-Join算法">Hash Join算法</h4>
<ul>
<li>
<h5 id="把连接属性作为hash码">把连接属性作为hash码</h5>
</li>
<li>
<h5 id="划分阶段-试探-连接-阶段">划分阶段+试探(连接)阶段</h5>
</li>
<li>
<h5 id="大数据集连接常用，只能等值连接">大数据集连接常用，只能等值连接</h5>
</li>
<li>
<h5 id="适用于较小的表完全可以放于内存中的情况">适用于较小的表完全可以放于内存中的情况</h5>
</li>
</ul>
</li>
</ul>
<h2 id="代数优化">代数优化</h2>
<ul>
<li>
<h3 id="关系代数表达式的优化，通过对关系代数表达式的等价变换来提高查询效率">关系代数表达式的优化，通过对关系代数表达式的等价变换来提高查询效率</h3>
</li>
<li>
<h3 id="关系表达式等价，记作E-1-equiv-E-2">关系表达式等价，记作<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>E</mi><mn>1</mn></msub><mo>≡</mo><msub><mi>E</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">E_1\equiv E_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≡</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></h3>
</li>
</ul>
<h3 id="常用的等价变换规则">常用的等价变换规则</h3>
<ul>
<li>
<h4 id="连接、笛卡尔积的交换律和结合律">连接、笛卡尔积的交换律和结合律</h4>
</li>
<li>
<h4 id="投影的串接定律：子集关系下，最外层投影有效">投影的串接定律：子集关系下，最外层投影有效</h4>
</li>
<li>
<h4 id="选择的串接定律：选择条件可合并">选择的串接定律：选择条件可合并</h4>
</li>
<li>
<h4 id="选择与投影操作的交换律：与F涉及的属性有关">选择与投影操作的交换律：与F涉及的属性有关</h4>
</li>
<li>
<h4 id="选择和笛卡尔积的交换律：与F涉及的属性有关">选择和笛卡尔积的交换律：与F涉及的属性有关</h4>
</li>
<li>
<h4 id="选择与并的分配律">选择与并的分配律</h4>
</li>
<li>
<h4 id="选择与差的分配律">选择与差的分配律</h4>
</li>
<li>
<h4 id="选择对自然连接的分配律：F只涉及公共属性">选择对自然连接的分配律：F只涉及公共属性</h4>
</li>
<li>
<h4 id="投影对笛卡尔积的分配律：属性也需要分配">投影对笛卡尔积的分配律：属性也需要分配</h4>
</li>
<li>
<h4 id="投影与并的分配律">投影与并的分配律</h4>
</li>
</ul>
<h3 id="典型的启发式规则">典型的启发式规则</h3>
<ul>
<li>
<h4 id="选择运算尽可能先做">选择运算尽可能先做</h4>
</li>
<li>
<h4 id="投影和选择同时进行">投影和选择同时进行</h4>
</li>
<li>
<h4 id="…-…">… …</h4>
</li>
</ul>
<h2 id="物理优化">物理优化</h2>
<ul>
<li>
<h3 id="存取路径和底层操作算法的选择">存取路径和底层操作算法的选择</h3>
</li>
</ul>
<h3 id="方法">方法</h3>
<ul>
<li>
<h4 id="基于规则的启发式优化">基于规则的启发式优化</h4>
</li>
<li>
<h4 id="基于代价估算的优化">基于代价估算的优化</h4>
</li>
</ul>
<h1>第十章 数据库恢复技术</h1>
<h2 id="事务的基本概念">事务的基本概念</h2>
<h3 id="事务：">事务：</h3>
<ul>
<li>
<h4 id="用户定义的一个数据库操作序列，不可分割的工作单位">用户定义的一个数据库操作序列，不可分割的工作单位</h4>
</li>
</ul>
<h3 id="定义事务的语句：">定义事务的语句：</h3>
<ul>
<li>
<h4 id="BEGIN-TRANSACTION：开始">BEGIN TRANSACTION：开始</h4>
</li>
<li>
<h4 id="COMMIT：提交事务的所有操作">COMMIT：提交事务的所有操作</h4>
</li>
<li>
<h4 id="ROLLBACK：回滚，系统将事务中对数据库所有已完成的操作全部撤销">ROLLBACK：回滚，系统将事务中对数据库所有已完成的操作全部撤销</h4>
</li>
</ul>
<h3 id="事务的ACID特性：">事务的ACID特性：</h3>
<ul>
<li>
<h4 id="原子性：事务是数据库的逻辑工作单位">原子性：事务是数据库的逻辑工作单位</h4>
</li>
<li>
<h4 id="一致性：事务的执行结果必须是使数据库从一个一致性状态变到另一个一致性状态">一致性：事务的执行结果必须是使数据库从一个一致性状态变到另一个一致性状态</h4>
</li>
<li>
<h4 id="隔离性：一个事物的执行不能被其他事务干扰">隔离性：一个事物的执行不能被其他事务干扰</h4>
</li>
<li>
<h4 id="持续性：永久性，一个事物一旦提交，他对数据库中的数据的改变就应该是永久性的">持续性：永久性，一个事物一旦提交，他对数据库中的数据的改变就应该是永久性的</h4>
</li>
<li>
<h4 id="事务是恢复和并发控制的基本单位">事务是恢复和并发控制的基本单位</h4>
</li>
</ul>
<h2 id="数据库恢复概述">数据库恢复概述</h2>
<h2 id="故障种类">故障种类</h2>
<h3 id="事务内部的故障">事务内部的故障</h3>
<ul>
<li>
<h4 id="一般是非预期的，不能由应用程序处理">一般是非预期的，不能由应用程序处理</h4>
</li>
<li>
<h4 id="恢复：事务撤销">恢复：事务撤销</h4>
</li>
</ul>
<h3 id="系统故障">系统故障</h3>
<ul>
<li>
<h4 id="指造成系统停止运转的任何事件，使得系统要重新启动">指造成系统停止运转的任何事件，使得系统要重新启动</h4>
</li>
<li>
<h4 id="恢复：撤销-重做">恢复：撤销+重做</h4>
</li>
<li>
<h4 id="软故障">软故障</h4>
</li>
</ul>
<h3 id="介质故障">介质故障</h3>
<ul>
<li>
<h4 id="硬故障，数据库物理破环">硬故障，数据库物理破环</h4>
</li>
</ul>
<h3 id="计算机病毒">计算机病毒</h3>
<h3 id="故障对数据库的影响">故障对数据库的影响</h3>
<ul>
<li>
<h4 id="数据库本身被破坏">数据库本身被破坏</h4>
</li>
<li>
<h4 id="数据库未被破坏，但是数据可能不正确">数据库未被破坏，但是数据可能不正确</h4>
</li>
</ul>
<h3 id="恢复的基本原理：冗余">恢复的基本原理：冗余</h3>
<h2 id="恢复的实现技术">恢复的实现技术</h2>
<h3 id="建立冗余数据的最常用技术">建立冗余数据的最常用技术</h3>
<ul>
<li>
<h4 id="数据转储和登记日志文件">数据转储和登记日志文件</h4>
</li>
</ul>
<h3 id="数据转储">数据转储</h3>
<ul>
<li>
<h4 id="DBA定期将整个数据库恢复到转储时的状态">DBA定期将整个数据库恢复到转储时的状态</h4>
</li>
<li>
<h4 id="备用数据称为后备副本">备用数据称为后备副本</h4>
</li>
<li>
<h4 id="重装后备副本后只能将数据库恢复到转储时的状态">重装后备副本后只能将数据库恢复到转储时的状态</h4>
</li>
<li>
<h4 id="分类：">分类：</h4>
<ul>
<li>
<h5 id="静态转储：系统中无运行事务时进行的转储操作">静态转储：系统中无运行事务时进行的转储操作</h5>
<ul>
<li>静态海量转储</li>
<li>静态增量转储</li>
</ul>
</li>
<li>
<h5 id="动态转储：转储期间允许对数据库进行存取或修改。即转储和用户事务可并发执行">动态转储：转储期间允许对数据库进行存取或修改。即转储和用户事务可并发执行</h5>
<ul>
<li>动态海量转储</li>
<li>动态增量转储</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="登记日志文件">登记日志文件</h3>
<ul>
<li>
<h4 id="日志文件格式和内容">日志文件格式和内容</h4>
<ul>
<li>
<h5 id="日志文件：用来记录事务对数据库的更新操作的文件">日志文件：用来记录事务对数据库的更新操作的文件</h5>
<ul>
<li>以记录为单位</li>
<li>以数据块为单位</li>
</ul>
</li>
</ul>
</li>
<li>
<h4 id="日志文件的作用">日志文件的作用</h4>
</li>
<li>
<h4 id="登记日志文件原则">登记日志文件原则</h4>
<ul>
<li>
<h5 id="登记次序严格按并发事务执行的时间次序">登记次序严格按并发事务执行的时间次序</h5>
</li>
<li>
<h5 id="必须先写日志文件，后写数据库">必须先写日志文件，后写数据库</h5>
</li>
</ul>
</li>
</ul>
<h2 id="恢复策略">恢复策略</h2>
<h2 id="具有检查点的恢复技术">具有检查点的恢复技术</h2>
<h1>第十一章 并发控制</h1>
<h2 id="并发控制概述">并发控制概述</h2>
<ul>
<li>
<h3 id="事务是并发控制的基本单位">事务是并发控制的基本单位</h3>
</li>
<li>
<h3 id="为保证事务的隔离性和一致性，需要对并发操作进行正确调度">为保证事务的隔离性和一致性，需要对并发操作进行正确调度</h3>
</li>
</ul>
<h2 id="封锁">封锁</h2>
<ul>
<li>
<h3 id="事务T在对某个数据对象操作之前，先向系统发出请求，对其加锁">事务T在对某个数据对象操作之前，先向系统发出请求，对其加锁</h3>
</li>
</ul>
<h3 id="封锁类型">封锁类型</h3>
<ul>
<li>
<h4 id="排他锁-X锁-：写锁，其他事务不允许读取和修改，不允许叠加任何锁">排他锁(X锁)：写锁，其他事务不允许读取和修改，不允许叠加任何锁</h4>
</li>
<li>
<h4 id="共享锁-S锁-：读锁，限制只读，其他事务只能叠加S锁">共享锁(S锁)：读锁，限制只读，其他事务只能叠加S锁</h4>
</li>
</ul>
<h2 id="封锁协议">封锁协议</h2>
<ul>
<li>
<h4 id="封锁协议：运用基本封锁时，需要约定一些规则">封锁协议：运用基本封锁时，需要约定一些规则</h4>
</li>
</ul>
<h3 id="一级封锁协议">一级封锁协议</h3>
<ul>
<li>
<h4 id="事务T在修改数据R之前必须先对其加X锁，直到事务结束">事务T在修改数据R之前必须先对其加X锁，直到事务结束</h4>
</li>
<li>
<h4 id="防止丢失修改">防止丢失修改</h4>
</li>
</ul>
<h3 id="二级封锁协议">二级封锁协议</h3>
<ul>
<li>
<h4 id="在一级封锁协议基础上增加事务T在读取数据R之前必须先对其加S锁，读完即可释放S锁">在一级封锁协议基础上增加事务T在读取数据R之前必须先对其加S锁，读完即可释放S锁</h4>
</li>
<li>
<h4 id="防止丢失修改-防止读“脏”数据">防止丢失修改+防止读“脏”数据</h4>
</li>
</ul>
<h3 id="三级封锁协议">三级封锁协议</h3>
<ul>
<li>
<h4 id="一级封锁协议的基础上增加事务T在读取数据R之前必须先对其增加S锁，知道事务结束才释放">一级封锁协议的基础上增加事务T在读取数据R之前必须先对其增加S锁，知道事务结束才释放</h4>
</li>
<li>
<h4 id="防止丢失修改-防止读“脏”数据-防止不可重复读">防止丢失修改+防止读“脏”数据+防止不可重复读</h4>
</li>
</ul>
<h2 id="活锁和死锁">活锁和死锁</h2>
<h3 id="避免活锁：先来先服务">避免活锁：先来先服务</h3>
<h4 id="死锁预防：一次封锁、顺序封锁">死锁预防：一次封锁、顺序封锁</h4>
<h4 id="死锁的诊断与解除：超时法、事务等待图">死锁的诊断与解除：超时法、事务等待图</h4>
<h2 id="并发调度的可串行性">并发调度的可串行性</h2>
<h3 id="可串行化调度">可串行化调度</h3>
<ul>
<li>
<h4 id="多个事务的并发执行是正确的，当且仅当其结果与按某一次序串行地执行这些事务时的结果相同，称该调度策略为可串行化调度">多个事务的并发执行是正确的，当且仅当其结果与按某一次序串行地执行这些事务时的结果相同，称该调度策略为可串行化调度</h4>
</li>
<li>
<h4 id="可串行性时并发事务正确调度的准则">可串行性时并发事务正确调度的准则</h4>
</li>
</ul>
<h2 id="两段锁协议-2PL">两段锁协议(2PL)</h2>
<ul>
<li>
<h3 id="第一阶段：获得封锁，称扩展阶段">第一阶段：获得封锁，称扩展阶段</h3>
</li>
<li>
<h3 id="第二阶段：释放封锁，称收缩阶段">第二阶段：释放封锁，称收缩阶段</h3>
</li>
<li>
<h4 id="并发执行的所有事物均遵守两段锁协议，则这些事务的任何并发调度策略都是可串行化的-充分不必要">并发执行的所有事物均遵守两段锁协议，则这些事务的任何并发调度策略都是可串行化的(充分不必要)</h4>
</li>
</ul>
<h2 id="封锁的粒度">封锁的粒度</h2>
<h3 id="封锁粒度：">封锁粒度：</h3>
<ul>
<li>
<h4 id="封锁对象的大小">封锁对象的大小</h4>
</li>
<li>
<h4 id="类型：逻辑单元、物理单元">类型：逻辑单元、物理单元</h4>
</li>
<li>
<h4 id="与系统的并发度和并发控制的开销密切相关">与系统的并发度和并发控制的开销密切相关</h4>
</li>
<li>
<h4 id="多粒度封锁：支持多种封锁粒度">多粒度封锁：支持多种封锁粒度</h4>
</li>
</ul>
<h3 id="多粒度封锁">多粒度封锁</h3>
<ul>
<li>
<h4 id="多粒度树">多粒度树</h4>
</li>
<li>
<h4 id="每个节点可独立加锁，其子节点也被加锁">每个节点可独立加锁，其子节点也被加锁</h4>
</li>
<li>
<h4 id="显示封锁：直接加到数据对象上的锁">显示封锁：直接加到数据对象上的锁</h4>
</li>
<li>
<h4 id="隐式封锁：未被独立加锁，但是由于上级节点被加锁而加上了锁">隐式封锁：未被独立加锁，但是由于上级节点被加锁而加上了锁</h4>
</li>
</ul>
<h3 id="意向锁">意向锁</h3>
<ul>
<li>
<h4 id="如果对一个节点加意向锁，则说明该节点的下层节点正在被加锁">如果对一个节点加意向锁，则说明该节点的下层节点正在被加锁</h4>
</li>
<li>
<h4 id="IS锁-意向共享锁-：">IS锁(意向共享锁)：</h4>
</li>
<li>
<h4 id="IX锁-意向排他锁-：">IX锁(意向排他锁)：</h4>
</li>
<li>
<h4 id="SIX-共享意向排他锁-：">SIX(共享意向排他锁)：</h4>
</li>
</ul>
<h3 id="强度：X-SIX-S-IX-IS">强度：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>&gt;</mo><mi>S</mi><mi>I</mi><mi>X</mi><mo>&gt;</mo><mi>S</mi><mo>=</mo><mi>I</mi><mi>X</mi><mo>&gt;</mo><mi>I</mi><mi>S</mi></mrow><annotation encoding="application/x-tex">X&gt;SIX&gt;S=IX&gt;IS</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span></h3>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://lzh594.github.io">£·</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://lzh594.github.io/BUAA/DBSEC/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%83%A4%E6%BC%86%E6%80%BB%E7%BB%93/">https://lzh594.github.io/BUAA/DBSEC/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%83%A4%E6%BC%86%E6%80%BB%E7%BB%93/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://lzh594.github.io" target="_blank">lzhのBLOG</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/DBSEC/">DBSEC</a></div><div class="post_share"><div class="social-share" data-image="/images/touxiang1.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/BUAA/securityProtocol/%E5%AE%89%E5%85%A8%E5%8D%8F%E8%AE%AE%E7%83%A4%E6%BC%86%E6%80%BB%E7%BB%93/" title="severityProtocol-烤漆总结"><div class="cover" style="background: /images/tianxiwei1.HPG"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">severityProtocol-烤漆总结</div></div></a></div><div class="next-post pull-right"><a href="/BUAA/imgProc/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%E7%83%A4%E6%BC%86%E6%80%BB%E7%BB%93/" title="imgProc-烤漆总结"><img class="cover" src="/images/syq3.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">imgProc-烤漆总结</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/touxiang1.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">£·</div><div class="author-info__description">欢迎访问～</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/lzh594/"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/lzh594" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">lzh's Blog 来噜！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">第一章 绪论</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">数据库系统概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%934%E4%B8%AA%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.1.</span> <span class="toc-text">数据库4个基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AEdata%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E5%AD%98%E5%82%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.1.2.</span> <span class="toc-text">数据data：数据库中存储的基本对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E5%8C%96%E3%80%81%E5%8D%8A%E7%BB%93%E6%9E%84%E5%8C%96%E3%80%81%E9%9D%9E%E7%BB%93%E6%9E%84%E5%8C%96"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">结构化、半结构化、非结构化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%98%AF%E7%AC%A6%E5%8F%B7%E5%8C%96%E7%9A%84%E4%BF%A1%E6%81%AF%EF%BC%9B%E4%BF%A1%E6%81%AF%E6%98%AF%E8%AF%AD%E4%B9%89%E5%8C%96%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">数据是符号化的信息；信息是语义化的数据</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93database%EF%BC%9A%E9%95%BF%E6%9C%9F%E5%82%A8%E5%AD%98%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%86%85%E3%80%81%E6%9C%89%E7%BB%84%E7%BB%87%E3%80%81%E5%8F%AF%E5%85%B1%E4%BA%AB%E7%9A%84%E5%A4%A7%E9%87%8F%E6%95%B0%E6%8D%AE%E7%9A%84%E9%9B%86%E5%90%88"><span class="toc-number">1.1.3.</span> <span class="toc-text">数据库database：长期储存在计算机内、有组织、可共享的大量数据的集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9FDBMS%EF%BC%9A%E7%94%A8%E6%88%B7%E5%92%8COS%E4%B9%8B%E9%97%B4%E7%9A%84%E4%B8%80%E5%B1%82%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86%E8%BD%AF%E4%BB%B6"><span class="toc-number">1.1.4.</span> <span class="toc-text">数据库管理系统DBMS：用户和OS之间的一层数据管理软件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E3%80%81%E7%BB%84%E7%BB%87%E3%80%81%E5%AD%98%E5%82%A8%E3%80%81%E7%AE%A1%E7%90%86%E6%93%8D%E7%BA%B5%E3%80%81%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86%E5%92%8C%E8%BF%90%E8%A1%8C%E7%AE%A1%E7%90%86%E3%80%81%E5%BB%BA%E7%AB%8B%E5%92%8C%E7%BB%B4%E6%8A%A4%EF%BC%8C%E5%85%B6%E4%BB%96"><span class="toc-number">1.1.4.1.</span> <span class="toc-text">功能：数据定义、组织、存储、管理操纵、事务管理和运行管理、建立和维护，其他</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9FDBS%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%BA%93-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E5%91%98-DBA"><span class="toc-number">1.1.5.</span> <span class="toc-text">数据库系统DBS：数据库+数据库管理系统+应用程序、数据库管理员(DBA)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E7%90%86%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F-MIS-%E6%9E%B6%E6%9E%84%EF%BC%9AC-S%E3%80%81B-S"><span class="toc-number">1.1.6.</span> <span class="toc-text">管理信息系统(MIS)架构：C&#x2F;S、B&#x2F;S</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%EF%BC%9A%E5%AF%B9%E7%8E%B0%E5%AE%9E%E4%B8%96%E7%95%8C%E6%95%B0%E6%8D%AE%E7%89%B9%E5%BE%81%E7%9A%84%E6%8A%BD%E8%B1%A1"><span class="toc-number">1.2.</span> <span class="toc-text">数据模型：对现实世界数据特征的抽象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%EF%BC%9A%E4%B8%A4%E4%B8%AA%E5%B1%82%E6%AC%A1"><span class="toc-number">1.2.1.</span> <span class="toc-text">分类：两个层次</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B%EF%BC%9A%E7%94%A8%E6%88%B7%E8%A7%82%E7%82%B9"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">概念模型：用户观点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E6%A8%A1%E5%9E%8B-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E8%A7%82%E7%82%B9-%E5%92%8C%E7%89%A9%E7%90%86%E6%A8%A1%E5%9E%8B-%E6%95%B0%E6%8D%AE%E6%9C%80%E5%BA%95%E5%B1%82%E6%8A%BD%E8%B1%A1"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">逻辑模型(计算机系统观点)和物理模型(数据最底层抽象)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B%EF%BC%9A"><span class="toc-number">1.2.2.</span> <span class="toc-text">概念模型：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E4%B8%96%E7%95%8C%E4%B8%AD%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%EF%BC%9A"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">信息世界中的基本概念：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%EF%BC%9A%E5%AE%A2%E8%A7%82%E5%AD%98%E5%9C%A8%E5%8F%AF%E7%9B%B8%E4%BA%92%E5%8C%BA%E5%88%AB%E7%9A%84%E4%BA%8B%E7%89%A9"><span class="toc-number">1.2.2.1.1.</span> <span class="toc-text">实体：客观存在可相互区别的事物</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%EF%BC%9A%E5%B0%B8%E4%BD%93%E6%89%80%E5%85%B7%E6%9C%89%E7%9A%84%E6%9F%90%E4%B8%80%E7%89%B9%E6%80%A7"><span class="toc-number">1.2.2.1.2.</span> <span class="toc-text">属性：尸体所具有的某一特性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A0%81-%E9%94%AE%EF%BC%9A%E5%94%AF%E4%B8%80%E6%A0%87%E8%AF%86%E5%AE%9E%E4%BD%93%E7%9A%84%E5%B1%9E%E6%80%A7%E9%9B%86"><span class="toc-number">1.2.2.1.3.</span> <span class="toc-text">码&#x2F;键：唯一标识实体的属性集</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E5%9E%8B%EF%BC%9A%E7%94%A8%E5%AE%9E%E4%BD%93%E5%90%8D%E5%8F%8A%E5%85%B6%E5%B1%9E%E6%80%A7%E5%90%8D%E9%9B%86%E5%90%88%E6%9D%A5%E6%8A%BD%E8%B1%A1%E5%92%8C%E5%88%BB%E7%94%BB%E5%90%8C%E7%B1%BB%E5%AE%9E%E4%BD%93"><span class="toc-number">1.2.2.1.4.</span> <span class="toc-text">实体型：用实体名及其属性名集合来抽象和刻画同类实体</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E9%9B%86%EF%BC%9A%E5%90%8C%E4%B8%80%E7%B1%BB%E5%9E%8B%E5%AE%9E%E4%BD%93%E7%9A%84%E9%9B%86%E5%90%88"><span class="toc-number">1.2.2.1.5.</span> <span class="toc-text">实体集：同一类型实体的集合</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%81%94%E7%B3%BB%EF%BC%9A%E7%8E%B0%E5%AE%9E%E4%B8%96%E7%95%8C%E4%B8%AD%E4%BA%8B%E7%89%A9%E5%86%85%E9%83%A8%E3%80%81%E4%BA%8B%E7%89%A9%E4%B9%8B%E9%97%B4%E7%9A%84%E8%81%94%E7%B3%BB%E6%B2%A1%E5%9C%A8%E4%BF%A1%E6%81%AF%E4%B8%96%E7%95%8C%E4%B8%AD%E5%8F%8D%E6%98%A0%E4%B8%BA%E5%AE%9E%E4%BD%93-%E5%9E%8B-%E5%86%85%E9%83%A8-%E4%B9%8B%E9%97%B4%E7%9A%84%E8%81%94%E7%B3%BB"><span class="toc-number">1.2.2.1.6.</span> <span class="toc-text">联系：现实世界中事物内部、事物之间的联系没在信息世界中反映为实体(型)内部&#x2F;之间的联系</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93-%E8%81%94%E7%B3%BB%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">实体-联系方法：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#E-R%E5%9B%BE-ERD-%E6%8F%8F%E8%BF%B0%E7%8E%B0%E5%AE%9E%E4%B8%96%E7%95%8C%E7%9A%84%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.2.2.1.</span> <span class="toc-text">E-R图(ERD)描述现实世界的概念模型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E7%9A%84%E7%BB%84%E6%88%90%E8%A6%81%E7%B4%A0%EF%BC%9A"><span class="toc-number">1.2.3.</span> <span class="toc-text">数据模型的组成要素：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9A"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">数据结构：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8F%8F%E8%BF%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%BB%84%E6%88%90%E5%AF%B9%E8%B1%A1%E3%80%81%E4%BB%A5%E5%8F%8A%E5%AF%B9%E8%B1%A1%E4%B9%8B%E9%97%B4%E7%9A%84%E8%81%94%E7%B3%BB"><span class="toc-number">1.2.3.1.1.</span> <span class="toc-text">描述数据库的组成对象、以及对象之间的联系</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E7%B3%BB%E7%BB%9F%E9%9D%99%E6%80%81%E7%89%B9%E6%80%A7%E7%9A%84%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.2.3.1.2.</span> <span class="toc-text">对系统静态特性的描述</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">数据操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%9A%84%E9%9B%86%E5%90%88%EF%BC%8C%E5%8C%85%E6%8B%AC%E6%93%8D%E4%BD%9C%E5%8F%8A%E6%9C%89%E5%85%B3%E6%93%8D%E4%BD%9C%E8%A7%84%E5%88%99"><span class="toc-number">1.2.3.2.1.</span> <span class="toc-text">操作的集合，包括操作及有关操作规则</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E3%80%81%E6%9B%B4%E6%96%B0-%E6%8F%92%E5%85%A5%E5%88%A0%E9%99%A4%E4%BF%AE%E6%94%B9"><span class="toc-number">1.2.3.2.2.</span> <span class="toc-text">查询、更新(插入删除修改)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">数据的完整性约束条件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E7%BB%84%E5%AE%8C%E6%95%B4%E6%80%A7%E8%A7%84%E5%88%99%E7%9A%84%E9%9B%86%E5%90%88"><span class="toc-number">1.2.3.3.1.</span> <span class="toc-text">一组完整性规则的集合</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%EF%BC%9A"><span class="toc-number">1.2.4.</span> <span class="toc-text">常用的数据模型：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%82%E6%AC%A1%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.5.</span> <span class="toc-text">层次模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%8A%B6%E6%A8%A1%E5%9E%8B%EF%BC%9A"><span class="toc-number">1.2.6.</span> <span class="toc-text">网状模型：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%EF%BC%9A"><span class="toc-number">1.2.7.</span> <span class="toc-text">关系模型：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.7.1.</span> <span class="toc-text">关系模型的数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.2.7.1.1.</span> <span class="toc-text">关系数据库的数据模型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%A7%82%E7%82%B9%E4%B8%8B%EF%BC%8C%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E6%98%AF%E4%B8%80%E5%BC%A0%E4%BA%8C%E7%BB%B4%E8%A1%A8"><span class="toc-number">1.2.7.1.2.</span> <span class="toc-text">用户观点下，关系模型数据的逻辑结构是一张二维表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%EF%BC%9A%E4%B8%80%E5%BC%A0%E8%A1%A8-%E5%8C%85%E6%8B%AC%E6%95%B0%E6%8D%AE"><span class="toc-number">1.2.7.1.3.</span> <span class="toc-text">关系：一张表(包括数据)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%83%E7%BB%84%EF%BC%9A%E8%A1%A8%E4%B8%AD%E4%B8%80%E8%A1%8C"><span class="toc-number">1.2.7.1.4.</span> <span class="toc-text">元组：表中一行</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%EF%BC%9A%E8%A1%A8%E4%B8%AD%E4%B8%80%E5%88%97"><span class="toc-number">1.2.7.1.5.</span> <span class="toc-text">属性：表中一列</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BB%E7%A0%81-%E4%B8%BB%E9%94%AE%EF%BC%9A%E7%A0%81%E6%88%96%E9%94%AE%EF%BC%8C%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%9F%90%E4%B8%AA%E5%8F%AF%E5%94%AF%E4%B8%80%E7%A1%AE%E5%AE%9A%E4%B8%80%E4%B8%AA%E5%85%83%E7%BB%84%E7%9A%84%E5%B1%9E%E6%80%A7%E7%BB%84"><span class="toc-number">1.2.7.1.6.</span> <span class="toc-text">主码&#x2F;主键：码或键，表中的某个可唯一确定一个元组的属性组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%9F%EF%BC%9A%E4%B8%80%E7%BB%84%E5%85%B7%E6%9C%89%E7%9B%B8%E5%90%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%80%BC%E7%9A%84%E9%9B%86%E5%90%88%EF%BC%9B%E5%B1%9E%E6%80%A7%E7%9A%84%E5%8F%96%E5%80%BC%E8%8C%83%E5%9B%B4%E6%9D%A5%E8%87%AA%E6%9F%90%E4%B8%AA%E5%9F%9F"><span class="toc-number">1.2.7.1.7.</span> <span class="toc-text">域：一组具有相同数据类型的值的集合；属性的取值范围来自某个域</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E9%87%8F%EF%BC%9A%E5%85%83%E7%BB%84%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B1%9E%E6%80%A7%E5%80%BC"><span class="toc-number">1.2.7.1.8.</span> <span class="toc-text">分量：元组中的一个属性值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%EF%BC%9A%E5%AF%B9%E5%85%B3%E7%B3%BB%E7%9A%84%E7%BB%93%E6%9E%84%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.2.7.1.9.</span> <span class="toc-text">关系模式：对关系的结构描述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%A7%84%E8%8C%83%E5%8C%96%EF%BC%9A%E4%B8%8D%E5%85%81%E8%AE%B8%E8%A1%A8%E4%B8%AD%E8%BF%98%E6%9C%89%E8%A1%A8"><span class="toc-number">1.2.7.1.10.</span> <span class="toc-text">关系规范化：不允许表中还有表</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.7.2.</span> <span class="toc-text">关系模型的数据操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%93%8D%E4%BD%9C%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%93%8D%E4%BD%9C%E7%BB%93%E6%9E%9C%E9%83%BD%E6%98%AF%E5%85%B3%E7%B3%BB"><span class="toc-number">1.2.7.2.1.</span> <span class="toc-text">集合操作，操作对象和操作结果都是关系</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.2.7.3.</span> <span class="toc-text">关系的完整性约束条件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">1.2.7.3.1.</span> <span class="toc-text">实体完整性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%82%E7%85%A7%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">1.2.7.3.2.</span> <span class="toc-text">参照完整性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">1.2.7.3.3.</span> <span class="toc-text">用户自定义的完整性</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-number">1.3.</span> <span class="toc-text">数据库系统的结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">1.3.1.</span> <span class="toc-text">数据库系统模式的概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9E%8B%EF%BC%9A%E6%9F%90%E4%B8%80%E7%B1%BB%E6%95%B0%E6%8D%AE%E7%9A%84%E7%BB%93%E6%9E%84%E5%92%8C%E5%B1%9E%E6%80%A7%E7%9A%84%E8%AF%B4%E6%98%8E"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">型：某一类数据的结构和属性的说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%80%BC%EF%BC%9A%E5%9E%8B%E7%9A%84%E4%B8%80%E4%B8%AA%E5%85%B7%E4%BD%93%E8%B5%8B%E5%80%BC"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">值：型的一个具体赋值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%EF%BC%9A"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">模式：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E5%92%8C%E7%89%B9%E5%BE%81%E7%9A%84%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.3.1.3.1.</span> <span class="toc-text">数据库逻辑结构和特征的描述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9E%8B%E7%9A%84%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.3.1.3.2.</span> <span class="toc-text">型的描述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%8D%E6%98%A0%E6%95%B0%E6%8D%AE%E7%9A%84%E7%BB%93%E6%9E%84%E5%8F%8A%E5%85%B6%E8%81%94%E7%B3%BB"><span class="toc-number">1.3.1.3.3.</span> <span class="toc-text">反映数据的结构及其联系</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%9B%B8%E5%AF%B9%E7%A8%B3%E5%AE%9A"><span class="toc-number">1.3.1.3.4.</span> <span class="toc-text">模式相对稳定</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%EF%BC%9A"><span class="toc-number">1.3.1.4.</span> <span class="toc-text">实例：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%B8%80%E4%B8%AA%E5%85%B7%E4%BD%93%E5%80%BC"><span class="toc-number">1.3.1.4.1.</span> <span class="toc-text">模式的一个具体值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%8D%E6%98%A0%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9F%90%E4%B8%80%E6%97%B6%E5%88%BB%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-number">1.3.1.4.2.</span> <span class="toc-text">反映数据库某一时刻的状态</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E7%BA%A7%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%EF%BC%9A"><span class="toc-number">1.3.2.</span> <span class="toc-text">三级模式结构：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E8%A7%92%E5%BA%A6"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">数据库应用开发人员角度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%86%85%E9%83%A8%E7%9A%84%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">数据库系统内部的系统结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E3%80%81%E5%A4%96%E6%A8%A1%E5%BC%8F%E3%80%81%E5%86%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">模式、外模式、内模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E6%95%B0%E6%8D%AE%E7%9A%84%E4%B8%89%E4%B8%AA%E6%8A%BD%E8%B1%A1%E7%BA%A7%E5%88%AB"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">对数据的三个抽象级别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%EF%BC%9A%E9%80%BB%E8%BE%91%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.2.5.</span> <span class="toc-text">模式：逻辑模式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E5%85%A8%E4%BD%93%E6%95%B0%E6%8D%AE%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E5%92%8C%E7%89%B9%E5%BE%81%E7%9A%84%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.3.2.5.1.</span> <span class="toc-text">数据库中全体数据的逻辑结构和特征的描述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%80%E6%9C%89%E7%94%A8%E6%88%B7%E7%9A%84%E5%85%AC%E5%85%B1%E6%95%B0%E6%8D%AE%E8%A7%86%E5%9B%BE"><span class="toc-number">1.3.2.5.2.</span> <span class="toc-text">所有用户的公共数据视图</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.2.5.3.</span> <span class="toc-text">一个数据库只有一个模式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E6%A8%A1%E5%BC%8F%EF%BC%9A%E5%AD%90%E6%A8%A1%E5%BC%8F-%E7%94%A8%E6%88%B7%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.2.6.</span> <span class="toc-text">外模式：子模式&#x2F;用户模式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%94%A8%E6%88%B7%E4%BD%BF%E7%94%A8%E7%9A%84%E5%B1%80%E9%83%A8%E6%95%B0%E6%8D%AE%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E5%92%8C%E7%89%B9%E5%BE%81%E7%9A%84%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.3.2.6.1.</span> <span class="toc-text">数据库用户使用的局部数据的逻辑结构和特征的描述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%94%A8%E6%88%B7%E7%9A%84%E6%95%B0%E6%8D%AE%E8%A7%86%E5%9B%BE"><span class="toc-number">1.3.2.6.2.</span> <span class="toc-text">数据库用户的数据视图</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%80%E6%9C%AF%E4%B8%8A%EF%BC%9A%E8%A7%86%E5%9B%BEView%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.3.2.6.3.</span> <span class="toc-text">技术上：视图View的定义和描述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%B0%E4%BD%8D%EF%BC%9A%E4%BB%8B%E4%BA%8E%E6%A8%A1%E5%BC%8F%E5%92%8C%E5%BA%94%E7%94%A8%E4%B9%8B%E9%97%B4"><span class="toc-number">1.3.2.6.4.</span> <span class="toc-text">地位：介于模式和应用之间</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%EF%BC%9A%E4%BF%9D%E8%AF%81%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E5%85%A8%E6%80%A7-%E7%94%A8%E6%88%B7%E5%8F%AA%E8%83%BD%E7%9C%8B-%E8%AE%BF%E9%97%AE%E5%A4%96%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">1.3.2.6.5.</span> <span class="toc-text">作用：保证数据库安全性(用户只能看&#x2F;访问外模式的数据)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E6%A8%A1%E5%BC%8F%EF%BC%9A%E5%AD%98%E5%82%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.2.7.</span> <span class="toc-text">内模式：存储模式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84%E5%92%8C%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F%E7%9A%84%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.3.2.7.1.</span> <span class="toc-text">数据物理结构和存储方式的描述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E5%86%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.3.2.7.2.</span> <span class="toc-text">一个数据库只有一个内模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E7%94%A8%E6%88%B7%E5%8D%8A%E9%80%8F%E6%98%8E"><span class="toc-number">1.3.2.7.3.</span> <span class="toc-text">对用户半透明</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E6%98%A0%E5%83%8F%E5%8A%9F%E8%83%BD%EF%BC%9A"><span class="toc-number">1.3.3.</span> <span class="toc-text">二级映像功能：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#DBMS%E5%86%85%E9%83%A8%E5%AE%9E%E7%8E%B0%E4%B8%89%E7%BA%A7%E6%A8%A1%E5%BC%8F%E8%BF%99%E4%B8%89%E4%B8%AA%E6%8A%BD%E8%B1%A1%E5%B1%82%E6%AC%A1%E7%9A%84%E8%81%94%E7%B3%BB%E5%92%8C%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">DBMS内部实现三级模式这三个抽象层次的联系和转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E5%BC%8F%E6%98%A0%E5%83%8F%E3%80%81%E6%A8%A1%E5%BC%8F-%E5%86%85%E6%A8%A1%E5%BC%8F%E6%98%A0%E5%83%8F"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">外模式&#x2F;模式映像、模式&#x2F;内模式映像</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%9D%E8%AF%81%E4%BA%86%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%96%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">保证了数据库外模式的稳定性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8E%E5%BA%95%E5%B1%82%E4%BF%9D%E8%AF%81%E4%BA%86%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E7%A8%B3%E5%AE%9A%E6%80%A7"><span class="toc-number">1.3.3.4.</span> <span class="toc-text">从底层保证了应用程序的稳定性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E5%BC%8F%E6%98%A0%E5%83%8F"><span class="toc-number">1.3.4.</span> <span class="toc-text">外模式&#x2F;模式映像</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%8F%E4%B8%AA%E5%A4%96%E6%A8%A1%E5%BC%8F%E5%AF%B9%E5%BA%94%E4%B8%80%E4%B8%AA%E5%A4%96%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E5%BC%8F%E6%98%A0%E5%83%8F%EF%BC%8C%E5%AE%9A%E4%B9%89%E5%A4%96%E6%A8%A1%E5%BC%8F%E5%92%8C%E6%A8%A1%E5%BC%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">每个外模式对应一个外模式&#x2F;模式映像，定义外模式和模式之间的对应关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%9D%E8%AF%81%E6%95%B0%E6%8D%AE%E7%9A%84%E9%80%BB%E8%BE%91%E7%8B%AC%E7%AB%8B%E6%80%A7%EF%BC%9A%E6%A8%A1%E5%BC%8F%E6%94%B9%E5%8F%98%E6%97%B6%EF%BC%8CDBA%E6%94%B9%E5%8F%98%E5%A4%96%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E5%BC%8F%E6%98%A0%E5%83%8F%E5%8D%B3%E5%8F%AF%E4%BF%9D%E8%AF%81%E5%A4%96%E6%A8%A1%E5%BC%8F%E4%B8%8D%E5%8F%98%EF%BC%9B%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%BE%9D%E6%8D%AE%E5%A4%96%E6%A8%A1%E5%BC%8F%E7%BC%96%E5%86%99%EF%BC%8C%E5%9B%A0%E6%AD%A4%E4%B8%8D%E5%BF%85%E4%BF%AE%E6%94%B9%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">保证数据的逻辑独立性：模式改变时，DBA改变外模式&#x2F;模式映像即可保证外模式不变；应用程序依据外模式编写，因此不必修改应用程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%A0%E5%83%8F%E5%AE%9A%E4%B9%89%E9%80%9A%E5%B8%B8%E5%8C%85%E5%90%AB%E5%9C%A8%E5%90%84%E8%87%AA%E5%A4%96%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%8F%8F%E8%BF%B0%E4%B8%AD"><span class="toc-number">1.3.4.3.</span> <span class="toc-text">映像定义通常包含在各自外模式的描述中</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F-%E5%86%85%E6%A8%A1%E5%BC%8F%E6%98%A0%E5%83%8F"><span class="toc-number">1.3.5.</span> <span class="toc-text">模式&#x2F;内模式映像</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E4%BA%86%E6%95%B0%E6%8D%AE%E5%85%A8%E5%B1%80%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E4%B8%8E%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%E4%B9%8B%E9%97%B4%E7%9A%84%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB"><span class="toc-number">1.3.5.1.</span> <span class="toc-text">定义了数据全局逻辑结构与存储结构之间的对应关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F-%E5%86%85%E6%A8%A1%E5%BC%8F%E6%98%A0%E5%83%8F%E6%98%AF%E5%94%AF%E4%B8%80%E7%9A%84"><span class="toc-number">1.3.5.2.</span> <span class="toc-text">模式&#x2F;内模式映像是唯一的</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%A0%E5%83%8F%E5%AE%9A%E4%B9%89%E9%80%9A%E5%B8%B8%E5%8C%85%E5%90%AB%E5%9C%A8%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%8F%8F%E8%BF%B0%E4%B8%AD"><span class="toc-number">1.3.5.3.</span> <span class="toc-text">映像定义通常包含在模式的描述中</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%9D%E8%AF%81%E4%BA%86%E6%95%B0%E6%8D%AE%E7%9A%84%E7%89%A9%E7%90%86%E7%8B%AC%E7%AB%8B%E6%80%A7%EF%BC%9ADB%E7%9A%84%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%E6%94%B9%E5%8F%98%EF%BC%8CDBA%E4%BF%AE%E6%94%B9%E6%A8%A1%E5%BC%8F-%E5%86%85%E6%A8%A1%E5%BC%8F%E6%98%A0%E5%83%8F%EF%BC%8C%E4%BD%BF%E6%A8%A1%E5%BC%8F%E4%BF%9D%E6%8C%81%E4%B8%8D%E5%8F%98"><span class="toc-number">1.3.5.4.</span> <span class="toc-text">保证了数据的物理独立性：DB的存储结构改变，DBA修改模式&#x2F;内模式映像，使模式保持不变</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B9%9F%E4%B8%8D%E5%8F%97%E5%BD%B1%E5%93%8D"><span class="toc-number">1.3.5.5.</span> <span class="toc-text">应用程序也不受影响</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%BB%84%E6%88%90"><span class="toc-number">1.4.</span> <span class="toc-text">数据库系统组成</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E3%80%81%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E5%91%98%E3%80%81%E7%A1%AC%E4%BB%B6%E5%B9%B3%E5%8F%B0%E5%8F%8A%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%81%E8%BD%AF%E4%BB%B6%E3%80%81%E4%BA%BA%E5%91%98"><span class="toc-number">1.4.1.</span> <span class="toc-text">数据库、数据库管理系统、应用程序、数据库管理员、硬件平台及数据库、软件、人员</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">第二章 关系数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E5%BD%A2%E5%BC%8F%E5%8C%96%E5%AE%9A%E4%B9%89"><span class="toc-number">2.1.</span> <span class="toc-text">关系数据结构及形式化定义</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%EF%BC%9A%E5%AE%9E%E4%BD%93%E5%8F%8A%E5%AE%9E%E4%BD%93%E9%97%B4%E7%9A%84%E5%90%84%E7%A7%8D%E8%81%94%E7%B3%BB"><span class="toc-number">2.1.1.</span> <span class="toc-text">关系：实体及实体间的各种联系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E7%9A%84%E7%BB%84%E6%88%90%EF%BC%9A%E5%90%8C%E4%B8%80%E7%B1%BB%E5%AE%9E%E4%BD%93%E5%9E%8B%E7%9A%84%E5%AE%9E%E4%BE%8B%E9%9B%86%E5%90%88"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">关系的组成：同一类实体型的实例集合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E4%B9%8B%E9%97%B4%E7%9A%84%E8%81%94%E7%B3%BB"><span class="toc-number">2.1.1.2.</span> <span class="toc-text">关系之间的联系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%EF%BC%9A%E4%BA%8C%E7%BB%B4%E8%A1%A8%E8%A1%A8%E5%A4%B4-%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F-%E2%80%94%E2%80%94%E6%8F%8F%E8%BF%B0%E8%A1%A8%E7%9A%84%E7%BB%84%E6%88%90%E5%85%B3%E7%B3%BB"><span class="toc-number">2.1.1.3.</span> <span class="toc-text">逻辑结构：二维表表头(关系模式)——描述表的组成关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E5%9C%A8%E9%9B%86%E5%90%88%E8%AE%BA%E5%92%8C%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E7%9A%84%E5%9F%BA%E7%A1%80%E4%B8%8A"><span class="toc-number">2.1.1.4.</span> <span class="toc-text">建立在集合论和关系代数的基础上</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E7%9A%84%E8%A1%A8%E7%A4%BA%EF%BC%9AR-D-1-D-2-D-n"><span class="toc-number">2.1.1.5.</span> <span class="toc-text">关系的表示：R(D1,D2,...,Dn)R(D_1,D_2,...,D_n)R(D1​,D2​,...,Dn​)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E4%B8%8E%E8%A1%A8%E7%9A%84%E6%9C%AF%E8%AF%AD%E5%AF%B9%E7%85%A7"><span class="toc-number">2.1.1.6.</span> <span class="toc-text">关系与表的术语对照</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A0%81-%E9%94%AE%EF%BC%9A"><span class="toc-number">2.1.1.7.</span> <span class="toc-text">码&#x2F;键：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%80%99%E9%80%89%E7%A0%81-%E9%94%AE%EF%BC%9A%E5%85%B3%E7%B3%BB%E4%B8%AD%E6%9F%90%E4%B8%80%E5%B1%9E%E6%80%A7%E7%BB%84%E7%9A%84%E5%80%BC%E8%83%BD%E5%94%AF%E4%B8%80%E5%9C%B0%E6%A0%87%E8%AF%86%E4%B8%80%E4%B8%AA%E5%85%83%E7%BB%84%EF%BC%9B%E6%89%BE%E4%B8%8D%E5%87%BA%E7%9C%9F%E5%AD%90%E9%9B%86%E4%BB%8D%E6%BB%A1%E8%B6%B3%E5%89%8D%E4%B8%80%E6%9D%A1%E4%BB%B6"><span class="toc-number">2.1.1.7.1.</span> <span class="toc-text">候选码&#x2F;键：关系中某一属性组的值能唯一地标识一个元组；找不出真子集仍满足前一条件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%A8%E7%A0%81-%E9%94%AE%EF%BC%9A%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7%E7%BB%84%E9%83%BD%E6%98%AF%E5%80%99%E9%80%89%E7%A0%81"><span class="toc-number">2.1.1.7.2.</span> <span class="toc-text">全码&#x2F;键：关系模式的所有属性组都是候选码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B6%85%E9%94%AE%EF%BC%9A%E5%8F%AA%E6%BB%A1%E8%B6%B3%E5%94%AF%E4%B8%80%E6%A0%87%E8%AF%86%E7%9A%84%E6%9D%A1%E4%BB%B6%EF%BC%8C%E5%80%99%E9%80%89%E9%94%AE%E6%98%AF%E6%9C%80%E5%B0%8F%E8%B6%85%E9%94%AE"><span class="toc-number">2.1.1.7.3.</span> <span class="toc-text">超键：只满足唯一标识的条件，候选键是最小超键</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BB%E7%A0%81-%E9%94%AE%EF%BC%9A%E5%A4%9A%E4%B8%AA%E5%80%99%E9%80%89%E7%A0%81%E9%80%89%E5%AE%9A%E4%B8%80%E4%B8%AA%EF%BC%8C%E5%85%B6%E8%AF%B8%E5%B1%9E%E6%80%A7%E7%A7%B0%E4%B8%BA%E4%B8%BB%E5%B1%9E%E6%80%A7"><span class="toc-number">2.1.1.7.4.</span> <span class="toc-text">主码&#x2F;键：多个候选码选定一个，其诸属性称为主属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%96%E9%94%AE%EF%BC%9A%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BD%93%E7%9A%84%E4%B8%BB%E9%94%AE%E8%A2%AB%E5%8F%A6%E5%A4%96%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BD%93%E4%BD%BF%E7%94%A8%EF%BC%8C%E4%BB%A5%E8%A1%A8%E8%BE%BE%E4%B8%8D%E5%90%8C%E5%AE%9E%E4%BD%93%E5%85%83%E7%BB%84%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">2.1.1.7.5.</span> <span class="toc-text">外键：一个实体的主键被另外一个实体使用，以表达不同实体元组之间的关系</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93-%E8%A1%A8-%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%EF%BC%9A%E4%BE%9D%E8%B5%96%E4%B8%BB%E9%94%AE-%E5%A4%96%E9%94%AE%E5%85%B3%E7%B3%BB%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.1.1.8.</span> <span class="toc-text">实体(表)间的关系：依赖主键-外键关系实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%B1%BB%E5%85%B3%E7%B3%BB%EF%BC%9A%E5%9F%BA%E6%9C%AC%E5%85%B3%E7%B3%BB%E3%80%81%E6%9F%A5%E8%AF%A2%E8%A1%A8%E3%80%81%E8%A7%86%E5%9B%BE%E8%A1%A8"><span class="toc-number">2.1.1.9.</span> <span class="toc-text">三类关系：基本关系、查询表、视图表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%EF%BC%9A"><span class="toc-number">2.1.2.</span> <span class="toc-text">关系模式：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E6%98%AF%E5%9E%8B%EF%BC%8C%E6%98%AF%E7%BB%93%E6%9E%84%EF%BC%9B%E5%85%B3%E7%B3%BB%E6%98%AF%E5%80%BC-%E4%BA%8C%E7%BB%B4%E8%A1%A8"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">关系模式是型，是结构；关系是值(二维表)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E6%98%AF%E5%85%B3%E7%B3%BB%E7%9A%84%E7%BB%93%E6%9E%84%EF%BC%9B%E5%85%B3%E7%B3%BB%E6%98%AF%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E6%9F%90%E4%B8%80%E6%97%B6%E5%88%BB%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">关系模式是关系的结构；关系是关系模式某一时刻的数据</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%A2%E5%BC%8F%E5%8C%96%E8%A1%A8%E7%A4%BA%EF%BC%9AR-U-D-DOM-F"><span class="toc-number">2.1.3.</span> <span class="toc-text">形式化表示：R(U,D,DOM,F)R(U,D,DOM,F)R(U,D,DOM,F)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#R%EF%BC%9A%E5%85%B3%E7%B3%BB%E5%90%8D"><span class="toc-number">2.1.3.1.</span> <span class="toc-text">R：关系名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#U%EF%BC%9A%E7%BB%84%E6%88%90%E8%AF%A5%E5%85%B3%E7%B3%BB%E7%9A%84%E5%B1%9E%E6%80%A7%E5%90%8D%E9%9B%86%E5%90%88"><span class="toc-number">2.1.3.2.</span> <span class="toc-text">U：组成该关系的属性名集合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#D%EF%BC%9AU%E4%B8%AD%E5%B1%9E%E6%80%A7%E6%89%80%E6%9D%A5%E8%87%AA%E7%9A%84%E5%9F%9F"><span class="toc-number">2.1.3.3.</span> <span class="toc-text">D：U中属性所来自的域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DOM%EF%BC%9A%E5%B1%9E%E6%80%A7%E5%90%91%E5%9F%9F%E7%9A%84%E6%98%A0%E5%83%8F%E9%9B%86%E5%90%88"><span class="toc-number">2.1.3.4.</span> <span class="toc-text">DOM：属性向域的映像集合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#F%EF%BC%9A%E5%B1%9E%E6%80%A7%E9%97%B4%E6%95%B0%E6%8D%AE%E7%9A%84%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB%E7%9A%84%E9%9B%86%E5%90%88"><span class="toc-number">2.1.3.5.</span> <span class="toc-text">F：属性间数据的依赖关系的集合</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9A%E6%89%80%E6%9C%89%E5%85%B3%E7%B3%BB%E7%9A%84%E9%9B%86%E5%90%88%E6%9E%84%E6%88%90%E4%B8%80%E4%B8%AA%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">2.1.4.</span> <span class="toc-text">关系数据库：所有关系的集合构成一个关系数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9E%8B%EF%BC%9A%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.1.4.1.</span> <span class="toc-text">型：关系数据库模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%80%BC%EF%BC%9A%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E5%9C%A8%E6%9F%90%E4%B8%80%E6%97%B6%E5%88%BB%E5%AF%B9%E5%BA%94%E7%9A%84%E5%85%B3%E7%B3%BB%E7%9A%84%E9%9B%86%E5%90%88-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93RDB"><span class="toc-number">2.1.4.2.</span> <span class="toc-text">值：关系模式在某一时刻对应的关系的集合(关系数据库RDB)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%EF%BC%9A%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%89%A9%E7%90%86%E7%BB%84%E7%BB%87"><span class="toc-number">2.1.5.</span> <span class="toc-text">关系模型的存储结构：关系数据库的物理组织</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%93%8D%E4%BD%9C"><span class="toc-number">2.2.</span> <span class="toc-text">关系操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="toc-number">2.2.1.</span> <span class="toc-text">查询：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#8%E7%A7%8D%EF%BC%9A%E9%80%89%E6%8B%A9%E3%80%81%E6%8A%95%E5%BD%B1%E3%80%81%E8%BF%9E%E6%8E%A5%E3%80%81%E9%99%A4%E3%80%81%E5%B9%B6%E3%80%81%E5%B7%AE%E3%80%81%E4%BA%A4%E3%80%81%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">8种：选择、投影、连接、除、并、差、交、笛卡尔积</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E7%A7%8D%E5%9F%BA%E6%9C%AC%EF%BC%9A%E9%80%89%E6%8B%A9%E3%80%81%E6%8A%95%E5%BD%B1%E3%80%81%E5%B9%B6%E3%80%81%E5%B7%AE%E3%80%81%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">5种基本：选择、投影、并、差、笛卡尔积</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%EF%BC%9A%E6%8F%92%E5%85%A5%E3%80%81%E5%88%A0%E9%99%A4%E3%80%81%E4%BF%AE%E6%94%B9"><span class="toc-number">2.2.2.</span> <span class="toc-text">更新：插入、删除、修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9%EF%BC%9A%E6%93%8D%E4%BD%9C%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%BB%93%E6%9E%9C%E9%83%BD%E6%98%AF%E9%9B%86%E5%90%88%EF%BC%8C%E4%B8%80%E6%AC%A1%E4%B8%80%E9%9B%86%E5%90%88"><span class="toc-number">2.2.3.</span> <span class="toc-text">特点：操作对象和结果都是集合，一次一集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AF%AD%E8%A8%80%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%9A%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E8%AF%AD%E8%A8%80%E3%80%81%E5%85%B3%E7%B3%BB%E6%BC%94%E7%AE%97%E8%AF%AD%E8%A8%80%E3%80%81%E5%85%B7%E6%9C%89%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E5%92%8C%E5%85%B3%E7%B3%BB%E6%BC%94%E7%AE%97%E5%8F%8C%E9%87%8D%E7%89%B9%E7%82%B9%E7%9A%84%E8%AF%AD%E8%A8%80-SQL%E7%AD%89"><span class="toc-number">2.2.4.</span> <span class="toc-text">关系数据库语言的分类：关系代数语言、关系演算语言、具有关系代数和关系演算双重特点的语言(SQL等)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">2.3.</span> <span class="toc-text">关系的完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7-2"><span class="toc-number">2.3.1.</span> <span class="toc-text">实体完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7%E8%A7%84%E5%88%99%EF%BC%9A%E4%B8%BB%E5%B1%9E%E6%80%A7%E4%B8%8D%E8%83%BD%E5%8F%96%E7%A9%BA%E5%80%BC"><span class="toc-number">2.3.1.1.</span> <span class="toc-text">实体完整性规则：主属性不能取空值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E7%85%A7%E5%AE%8C%E6%95%B4%E6%80%A7%EF%BC%9A"><span class="toc-number">2.3.2.</span> <span class="toc-text">参照完整性：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E7%A0%81%EF%BC%9A"><span class="toc-number">2.3.2.1.</span> <span class="toc-text">外码：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BEF%E6%98%AF%E5%9F%BA%E6%9C%AC%E5%85%B3%E7%B3%BBR%E7%9A%84%E4%B8%80%E4%B8%AA%E6%88%96%E4%B8%80%E7%BB%84%E5%B1%9E%E6%80%A7%EF%BC%8C%E4%BD%86%E4%B8%8D%E6%98%AF%E5%85%B3%E7%B3%BBR%E7%9A%84%E7%A0%81%E3%80%82%E5%A6%82%E6%9E%9CF%E4%B8%8E%E5%9F%BA%E6%9C%AC%E5%85%B3%E7%B3%BBS%E7%9A%84%E4%B8%BB%E7%A0%81K-s%E7%9B%B8%E5%AF%B9%E5%BA%94%EF%BC%8C%E5%88%99F%E6%98%AFR%E7%9A%84%E5%A4%96%E7%A0%81"><span class="toc-number">2.3.2.1.1.</span> <span class="toc-text">设F是基本关系R的一个或一组属性，但不是关系R的码。如果F与基本关系S的主码KsK_sKs​相对应，则F是R的外码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#R%EF%BC%9A%E5%8F%82%E7%85%A7%E5%85%B3%E7%B3%BB"><span class="toc-number">2.3.2.1.2.</span> <span class="toc-text">R：参照关系</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#S%EF%BC%9A%E8%A2%AB%E5%8F%82%E7%85%A7%E5%85%B3%E7%B3%BB-%E7%9B%AE%E6%A0%87%E5%85%B3%E7%B3%BB"><span class="toc-number">2.3.2.1.3.</span> <span class="toc-text">S：被参照关系&#x2F;目标关系</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#R%E5%92%8CS%E4%B8%8D%E4%B8%80%E5%AE%9A%E4%B8%8D%E5%90%8C%EF%BC%9B%E4%B8%BB%E7%A0%81K-s%E5%92%8CF%E5%BF%85%E9%A1%BB%E5%AE%9A%E4%B9%89%E5%9C%A8%E5%90%8C%E4%B8%80%E5%9F%9F%E4%B8%8A%EF%BC%9B%E5%A4%96%E7%A0%81%E4%B8%8D%E4%B8%80%E5%AE%9A%E8%A6%81%E4%B8%8E%E5%AF%B9%E5%BA%94%E4%B8%BB%E7%A0%81%E5%90%8C%E5%90%8D"><span class="toc-number">2.3.2.1.4.</span> <span class="toc-text">R和S不一定不同；主码KsK_sKs​和FFF必须定义在同一域上；外码不一定要与对应主码同名</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E7%85%A7%E5%AE%8C%E6%95%B4%E6%80%A7%E8%A7%84%E5%88%99%EF%BC%9A"><span class="toc-number">2.3.2.2.</span> <span class="toc-text">参照完整性规则：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#R%E4%B8%AD%E6%AF%8F%E4%B8%AA%E5%85%83%E7%BB%84%E5%9C%A8F%E4%B8%8A%E7%9A%84%E5%80%BC%E5%BF%85%E9%A1%BB%E7%AD%89%E4%BA%8ES%E4%B8%AD%E6%9F%90%E4%B8%AA%E5%85%83%E7%BB%84%E4%B8%BB%E7%A0%81%E5%80%BCK-s-NULL"><span class="toc-number">2.3.2.2.1.</span> <span class="toc-text">R中每个元组在F上的值必须等于S中某个元组主码值KsK_sKs​&#x2F;NULL</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%86%97%E4%BD%99%EF%BC%9A"><span class="toc-number">2.3.2.3.</span> <span class="toc-text">数据冗余：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8D%E6%94%AF%E6%8C%81m-n%E8%81%94%E7%B3%BB%EF%BC%8C%E5%9B%A0%E4%B8%BA%E6%B0%B4%E5%AF%BC%E8%87%B4%E6%95%B0%E6%8D%AE%E5%86%97%E4%BD%99"><span class="toc-number">2.3.2.3.1.</span> <span class="toc-text">关系数据库不支持m:n联系，因为水导致数据冗余</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1%E3%80%811-m%E7%9A%84%E8%81%94%E7%B3%BB%E4%B8%8D%E4%BC%9A%E5%AD%98%E5%9C%A8%E5%AE%9E%E4%BD%93%E6%95%B0%E6%8D%AE%E5%86%97%E4%BD%99"><span class="toc-number">2.3.2.3.2.</span> <span class="toc-text">1:1、1:m的联系不会存在实体数据冗余</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7-2"><span class="toc-number">2.3.3.</span> <span class="toc-text">用户自定义的完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%92%88%E5%AF%B9%E6%9F%90%E4%B8%80%E5%85%B7%E4%BD%93%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6"><span class="toc-number">2.3.3.1.</span> <span class="toc-text">针对某一具体关系数据库的约束条件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B7%E4%BD%93%E5%BA%94%E7%94%A8%E6%89%80%E8%AE%BE%E8%AE%A1%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BF%85%E9%A1%BB%E6%BB%A1%E8%B6%B3%E7%9A%84%E8%AF%AD%E4%B9%89%E8%A6%81%E6%B1%82"><span class="toc-number">2.3.3.1.1.</span> <span class="toc-text">具体应用所设计的数据必须满足的语义要求</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E5%BA%94%E6%8F%90%E4%BE%9B%E5%AE%9A%E4%B9%89%E5%92%8C%E6%A3%80%E9%AA%8C%E8%BF%99%E7%B1%BB%E5%AE%8C%E6%95%B4%E6%80%A7%E7%9A%84%E6%9C%BA%E5%88%B6"><span class="toc-number">2.3.3.2.</span> <span class="toc-text">关系模型应提供定义和检验这类完整性的机制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0"><span class="toc-number">2.4.</span> <span class="toc-text">关系代数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%AF%E4%B8%80%E7%A7%8D%E6%8A%BD%E8%B1%A1%E7%9A%84%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%EF%BC%8C%E7%94%A8%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E8%A1%A8%E8%BE%BE%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.4.1.</span> <span class="toc-text">是一种抽象的查询语言，用关系运算表达查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E5%AF%B9%E8%B1%A1%E3%80%81%E7%BB%93%E6%9E%9C%E9%83%BD%E6%98%AF%E5%85%B3%E7%B3%BB"><span class="toc-number">2.4.2.</span> <span class="toc-text">运算对象、结果都是关系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%9A%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97%E7%AC%A6%E5%92%8C%E4%B8%93%E9%97%A8%E7%9A%84%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.4.2.1.</span> <span class="toc-text">关系代数的运算符：集合运算符和专门的关系运算符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B6%EF%BC%9A"><span class="toc-number">2.4.3.</span> <span class="toc-text">并：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#R%E3%80%81S%E5%90%8C%E7%9B%AEn%E5%90%8C%E5%9F%9F"><span class="toc-number">2.4.3.1.</span> <span class="toc-text">R、S同目n同域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#R-cup-S-set-t-t-in-R-vee-t-in-S"><span class="toc-number">2.4.3.2.</span> <span class="toc-text">R∪S&#x3D;{ t∣t∈R∨t∈S }R\cup S&#x3D;\set{t|t\in R \vee t\in S}R∪S&#x3D;{t∣t∈R∨t∈S}</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%85%81%E8%AE%B8%E9%87%8D%E5%A4%8D"><span class="toc-number">2.4.3.3.</span> <span class="toc-text">不允许重复</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%AE%EF%BC%9A"><span class="toc-number">2.4.4.</span> <span class="toc-text">差：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#R-S-set-t-t-in-R-wedge-t-notin-S"><span class="toc-number">2.4.4.1.</span> <span class="toc-text">R−S&#x3D;{ t∣t∈R∧t∉S }R-S&#x3D;\set{t|t\in R \wedge t\notin S}R−S&#x3D;{t∣t∈R∧t∈&#x2F;S}</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%9C%E6%98%AF%E2%80%A6%E4%BD%86%E4%B8%8D%E5%90%AB%E2%80%9D"><span class="toc-number">2.4.4.2.</span> <span class="toc-text">“是…但不含”</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%EF%BC%9A"><span class="toc-number">2.4.5.</span> <span class="toc-text">交：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#R-cap-S-set-t-t-in-R-wedge-t-in-S"><span class="toc-number">2.4.5.1.</span> <span class="toc-text">R∩S&#x3D;{ t∣t∈R∧t∈S }R\cap S&#x3D;\set{t|t\in R\wedge t\in S}R∩S&#x3D;{t∣t∈R∧t∈S}</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF%EF%BC%9A"><span class="toc-number">2.4.6.</span> <span class="toc-text">笛卡尔积：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#R-times-S-set-t-rt-s-t-r-in-R-wedge-t-s-in-S"><span class="toc-number">2.4.6.1.</span> <span class="toc-text">R×S&#x3D;{ trts∣tr∈R∧ts∈S }R\times S&#x3D;\set{t_rt_s|t_r\in R\wedge t_s\in S}R×S&#x3D;{tr​ts​∣tr​∈R∧ts​∈S}</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%8C%EF%BC%9Ak-1-times-k-2"><span class="toc-number">2.4.6.2.</span> <span class="toc-text">行：k1×k2k_1\times k_2k1​×k2​</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%EF%BC%9Am-n"><span class="toc-number">2.4.6.3.</span> <span class="toc-text">列：m+nm+nm+n</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%EF%BC%9A"><span class="toc-number">2.4.7.</span> <span class="toc-text">选择：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sigma-F-R-set-t-t-in-R-wedge-F-t-True"><span class="toc-number">2.4.7.1.</span> <span class="toc-text">σF(R)&#x3D;{ t∣t∈R∧F(t)&#x3D;True }\sigma_F(R)&#x3D;\set{t|t\in R\wedge F(t)&#x3D;True}σF​(R)&#x3D;{t∣t∈R∧F(t)&#x3D;True}</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#F%E6%98%AF%E4%B8%80%E4%B8%AA%E9%80%BB%E8%BE%91%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">2.4.7.2.</span> <span class="toc-text">F是一个逻辑表达式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%95%E5%BD%B1%EF%BC%9A"><span class="toc-number">2.4.8.</span> <span class="toc-text">投影：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#pi-A-R-set-t-A-t-in-R-%EF%BC%8CA%E4%B8%BAR%E4%B8%AD%E5%B1%9E%E6%80%A7%E5%88%97"><span class="toc-number">2.4.8.1.</span> <span class="toc-text">πA(R)&#x3D;{ t[A]∣t∈R }\pi_A(R)&#x3D;\set{t[A]|t\in R}πA​(R)&#x3D;{t[A]∣t∈R}，A为R中属性列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%95%E5%BD%B1%E5%90%8E%E9%87%8D%E5%A4%8D%E5%85%83%E7%BB%84%E8%A6%81%E5%8E%BB%E9%99%A4"><span class="toc-number">2.4.8.2.</span> <span class="toc-text">投影后重复元组要去除</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%EF%BC%9A"><span class="toc-number">2.4.9.</span> <span class="toc-text">连接：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8E%E4%B8%A4%E4%B8%AA%E5%85%B3%E7%B3%BB%E7%9A%84%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF%E4%B8%AD%E9%80%89%E5%8F%96%E5%B1%9E%E6%80%A7%E9%97%B4%E6%BB%A1%E8%B6%B3%E4%B8%80%E5%AE%9A%E6%9D%A1%E4%BB%B6%E7%9A%84%E5%85%83%E7%BB%84"><span class="toc-number">2.4.9.1.</span> <span class="toc-text">从两个关系的笛卡尔积中选取属性间满足一定条件的元组</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#R-Join-S-A-theta-B-set-t-rt-s-t-r-in-R-wedge-t-s-in-S-wedge-t-r-A-theta-t-sB"><span class="toc-number">2.4.9.1.1.</span> <span class="toc-text">R⋈SAθB&#x3D;{ trts∣tr∈R∧ts∈S∧tr[A]θtsB }R\Join S_{A\theta B}&#x3D;\set{t_rt_s|t_r\in R \wedge t_s\in S \wedge t_r[A]\theta t_sB}R⋈SAθB​&#x3D;{tr​ts​∣tr​∈R∧ts​∈S∧tr​[A]θts​B}</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#A-B%EF%BC%9AR%E5%92%8CS%E4%B8%8A%E5%BA%A6%E6%95%B0%E7%9B%B8%E7%AD%89%E4%B8%94%E5%8F%AF%E6%AF%94%E7%9A%84%E5%B1%9E%E6%80%A7%E7%BB%84"><span class="toc-number">2.4.9.2.</span> <span class="toc-text">A&#x2F;B：R和S上度数相等且可比的属性组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#theta%EF%BC%9A%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.4.9.3.</span> <span class="toc-text">θ\thetaθ：比较运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#R-Join-S-A-theta-B-sigma-t-r-A-theta-t-s-B-R-times-S"><span class="toc-number">2.4.9.4.</span> <span class="toc-text">R⋈SAθB&#x3D;σtr[A]θts[B](R×S)R\Join S_{A\theta B}&#x3D;\sigma_{t_r[A]\theta t_s[B]}(R\times S)R⋈SAθB​&#x3D;σtr​[A]θts​[B]​(R×S)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5%EF%BC%9A-theta%E4%B8%BA%E2%80%9C-%E2%80%9D"><span class="toc-number">2.4.9.5.</span> <span class="toc-text">等值连接：θ\thetaθ为“&#x3D;”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#R-Join-S-A-B-sigma-t-r-A-t-s-B-R-times-S"><span class="toc-number">2.4.9.6.</span> <span class="toc-text">R⋈SA&#x3D;B&#x3D;σtr[A]&#x3D;ts[B](R×S)R\Join S_{A&#x3D;B}&#x3D;\sigma_{t_r[A]&#x3D; t_s[B]}(R\times S)R⋈SA&#x3D;B​&#x3D;σtr​[A]&#x3D;ts​[B]​(R×S)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E7%84%B6%E8%BF%9E%E6%8E%A5%EF%BC%9A%E7%89%B9%E6%AE%8A%E7%9A%84%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-number">2.4.9.7.</span> <span class="toc-text">自然连接：特殊的等值连接</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E5%88%86%E9%87%8F%E5%BF%85%E9%A1%BB%E4%B8%BA%E7%9B%B8%E5%90%8C%E7%9A%84%E5%B1%9E%E6%80%A7%E7%BB%84"><span class="toc-number">2.4.9.7.1.</span> <span class="toc-text">比较分量必须为相同的属性组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%93%E6%9E%9C%E4%B8%AD%E6%8A%8A%E9%87%8D%E5%A4%8D%E7%9A%84%E5%B1%9E%E6%80%A7%E5%88%97%E5%8E%BB%E6%8E%89"><span class="toc-number">2.4.9.7.2.</span> <span class="toc-text">结果中把重复的属性列去掉</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%82%AC%E6%B5%AE%E5%85%83%E7%BB%84%EF%BC%9A"><span class="toc-number">2.4.10.</span> <span class="toc-text">悬浮元组：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E7%84%B6%E8%BF%9E%E6%8E%A5%E6%97%B6%EF%BC%8CR%E4%B8%AD%E6%9F%90%E4%BA%9B%E5%85%83%E7%BB%84%E5%8F%AF%E8%83%BD%E5%9C%A8S%E4%B8%AD-%E4%B8%8D%E5%AD%98%E5%9C%A8%E5%85%AC%E5%85%B1%E5%B1%9E%E6%80%A7%E4%B8%8A%E5%80%BC%E7%9B%B8%E7%AD%89%E7%9A%84%E5%85%83%E7%BB%84%EF%BC%8C%E4%BB%8E%E8%80%8C%E9%80%A0%E6%88%90R%E4%B8%AD%E8%BF%99%E4%BA%9B%E5%85%83%E7%BB%84%E5%9C%A8%E6%93%8D%E4%BD%9C%E6%97%B6%E8%A2%AB%E8%88%8D%E5%BC%83%E4%BA%86"><span class="toc-number">2.4.10.1.</span> <span class="toc-text">自然连接时，R中某些元组可能在S中 不存在公共属性上值相等的元组，从而造成R中这些元组在操作时被舍弃了</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5%EF%BC%9A%E4%BF%9D%E5%AD%98%E6%82%AC%E6%B5%AE%E5%85%83%E7%BB%84%EF%BC%8C%E5%A1%AB%E5%86%99%E7%A9%BA%E5%80%BC"><span class="toc-number">2.4.11.</span> <span class="toc-text">外连接：保存悬浮元组，填写空值</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5%EF%BC%9A%E5%8F%AA%E4%BF%9D%E7%95%99R%E4%B8%AD%E6%82%AC%E6%B5%AE%E5%85%83%E7%BB%84%EF%BC%8C%E5%8F%B3%E8%BE%B9S%E4%B8%8D%E5%8C%B9%E9%85%8D%E7%9A%84%E5%85%83%E7%BB%84%E4%B8%BANULL"><span class="toc-number">2.4.11.1.</span> <span class="toc-text">左外连接：只保留R中悬浮元组，右边S不匹配的元组为NULL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5%EF%BC%9A%E5%8F%AA%E4%BF%9D%E7%95%99S%E4%B8%AD%E6%82%AC%E6%B5%AE%E5%85%83%E7%BB%84%EF%BC%8C%E5%B7%A6%E8%BE%B9R%E4%B8%8D%E5%8C%B9%E9%85%8D%E7%9A%84%E5%85%83%E7%BB%84%E4%B8%BANULL"><span class="toc-number">2.4.11.2.</span> <span class="toc-text">右外连接：只保留S中悬浮元组，左边R不匹配的元组为NULL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%A4%96%E8%BF%9E%E6%8E%A5%EF%BC%9A%E4%BF%9D%E7%95%99%E6%89%80%E6%9C%89%E6%82%AC%E6%B5%AE%E5%85%83%E7%BB%84"><span class="toc-number">2.4.11.3.</span> <span class="toc-text">全外连接：保留所有悬浮元组</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%A4%E8%BF%90%E7%AE%97%EF%BC%9A%E5%85%B3%E7%B3%BBR-X-Y-S-Y-Z"><span class="toc-number">2.4.12.</span> <span class="toc-text">除运算：关系R(X,Y),S(Y,Z)R(X,Y),S(Y,Z)R(X,Y),S(Y,Z)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#R-Y-S-Y%E5%BA%94%E5%87%BA%E8%87%AA%E7%9B%B8%E5%90%8C%E5%9F%9F%EF%BC%8C%E4%B8%94%E4%B8%80%E8%88%AC-pi-y-S-subseteq-pi-y-R"><span class="toc-number">2.4.12.1.</span> <span class="toc-text">R.Y&#x2F;S.YR.Y&#x2F;S.YR.Y&#x2F;S.Y应出自相同域，且一般πy(S)⊆πy(R)\pi_y(S)\subseteq\pi_y(R)πy​(S)⊆πy​(R)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#R-div-S-set-t-r-X-t-r-in-R-wedge-y-S-subseteq-Y-x"><span class="toc-number">2.4.12.2.</span> <span class="toc-text">R÷S&#x3D;{ tr[X]∣tr∈R∧_y(S)⊆Yx }R\div S&#x3D;\set{t_r[X]|t_r\in R\wedge \_y(S)\subseteq Y_x}R÷S&#x3D;{tr​[X]∣tr​∈R∧_y(S)⊆Yx​}</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%90%86%E8%A7%A3%EF%BC%9A%E6%B1%82X-x%E7%9A%84%E8%B1%A1%E9%9B%86%E8%A2%ABS-Y%E6%89%80%E5%8C%85%E5%90%AB%E7%9A%84%E4%B8%80%E4%BA%9B%E5%85%83%E7%BB%84"><span class="toc-number">2.4.12.3.</span> <span class="toc-text">理解：求X&#x3D;x的象集被S.Y所包含的一些元组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%9C%E6%9F%A5%E8%AF%A2%E2%80%A6%E8%87%B3%E5%B0%91-%E5%85%A8%E9%83%A8-%E6%89%80%E6%9C%89%E2%80%A6%E2%80%9D"><span class="toc-number">2.4.12.4.</span> <span class="toc-text">“查询…至少&#x2F;全部&#x2F;所有…”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Eg%EF%BC%9A%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE%E4%BA%86%E5%85%A8%E9%83%A8%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E7%9A%84%E5%AD%A6%E5%8F%B7"><span class="toc-number">2.4.12.5.</span> <span class="toc-text">Eg：查询选修了全部课程的学生的学号</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#pi-Sno-Cno-SC-div-pi-Cno-Course"><span class="toc-number">2.4.12.5.1.</span> <span class="toc-text">πSno,Cno(SC)÷πCno(Course)\pi_{Sno,Cno}(SC)\div\pi_{Cno}(Course)πSno,Cno​(SC)÷πCno​(Course)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL%EF%BC%9AR-X-Y-div-S-Y-Z"><span class="toc-number">2.4.12.6.</span> <span class="toc-text">SQL：R(X,Y)÷S(Y,Z)R(X,Y)\div S(Y,Z)R(X,Y)÷S(Y,Z)</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">第三章 关系数据库标准语言SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL%E6%A6%82%E8%BF%B0"><span class="toc-number">3.1.</span> <span class="toc-text">SQL概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%EF%BC%9A%E7%BB%93%E6%9E%84%E5%8C%96%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%EF%BC%8C%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%A0%87%E5%87%86%E8%AF%AD%E8%A8%80"><span class="toc-number">3.1.1.</span> <span class="toc-text">SQL：结构化查询语言，关系数据库的标准语言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E7%89%B9%E7%82%B9%EF%BC%9A"><span class="toc-number">3.1.2.</span> <span class="toc-text">SQL特点：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%BC%E5%90%88%E7%BB%9F%E4%B8%80%EF%BC%9A"><span class="toc-number">3.1.2.1.</span> <span class="toc-text">综合统一：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9B%86%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80-DDL-%E3%80%81%E6%95%B0%E6%8D%AE%E6%93%8D%E7%BA%B5%E8%AF%AD%E8%A8%80-DML-%E3%80%81%E6%95%B0%E6%8D%AE%E6%8E%A7%E5%88%B6%E8%AF%AD%E8%A8%80-DCL-%E4%BA%8E%E4%B8%80%E4%BD%93%E3%80%82%E8%BF%98%E6%9C%89%E4%BA%8B%E7%89%A9%E6%8E%A7%E5%88%B6%E8%AF%AD%E8%A8%80-TCL"><span class="toc-number">3.1.2.1.1.</span> <span class="toc-text">集数据定义语言(DDL)、数据操纵语言(DML)、数据控制语言(DCL)于一体。还有事物控制语言(TCL)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DDL%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BB%93%E6%9E%84schema%E5%AE%9A%E4%B9%89%EF%BC%9Acreate%E3%80%81alter%E3%80%81drop"><span class="toc-number">3.1.2.1.2.</span> <span class="toc-text">DDL：数据库结构schema定义：create、alter、drop</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DML%EF%BC%9A%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E4%B8%8E%E4%BF%AE%E6%94%B9%EF%BC%9Ainsert%E3%80%81select%E3%80%81update%E3%80%81delete"><span class="toc-number">3.1.2.1.3.</span> <span class="toc-text">DML：数据查询与修改：insert、select、update、delete</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DCL%EF%BC%9A%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%EF%BC%9Agrant%E3%80%81revoke"><span class="toc-number">3.1.2.1.4.</span> <span class="toc-text">DCL：权限控制：grant、revoke</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#TCL%EF%BC%9A%E4%BF%9D%E9%9A%9C%E6%95%B0%E6%8D%AE%E4%BF%AE%E6%94%B9%E7%9A%84%E5%8E%9F%E5%AD%90%E6%80%A7%EF%BC%9Abegin-transaction%E3%80%81commit%E3%80%81rollback"><span class="toc-number">3.1.2.1.5.</span> <span class="toc-text">TCL：保障数据修改的原子性：begin transaction、commit、rollback</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E5%BA%A6%E9%9D%9E%E8%BF%87%E7%A8%8B%E5%8C%96"><span class="toc-number">3.1.2.2.</span> <span class="toc-text">高度非过程化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E9%9B%86%E5%90%88%E7%9A%84%E6%93%8D%E4%BD%9C%E6%96%B9%E5%BC%8F"><span class="toc-number">3.1.2.3.</span> <span class="toc-text">面向集合的操作方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E5%90%8C%E4%B8%80%E7%A7%8D%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84%E6%8F%90%E4%BE%9B%E5%A4%9A%E7%A7%8D%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">3.1.2.4.</span> <span class="toc-text">以同一种语法结构提供多种使用方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E8%A8%80%E7%AE%80%E6%B4%81%EF%BC%8C%E6%98%93%E5%AD%A6%E6%98%93%E7%94%A8"><span class="toc-number">3.1.2.5.</span> <span class="toc-text">语言简洁，易学易用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%A6%E7%94%9F-%E8%AF%BE%E7%A8%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">3.2.</span> <span class="toc-text">学生-课程数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%EF%BC%9Acreate-alter-drop"><span class="toc-number">3.3.</span> <span class="toc-text">数据定义：create&#x2F;alter&#x2F;drop</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%AE%9A%E4%B9%89-mysql%E4%B8%AD%E4%B8%8Edatabase%E7%AD%89%E4%BB%B7-%EF%BC%9A%E5%AE%9A%E4%B9%89%E4%BA%86%E4%B8%80%E4%B8%AA%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">3.3.1.</span> <span class="toc-text">模式定义(mysql中与database等价)：定义了一个命名空间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E5%AE%9A%E4%B9%89"><span class="toc-number">3.3.2.</span> <span class="toc-text">表定义</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%9A%E5%9F%9F"><span class="toc-number">3.3.2.2.</span> <span class="toc-text">数据类型：域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%EF%BC%9A%E5%8D%95%E5%BC%95%E5%8F%B7"><span class="toc-number">3.3.2.3.</span> <span class="toc-text">字符串常量：单引号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E8%BF%9E%E7%BB%AD%E5%8D%95%E5%BC%95%E5%8F%B7%E8%BD%AC%E4%B9%89%E4%B8%BA%E4%B8%80%E4%B8%AA"><span class="toc-number">3.3.2.4.</span> <span class="toc-text">两个连续单引号转义为一个</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E5%BC%95%E5%8F%B7%E6%A0%87%E8%AF%86%E5%85%B3%E9%94%AE%E5%AD%97%E3%80%81%E5%AF%B9%E8%B1%A1%E5%90%8D%E3%80%81%E5%AD%97%E6%AE%B5%E5%90%8D"><span class="toc-number">3.3.2.5.</span> <span class="toc-text">双引号标识关键字、对象名、字段名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9"><span class="toc-number">3.3.2.6.</span> <span class="toc-text">修改</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E5%92%8C%E7%B4%A2%E5%BC%95%E5%AE%9A%E4%B9%89"><span class="toc-number">3.3.3.</span> <span class="toc-text">视图和索引定义</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E7%9B%AE%E7%9A%84%EF%BC%9A%E5%8A%A0%E5%BF%AB%E6%9F%A5%E8%AF%A2%E9%80%9F%E5%BA%A6"><span class="toc-number">3.3.3.1.</span> <span class="toc-text">索引目的：加快查询速度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E7%B4%A2%E5%BC%95%E3%80%81B-%E6%A0%91%E7%B4%A2%E5%BC%95%E3%80%81%E6%95%A3%E5%88%97%E7%B4%A2%E5%BC%95%E3%80%81%E4%BD%8D%E5%9B%BE%E7%B4%A2%E5%BC%95"><span class="toc-number">3.3.3.2.</span> <span class="toc-text">顺序索引、B+树索引、散列索引、位图索引</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.4.</span> <span class="toc-text">数据查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5%EF%BC%9A"><span class="toc-number">3.4.1.</span> <span class="toc-text">等值连接：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E7%84%B6%E8%BF%9E%E6%8E%A5%EF%BC%9A"><span class="toc-number">3.4.2.</span> <span class="toc-text">自然连接：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E8%BA%AB%E8%BF%9E%E6%8E%A5%EF%BC%9A%E9%9C%80%E8%A6%81%E7%BB%99%E8%A1%A8%E8%B5%B7%E5%88%AB%E5%90%8D%E4%BB%A5%E5%8C%BA%E5%88%AB"><span class="toc-number">3.4.3.</span> <span class="toc-text">自身连接：需要给表起别名以区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5%EF%BC%9A"><span class="toc-number">3.4.4.</span> <span class="toc-text">外连接：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="toc-number">3.4.5.</span> <span class="toc-text">嵌套查询：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%86%E4%B8%80%E4%B8%AA%E6%9F%A5%E8%AF%A2%E5%9D%97%E5%B5%8C%E5%A5%97%E5%9C%A8%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%9F%A5%E8%AF%A2%E5%9D%97%E7%9A%84WHERE%E5%AD%90%E5%8F%A5%E6%88%96HAVING%E7%9F%AD%E8%AF%AD%E7%9A%84%E6%9D%A1%E4%BB%B6%E4%B8%AD"><span class="toc-number">3.4.5.1.</span> <span class="toc-text">将一个查询块嵌套在另一个查询块的WHERE子句或HAVING短语的条件中</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8order-by"><span class="toc-number">3.4.5.2.</span> <span class="toc-text">子查询不能使用order by</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E7%9B%B8%E5%85%B3%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%9A%E5%AD%90%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%9F%A5%E8%AF%A2%E6%9D%A1%E4%BB%B6%E4%B8%8D%E4%BE%9D%E8%B5%96%E4%BA%8E%E7%88%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.4.5.3.</span> <span class="toc-text">不相关子查询：子查询的查询条件不依赖于父查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%9A%E5%AD%90%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%9F%A5%E8%AF%A2%E6%9D%A1%E4%BB%B6%E4%BE%9D%E8%B5%96%E4%BA%8E%E7%88%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.4.5.4.</span> <span class="toc-text">相关子查询：子查询的查询条件依赖于父查询</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0"><span class="toc-number">3.5.</span> <span class="toc-text">数据更新</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%EF%BC%9A"><span class="toc-number">3.5.1.</span> <span class="toc-text">插入：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%86%E6%96%B0%E5%85%83%E7%BB%84%E6%8F%92%E5%85%A5%E6%8C%87%E5%AE%9A%E8%A1%A8%E4%B8%AD"><span class="toc-number">3.5.1.1.</span> <span class="toc-text">将新元组插入指定表中</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E5%AD%90%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C"><span class="toc-number">3.5.1.2.</span> <span class="toc-text">插入子查询结果</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%EF%BC%9A"><span class="toc-number">3.5.2.</span> <span class="toc-text">修改：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%EF%BC%9A"><span class="toc-number">3.5.3.</span> <span class="toc-text">删除：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A9%BA%E5%80%BC%E5%A4%84%E7%90%86"><span class="toc-number">3.6.</span> <span class="toc-text">空值处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E7%A0%81%E3%80%81unique%E3%80%81not-null%E4%B8%8D%E8%83%BD%E5%8F%96%E7%A9%BA%E5%80%BC"><span class="toc-number">3.6.1.</span> <span class="toc-text">主码、unique、not null不能取空值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%EF%BC%9Ais-null-is-not-null"><span class="toc-number">3.6.2.</span> <span class="toc-text">判断：is null&#x2F;is not null</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE"><span class="toc-number">3.7.</span> <span class="toc-text">视图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E8%A1%A8"><span class="toc-number">3.7.1.</span> <span class="toc-text">虚表</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">第四章 数据库安全性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">4.1.</span> <span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%EF%BC%9A%E4%BF%9D%E6%8A%A4%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%A5%E9%98%B2%E6%AD%A2%E4%B8%8D%E5%90%88%E6%B3%95%E4%BD%BF%E7%94%A8%E6%89%80%E9%80%A0%E6%88%90%E7%9A%84%E6%95%B0%E6%8D%AE%E6%B3%84%E9%9C%B2%E3%80%81%E6%9B%B4%E6%94%B9%E6%88%96%E7%A0%B4%E5%9D%8F"><span class="toc-number">4.1.1.</span> <span class="toc-text">定义：保护数据库以防止不合法使用所造成的数据泄露、更改或破坏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E8%A6%81%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87%EF%BC%9A%E7%B3%BB%E7%94%A8%E5%AE%89%E5%85%A8%E4%BF%9D%E6%8A%A4%E6%8E%AA%E6%96%BD%E6%98%AF%E5%90%A6%E6%9C%89%E6%95%88"><span class="toc-number">4.1.2.</span> <span class="toc-text">主要评价指标：系用安全保护措施是否有效</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E7%9B%AE%E6%A0%87%EF%BC%9A%E4%BF%9D%E5%AF%86%E6%80%A7%E3%80%81%E5%AE%8C%E6%95%B4%E6%80%A7%E3%80%81%E5%8F%AF%E7%94%A8%E6%80%A7"><span class="toc-number">4.1.3.</span> <span class="toc-text">安全目标：保密性、完整性、可用性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E6%A0%87%E5%87%86%EF%BC%9ATCSEC%E6%A0%87%E5%87%86-%E5%8F%AF%E4%BF%A1%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E8%AF%84%E4%BC%B0%E5%87%86%E5%88%99-%E3%80%81TDI-%E5%8F%AF%E4%BF%A1%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E8%A7%A3%E9%87%8A"><span class="toc-number">4.1.4.</span> <span class="toc-text">安全标准：TCSEC标准(可信计算机系统评估准则)、TDI(可信数据库系统解释)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E7%BA%A7%E5%88%AB%E5%88%92%E5%88%86%EF%BC%9A%E5%9B%9B%E7%BB%84%E4%B8%83%E7%BA%A7"><span class="toc-number">4.1.5.</span> <span class="toc-text">安全级别划分：四组七级</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E6%80%A7%E6%8E%A7%E5%88%B6"><span class="toc-number">4.2.</span> <span class="toc-text">安全性控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D-%E5%90%8E%E7%BB%AD"><span class="toc-number">4.2.1.</span> <span class="toc-text">数据库备份与恢复(后续)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%8F%96%E6%8E%A7%E5%88%B6%EF%BC%9A"><span class="toc-number">4.2.2.</span> <span class="toc-text">存取控制：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E4%B8%BB%E5%AD%98%E5%8F%96%E6%8E%A7%E5%88%B6-DAC-%EF%BC%9AC2"><span class="toc-number">4.2.2.1.</span> <span class="toc-text">自主存取控制(DAC)：C2</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#grant"><span class="toc-number">4.2.2.1.1.</span> <span class="toc-text">grant</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#revoke"><span class="toc-number">4.2.2.1.2.</span> <span class="toc-text">revoke</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%BA%E5%88%B6%E5%AD%98%E5%8F%96%E6%8E%A7%E5%88%B6-MAC-%EF%BC%9AB1"><span class="toc-number">4.2.2.2.</span> <span class="toc-text">强制存取控制(MAC)：B1</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">5.</span> <span class="toc-text">第五章 数据库完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%8C%E6%95%B4%E6%80%A7%E6%A6%82%E5%BF%B5%EF%BC%9A%E9%98%B2%E6%AD%A2%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E5%AD%98%E5%9C%A8%E4%B8%8D%E7%AC%A6%E5%90%88%E8%AF%AD%E4%B9%89%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">5.1.</span> <span class="toc-text">数据库完整性概念：防止数据库中存在不符合语义的数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%80%A7%EF%BC%9A%E7%AC%A6%E5%90%88%E7%8E%B0%E5%AE%9E%E4%B8%96%E7%95%8C%E8%AF%AD%E4%B9%89"><span class="toc-number">5.1.1.</span> <span class="toc-text">数据的正确性：符合现实世界语义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E7%9B%B8%E5%AE%B9%E6%80%A7%EF%BC%9A%E7%AC%A6%E5%90%88%E9%80%BB%E8%BE%91"><span class="toc-number">5.1.2.</span> <span class="toc-text">数据的相容性：符合逻辑</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7%EF%BC%9A"><span class="toc-number">5.2.</span> <span class="toc-text">实体完整性：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89"><span class="toc-number">5.2.1.</span> <span class="toc-text">定义</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7%EF%BC%9Acreate-table-%E4%B8%AD%E7%94%A8primary-key%E5%AE%9A%E4%B9%89"><span class="toc-number">5.2.1.1.</span> <span class="toc-text">关系模型的实体完整性：create table 中用primary key定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E5%B1%9E%E6%80%A7%E6%9E%84%E6%88%90%E7%9A%84%E4%B8%BB%E9%94%AE%E6%9C%89%E4%B8%A4%E7%A7%8D%E8%AF%B4%E6%98%8E%E6%96%B9%E6%B3%95"><span class="toc-number">5.2.1.2.</span> <span class="toc-text">单属性构成的主键有两种说明方法:</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E4%B8%BA%E5%88%97%E7%BA%A7%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6"><span class="toc-number">5.2.1.2.1.</span> <span class="toc-text">定义为列级约束条件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E4%B8%BA%E8%A1%A8%E7%BA%A7%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6"><span class="toc-number">5.2.1.2.2.</span> <span class="toc-text">定义为表级约束条件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E5%A4%9A%E4%B8%AA%E5%B1%9E%E6%80%A7%E6%9E%84%E6%88%90%E7%9A%84%E4%B8%BB%E9%94%AE%E5%8F%AA%E6%9C%89%E4%B8%80%E7%A7%8D%E8%AF%B4%E6%98%8E%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-number">5.2.1.3.</span> <span class="toc-text">对多个属性构成的主键只有一种说明方法：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E4%B8%BA%E8%A1%A8%E7%BA%A7%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6-2"><span class="toc-number">5.2.1.3.1.</span> <span class="toc-text">定义为表级约束条件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E5%92%8C%E8%BF%9D%E7%BA%A6%E5%A4%84%E7%90%86"><span class="toc-number">5.2.2.</span> <span class="toc-text">检查和违约处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E7%A0%81%E5%80%BC%E6%98%AF%E5%90%A6%E5%94%AF%E4%B8%80"><span class="toc-number">5.2.2.1.</span> <span class="toc-text">主码值是否唯一</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E7%A0%81%E5%90%84%E5%B1%9E%E6%80%A7%E6%98%AF%E5%90%A6%E4%B8%BA%E7%A9%BA"><span class="toc-number">5.2.2.2.</span> <span class="toc-text">主码各属性是否为空</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E7%85%A7%E5%AE%8C%E6%95%B4%E6%80%A7-2"><span class="toc-number">5.3.</span> <span class="toc-text">参照完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89-2"><span class="toc-number">5.3.1.</span> <span class="toc-text">定义</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#create-table%E4%B8%AD%E7%94%A8froeign-key%E5%AE%9A%E4%B9%89%E5%A4%96%E7%A0%81"><span class="toc-number">5.3.1.1.</span> <span class="toc-text">create table中用froeign key定义外码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#references%E6%8C%87%E6%98%8E%E5%A4%96%E7%A0%81%E5%8F%82%E7%85%A7%E5%93%AA%E4%BA%9B%E8%A1%A8%E7%9A%84%E4%B8%BB%E7%A0%81"><span class="toc-number">5.3.1.2.</span> <span class="toc-text">references指明外码参照哪些表的主码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E5%92%8C%E8%BF%9D%E7%BA%A6%E5%A4%84%E7%90%86-2"><span class="toc-number">5.3.2.</span> <span class="toc-text">检查和违约处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E8%A1%A8%E5%B0%86%E7%9B%B8%E5%BA%94%E7%9A%84%E5%85%83%E7%BB%84%E8%81%94%E7%B3%BB%E8%B5%B7%E6%9D%A5%EF%BC%8C%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6%E4%BC%9A%E7%A0%B4%E5%9D%8F%E5%8F%82%E7%85%A7%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">5.3.2.1.</span> <span class="toc-text">两个表将相应的元组联系起来，检查是否会破坏参照完整性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%84%E7%90%86%EF%BC%9A%E6%8B%92%E7%BB%9D%E6%89%A7%E8%A1%8C%E3%80%81%E7%BA%A7%E8%81%94%E6%93%8D%E4%BD%9C%E3%80%81%E8%AE%BE%E7%BD%AE%E7%A9%BA%E5%80%BC"><span class="toc-number">5.3.2.2.</span> <span class="toc-text">处理：拒绝执行、级联操作、设置空值</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">5.4.</span> <span class="toc-text">用户定义的完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%EF%BC%9A%E9%92%88%E5%AF%B9%E6%9F%90%E4%B8%80%E5%85%B7%E4%BD%93%E5%BA%94%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BF%85%E9%A1%BB%E6%BB%A1%E8%B6%B3%E7%9A%84%E8%AF%AD%E4%B9%89%E7%9A%84%E8%A6%81%E5%8E%BB"><span class="toc-number">5.4.1.</span> <span class="toc-text">定义：针对某一具体应用的数据必须满足的语义的要去</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E4%B8%8A%E7%9A%84%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6%EF%BC%9A"><span class="toc-number">5.4.2.</span> <span class="toc-text">属性上的约束条件：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E5%80%BC%E9%9D%9E%E7%A9%BA"><span class="toc-number">5.4.2.1.</span> <span class="toc-text">列值非空</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E5%80%BC%E5%94%AF%E4%B8%80"><span class="toc-number">5.4.2.2.</span> <span class="toc-text">列值唯一</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E5%88%97%E5%80%BC%E6%98%AF%E5%90%A6%E6%BB%A1%E8%B6%B3%E4%B8%80%E4%B8%AA%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">5.4.2.3.</span> <span class="toc-text">检查列值是否满足一个条件表达式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E4%B8%8A%E7%9A%84%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6%E6%A3%80%E6%9F%A5%E5%92%8C%E8%BF%9D%E7%BA%A6%E5%A4%84%E7%90%86"><span class="toc-number">5.4.3.</span> <span class="toc-text">属性上的约束条件检查和违约处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6%E8%A2%AB%E6%BB%A1%E8%B6%B3%EF%BC%8C%E4%B8%8D%E6%BB%A1%E8%B6%B3%E5%88%99%E6%8B%92%E7%BB%9D%E6%89%A7%E8%A1%8C"><span class="toc-number">5.4.3.1.</span> <span class="toc-text">检查是否被满足，不满足则拒绝执行</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%BB%84%E4%B8%8A%E7%9A%84%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6"><span class="toc-number">5.4.4.</span> <span class="toc-text">元组上的约束条件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#check%E5%AE%9A%E4%B9%89%E5%85%83%E7%BB%84%E7%BA%A7%E7%9A%84%E9%99%90%E5%88%B6"><span class="toc-number">5.4.4.1.</span> <span class="toc-text">check定义元组级的限制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E8%AE%BE%E7%BD%AE%E4%B8%8D%E5%90%8C%E5%B1%9E%E6%80%A7%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8F%96%E5%80%BC%E7%9A%84%E7%9B%B8%E4%BA%92%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6"><span class="toc-number">5.4.4.2.</span> <span class="toc-text">可设置不同属性之间的取值的相互约束条件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%BB%84%E4%B8%8A%E7%9A%84%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6%E6%A3%80%E6%9F%A5%E5%92%8C%E8%BF%9D%E7%BA%A6%E5%A4%84%E7%90%86"><span class="toc-number">5.4.5.</span> <span class="toc-text">元组上的约束条件检查和违约处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E6%98%AF%E5%90%A6%E8%A2%AB%E6%BB%A1%E8%B6%B3%EF%BC%8C%E4%B8%8D%E6%BB%A1%E8%B6%B3%E5%88%99%E6%8B%92%E7%BB%9D%E6%89%A7%E8%A1%8C-2"><span class="toc-number">5.4.5.1.</span> <span class="toc-text">检查是否被满足，不满足则拒绝执行</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E6%80%A7%E7%BA%A6%E6%9D%9F%E5%91%BD%E5%90%8D%E5%AD%90%E5%8F%A5"><span class="toc-number">5.5.</span> <span class="toc-text">完整性约束命名子句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">5.6.</span> <span class="toc-text">触发器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%EF%BC%9A"><span class="toc-number">5.6.1.</span> <span class="toc-text">定义：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E5%9C%A8%E5%85%B3%E7%B3%BB%E8%A1%A8%E4%B8%8A%E7%9A%84%E4%B8%80%E7%B1%BB%E7%94%B1%E4%BA%8B%E4%BB%B6%E9%A9%B1%E5%8A%A8%E7%9A%84%E7%89%B9%E6%AE%8A%E8%BF%87%E7%A8%8B"><span class="toc-number">5.6.1.1.</span> <span class="toc-text">用户定义在关系表上的一类由事件驱动的特殊过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E5%9C%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD"><span class="toc-number">5.6.1.2.</span> <span class="toc-text">保存在数据库服务器中</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="toc-number">5.6.2.</span> <span class="toc-text">类型：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%8C%E7%BA%A7%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">5.6.2.1.</span> <span class="toc-text">行级触发器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E5%8F%A5%E7%BA%A7%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-number">5.6.2.2.</span> <span class="toc-text">语句级触发器</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">6.</span> <span class="toc-text">第六章 关系数据理论</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E7%9A%84%E6%8F%90%E5%87%BA"><span class="toc-number">6.1.</span> <span class="toc-text">问题的提出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%84%E8%8C%83%E5%8C%96"><span class="toc-number">6.2.</span> <span class="toc-text">规范化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">6.2.1.</span> <span class="toc-text">函数依赖</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%EF%BC%9AX%E5%87%BD%E6%95%B0%E7%A1%AE%E5%AE%9AY-Y%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%E4%BA%8EX-%EF%BC%8C%E8%AE%B0%E4%BD%9C%EF%BC%9AX-rightarrow-Y%EF%BC%8C%E7%A7%B0X%E6%98%AF%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%E7%9A%84%E5%86%B3%E5%AE%9A%E5%9B%A0%E7%B4%A0"><span class="toc-number">6.2.1.1.</span> <span class="toc-text">定义：X函数确定Y(Y函数依赖于X)，记作：X→YX\rightarrow YX→Y，称X是函数依赖的决定因素</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%B8%E4%BA%92%E4%BE%9D%E8%B5%96%EF%BC%9AX-rightarrow-Y-wedge-Y-rightarrow-X-Rightarrow-X-leftrightarrow-Y"><span class="toc-number">6.2.1.1.1.</span> <span class="toc-text">相互依赖：X→Y∧Y→X⇒X↔YX\rightarrow Y \wedge Y\rightarrow X\Rightarrow X\leftrightarrow YX→Y∧Y→X⇒X↔Y</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%8D%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%EF%BC%9AX-nrightarrow-Y"><span class="toc-number">6.2.1.1.2.</span> <span class="toc-text">不函数依赖：X↛YX \nrightarrow YX↛Y</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%AD%E4%B9%89%E8%8C%83%E7%95%B4%EF%BC%9A%E6%A0%B9%E6%8D%AE%E6%95%B0%E6%8D%AE%E8%AF%AD%E4%B9%89%E7%A1%AE%E5%AE%9A%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">6.2.1.2.</span> <span class="toc-text">语义范畴：根据数据语义确定一个函数依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E5%B9%B3%E5%87%A1%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%EF%BC%9AY-nsubseteq-X"><span class="toc-number">6.2.1.3.</span> <span class="toc-text">非平凡函数依赖：Y⊈XY\nsubseteq XY⊈X</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B3%E5%87%A1%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%EF%BC%9AY-subseteq-X"><span class="toc-number">6.2.1.4.</span> <span class="toc-text">平凡函数依赖：Y⊆XY\subseteq XY⊆X</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8C%E5%85%A8%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%EF%BC%9AX-overset-F-rightarrow-Y-%E4%B8%8D%E5%AD%98%E5%9C%A8X%E7%9A%84%E7%9C%9F%E5%AD%90%E9%9B%86%E5%87%BD%E6%95%B0%E5%86%B3%E5%AE%9AY"><span class="toc-number">6.2.1.5.</span> <span class="toc-text">完全函数依赖：X→FYX \overset{F}{\rightarrow}YX→FY,不存在X的真子集函数决定Y</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%83%A8%E5%88%86%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%EF%BC%9AX-overset-P-rightarrow-Y%EF%BC%8C%E5%AD%98%E5%9C%A8X%E7%9A%84%E7%9C%9F%E5%AD%90%E9%9B%86%E5%87%BD%E6%95%B0%E5%86%B3%E5%AE%9AY"><span class="toc-number">6.2.1.6.</span> <span class="toc-text">部分函数依赖：X→PYX \overset{P}{\rightarrow}YX→PY，存在X的真子集函数决定Y</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E9%80%92%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%EF%BC%9AX-rightarrow-Y-Y-rightarrow-Z-Rightarrow-X-overset-mathrm-%E4%BC%A0%E9%80%92-rightarrow-Z%EF%BC%8C%E5%85%B6%E4%B8%ADX%E5%92%8CY%E4%B8%8D%E6%98%AF%E7%9B%B8%E4%BA%92%E4%BE%9D%E8%B5%96%EF%BC%8C%E9%83%BD%E4%B8%8D%E6%98%AF%E5%B9%B3%E5%87%A1%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">6.2.1.7.</span> <span class="toc-text">传递函数依赖：X→Y,Y→Z⇒X→传递ZX\rightarrow Y,Y\rightarrow Z\Rightarrow X \overset{\mathrm{传递}}{\rightarrow}ZX→Y,Y→Z⇒X→传递Z，其中X和Y不是相互依赖，都不是平凡函数依赖</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%98%E5%9C%A8%E9%9D%9E%E5%8F%97%E6%8E%A7%E5%86%97%E4%BD%99"><span class="toc-number">6.2.1.7.1.</span> <span class="toc-text">存在非受控冗余</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A0%81-%E9%94%AE"><span class="toc-number">6.2.2.</span> <span class="toc-text">码&#x2F;键</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%80%99%E9%80%89%E7%A0%81%EF%BC%9AK-overset-F-rightarrow-U"><span class="toc-number">6.2.2.1.</span> <span class="toc-text">候选码：K→FUK\overset{F}{\rightarrow}UK→FU</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B6%85%E7%A0%81%EF%BC%9AK-overset-P-rightarrow-U"><span class="toc-number">6.2.2.2.</span> <span class="toc-text">超码：K→PUK\overset{P}{\rightarrow}UK→PU</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%E7%9A%84%E5%85%AC%E7%90%86%EF%BC%9A%E5%AF%B9%E4%BA%8E%E6%BB%A1%E8%B6%B3%E4%B8%80%E7%BB%84%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96F%E7%9A%84%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8FR-U-F-%EF%BC%8C%E5%85%B6%E4%BB%BB%E4%BD%95%E4%B8%80%E4%B8%AA%E5%85%B3%E7%B3%BBr%EF%BC%8C%E8%8B%A5%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96X%E2%86%92Y%E9%83%BD%E6%88%90%E7%AB%8B-%E5%8D%B3r%E4%B8%AD%E4%BB%BB%E6%84%8F%E4%B8%A4%E5%85%83%E7%BB%84t%E3%80%81s%EF%BC%8C%E8%8B%A5t-X-s-X-%EF%BC%8C%E5%88%99-t-Y-s-Y-%EF%BC%8C%E5%88%99%E7%A7%B0F%E9%80%BB%E8%BE%91%E8%95%B4%E6%B6%B5X-%E2%86%92Y%E3%80%82"><span class="toc-number">6.2.3.</span> <span class="toc-text">函数依赖的公理：对于满足一组函数依赖F的关系模式R &lt;U,F&gt;，其任何一个关系r，若函数依赖X→Y都成立(即r中任意两元组t、s，若t[X]&#x3D;s[X]，则 t[Y]&#x3D;s[Y])，则称F逻辑蕴涵X →Y。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8C%83%E5%BC%8F-NF-%EF%BC%9A%E7%AC%A6%E5%90%88%E6%9F%90%E4%B8%80%E7%A7%8D%E7%BA%A7%E5%88%AB%E7%9A%84%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E7%9A%84%E9%9B%86%E5%90%88"><span class="toc-number">6.2.4.</span> <span class="toc-text">范式(NF)：符合某一种级别的关系模式的集合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5NF-sub-4NF-sub-BCNF-sub-3NF-sub-2NF-sub1NF"><span class="toc-number">6.2.4.1.</span> <span class="toc-text">5NF⊂4NF⊂BCNF⊂3NF⊂2NF⊂1NF5NF\sub 4NF\sub BCNF\sub 3NF\sub 2NF\sub1NF5NF⊂4NF⊂BCNF⊂3NF⊂2NF⊂1NF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%84%E8%8C%83%E5%8C%96%EF%BC%9A%E4%B8%80%E4%B8%AA%E4%BD%8E%E4%B8%80%E7%BA%A7%E8%8C%83%E5%BC%8F%E7%9A%84%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%EF%BC%8C%E9%80%9A%E8%BF%87%E6%A8%A1%E5%BC%8F%E5%88%86%E8%A7%A3%EF%BC%8C%E5%8F%AF%E8%BD%AC%E6%8D%A2%E4%B8%BA%E8%8B%A5%E5%B9%B2%E4%B8%AA%E9%AB%98%E4%B8%80%E7%BA%A7%E8%8C%83%E5%BC%8F%E7%9A%84%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E7%9A%84%E9%9B%86%E5%90%88"><span class="toc-number">6.2.4.2.</span> <span class="toc-text">规范化：一个低一级范式的关系模式，通过模式分解，可转换为若干个高一级范式的关系模式的集合</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1NF"><span class="toc-number">6.2.5.</span> <span class="toc-text">1NF</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E8%A1%A8%E7%9A%84%E6%AF%8F%E4%B8%AA%E5%88%86%E9%87%8F%E4%B8%8D%E5%8F%AF%E5%86%8D%E5%88%86"><span class="toc-number">6.2.5.1.</span> <span class="toc-text">二维表的每个分量不可再分</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E5%AF%B9%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%A6%81%E6%B1%82"><span class="toc-number">6.2.5.2.</span> <span class="toc-text">关系数据库中对关系模式的基本要求</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2NF"><span class="toc-number">6.2.6.</span> <span class="toc-text">2NF</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#R-in-1NF%EF%BC%8C%E4%B8%94%E6%AF%8F%E4%B8%AA%E9%9D%9E%E4%B8%BB%E5%B1%9E%E6%80%A7%E9%83%BD%E5%AE%8C%E5%85%A8%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%E4%BA%8E%E4%BB%BB%E4%BD%95%E4%B8%80%E4%B8%AA%E5%80%99%E9%80%89%E7%A0%81%EF%BC%8C%E5%88%99R-in2NF"><span class="toc-number">6.2.6.1.</span> <span class="toc-text">R∈1NFR\in 1NFR∈1NF，且每个非主属性都完全函数依赖于任何一个候选码，则R∈2NFR\in2NFR∈2NF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%EF%BC%9A%E6%8F%92%E5%85%A5%E5%BC%82%E5%B8%B8%E3%80%81%E5%88%A0%E9%99%A4%E5%BC%82%E5%B8%B8%E3%80%81%E4%BF%AE%E6%94%B9%E5%A4%8D%E6%9D%82"><span class="toc-number">6.2.6.2.</span> <span class="toc-text">问题：插入异常、删除异常、修改复杂</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E5%9B%A0%EF%BC%9A%E5%AD%98%E5%9C%A8%E5%AF%B9%E5%80%99%E9%80%89%E7%A0%81-%E5%A4%8D%E5%90%88%E4%B8%BB%E9%94%AE-%E7%9A%84%E9%83%A8%E5%88%86%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">6.2.6.3.</span> <span class="toc-text">原因：存在对候选码(复合主键)的部分函数依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E5%8D%95%E4%B8%80%E5%80%99%E9%80%89%E7%A0%81%EF%BC%8C%E8%87%AA%E7%84%B6%E6%98%AF2NF"><span class="toc-number">6.2.6.4.</span> <span class="toc-text">如果单一候选码，自然是2NF</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3NF"><span class="toc-number">6.2.7.</span> <span class="toc-text">3NF</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#R-in-1NF%EF%BC%8C%E4%B8%8D%E5%AD%98%E5%9C%A8%E4%BC%A0%E9%80%92%E4%BE%9D%E8%B5%96%EF%BC%8C%E5%88%99R-in-3NF"><span class="toc-number">6.2.7.1.</span> <span class="toc-text">R∈1NFR\in 1NFR∈1NF，不存在传递依赖，则R∈3NFR\in 3NFR∈3NF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B6%88%E9%99%A4%E9%9D%9E%E4%B8%BB%E5%B1%9E%E6%80%A7%E5%AF%B9%E5%80%99%E9%80%89%E7%A0%81%E7%9A%84%E4%BC%A0%E9%80%92%E4%BE%9D%E8%B5%96"><span class="toc-number">6.2.7.2.</span> <span class="toc-text">消除非主属性对候选码的传递依赖</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BCNF-%E4%BF%AE%E6%AD%A3%E7%9A%84%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F"><span class="toc-number">6.2.8.</span> <span class="toc-text">BCNF(修正的第三范式)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#R-in-1NF%EF%BC%8CX-rightarrow-Y%E6%97%B6-%E9%9D%9E%E5%B9%B3%E5%87%A1-%EF%BC%8CX%E5%BF%85%E5%90%AB%E6%9C%89%E7%A0%81%EF%BC%8C%E5%88%99R-in-BCNF"><span class="toc-number">6.2.8.1.</span> <span class="toc-text">R∈1NFR\in 1NFR∈1NF，X→YX\rightarrow YX→Y时(非平凡)，X必含有码，则R∈BCNFR\in BCNFR∈BCNF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%8F%E4%B8%80%E4%B8%AA%E5%86%B3%E5%AE%9A%E5%B1%9E%E6%80%A7%E9%9B%86%E9%83%BD%E5%8C%85%E5%90%AB%E5%80%99%E9%80%89%E7%A0%81-%E5%8D%B3%E6%AF%8F%E4%B8%AA%E5%B1%9E%E6%80%A7%E9%9B%86%E9%83%BD%E6%98%AF%E8%B6%85%E7%A0%81"><span class="toc-number">6.2.8.2.</span> <span class="toc-text">每一个决定属性集都包含候选码(即每个属性集都是超码)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%A4%E4%BA%86%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7-%E7%BB%84-%E5%AF%B9%E5%80%99%E9%80%89%E7%A0%81%E7%9A%84%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB%E4%B9%8B%E5%A4%96%EF%BC%8C%E6%B2%A1%E6%9C%89%E4%BB%BB%E4%BD%95%E5%85%B6%E4%BB%96%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB"><span class="toc-number">6.2.8.3.</span> <span class="toc-text">除了所有属性(组)对候选码的依赖关系之外，没有任何其他依赖关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%E8%8C%83%E7%95%B4%E5%86%85%EF%BC%8C%E5%AE%9E%E7%8E%B0%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%BD%BB%E5%BA%95%E5%88%86%E8%A7%A3%EF%BC%8C%E8%BE%BE%E5%88%B0%E4%BA%86%E6%9C%80%E9%AB%98%E8%A7%84%E8%8C%83%E5%8C%96%E7%A8%8B%E5%BA%A6"><span class="toc-number">6.2.8.4.</span> <span class="toc-text">函数依赖范畴内，实现模式的彻底分解，达到了最高规范化程度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B6%88%E9%99%A4%E4%BA%86%E6%8F%92%E5%85%A5%E4%B8%80%E5%9C%BA%E5%92%8C%E5%88%A0%E9%99%A4%E5%BC%82%E5%B8%B8"><span class="toc-number">6.2.8.5.</span> <span class="toc-text">消除了插入一场和删除异常</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E5%80%BC%E4%BE%9D%E8%B5%96"><span class="toc-number">6.2.9.</span> <span class="toc-text">多值依赖</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#X-rightarrow-rightarrow-Y%E7%AD%89%E4%BB%B7%E4%BA%8E-forall-x-z-exist-y%E4%BB%85%E4%B8%8Ex%E6%9C%89%E5%85%B3%E8%80%8C%E4%B8%8Ez%E6%97%A0%E5%85%B3"><span class="toc-number">6.2.9.1.</span> <span class="toc-text">X→→YX\rightarrow\rightarrow YX→→Y等价于∀(x,z),∃y\forall(x,z),\exist y∀(x,z),∃y仅与x有关而与z无关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#X-Y-Z-U"><span class="toc-number">6.2.9.2.</span> <span class="toc-text">X+Y+Z&#x3D;UX+Y+Z&#x3D;UX+Y+Z&#x3D;U</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B3%E5%87%A1%E7%9A%84%E5%A4%9A%E5%80%BC%E4%BE%9D%E8%B5%96%EF%BC%9AZ-Phi"><span class="toc-number">6.2.9.3.</span> <span class="toc-text">平凡的多值依赖：Z&#x3D;ΦZ&#x3D;\PhiZ&#x3D;Φ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96-FD-%E6%98%AF%E5%A4%9A%E5%80%BC%E4%BE%9D%E8%B5%96-MVD-%E7%9A%84%E7%89%B9%E6%AE%8A%E6%83%85%E5%86%B5%EF%BC%9AX-rightarrow-Y-Rightarrow-X-rightarrow-rightarrow-Y"><span class="toc-number">6.2.9.4.</span> <span class="toc-text">函数依赖(FD)是多值依赖(MVD)的特殊情况：X→Y⇒X→→YX\rightarrow Y\Rightarrow X\rightarrow\rightarrow YX→Y⇒X→→Y</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Y%E5%92%8CZ%E6%98%AF%E7%8B%AC%E7%AB%8B%E7%9A%84%EF%BC%8C%E5%9C%B0%E4%BD%8D%E7%AD%89%E4%BB%B7%EF%BC%8C%E5%85%B7%E6%9C%89%E5%AF%B9%E7%A7%B0%E6%80%A7"><span class="toc-number">6.2.9.5.</span> <span class="toc-text">Y和Z是独立的，地位等价，具有对称性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4NF"><span class="toc-number">6.2.10.</span> <span class="toc-text">4NF</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#R-in-1NF%EF%BC%8C%E6%AF%8F%E4%B8%AA%E9%9D%9E%E5%B9%B3%E5%87%A1%E7%9A%84%E5%A4%9A%E5%80%BC%E4%BE%9D%E8%B5%96X-rightarrow-rightarrow-Y%EF%BC%8CX%E9%83%BD%E5%90%AB%E6%9C%89%E7%A0%81%EF%BC%8C%E5%88%99R-in-4NF"><span class="toc-number">6.2.10.1.</span> <span class="toc-text">R∈1NFR\in 1NFR∈1NF，每个非平凡的多值依赖X→→YX\rightarrow\rightarrow YX→→Y，X都含有码，则R∈4NFR\in 4NFR∈4NF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%85%81%E8%AE%B8%E6%9C%89%E9%9D%9E%E5%B9%B3%E5%87%A1%E4%B8%94%E9%9D%9E%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%E7%9A%84%E5%A4%9A%E5%80%BC%E4%BE%9D%E8%B5%96"><span class="toc-number">6.2.10.2.</span> <span class="toc-text">不允许有非平凡且非函数依赖的多值依赖</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%BC%8F%E8%A7%84%E8%8C%83%E5%8C%96%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%AD%A5%E9%AA%A4"><span class="toc-number">6.2.11.</span> <span class="toc-text">关系模式规范化的基本步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1NF-2"><span class="toc-number">6.2.11.1.</span> <span class="toc-text">1NF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#downarrow-%E6%B6%88%E9%99%A4%E9%9D%9E%E4%B8%BB%E5%B1%9E%E6%80%A7%E5%AF%B9%E7%A0%81%E7%9A%84%E9%83%A8%E5%88%86%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">6.2.11.2.</span> <span class="toc-text">↓\downarrow↓ 消除非主属性对码的部分函数依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2NF-2"><span class="toc-number">6.2.11.3.</span> <span class="toc-text">2NF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#downarrow-%E6%B6%88%E9%99%A4%E9%9D%9E%E4%B8%BB%E5%B1%9E%E6%80%A7%E5%AF%B9%E7%A0%81%E7%9A%84%E4%BC%A0%E9%80%92%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">6.2.11.4.</span> <span class="toc-text">↓\downarrow↓ 消除非主属性对码的传递函数依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3NF-2"><span class="toc-number">6.2.11.5.</span> <span class="toc-text">3NF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#downarrow-%E6%B6%88%E9%99%A4-%E4%B8%BB%E5%B1%9E%E6%80%A7-%E5%AF%B9%E7%A0%81%E7%9A%84%E9%83%A8%E5%88%86%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%E5%92%8C%E4%BC%A0%E9%80%92%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">6.2.11.6.</span> <span class="toc-text">↓\downarrow↓ 消除&#x3D;&#x3D;主属性&#x3D;&#x3D;对码的部分函数依赖和传递函数依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BCNF-1-rightarrow-BC%EF%BC%9A%E6%B6%88%E9%99%A4%E5%86%B3%E5%AE%9A%E5%9B%A0%E7%B4%A0%E9%9D%9E%E7%A0%81%E7%9A%84%E9%9D%9E%E5%B9%B3%E5%87%A1%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">6.2.11.7.</span> <span class="toc-text">BCNF(1→BC\rightarrow BC→BC：消除决定因素非码的非平凡函数依赖)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#downarrow-%E6%B6%88%E9%99%A4%E9%9D%9E%E5%B9%B3%E5%87%A1%E4%B8%94%E9%9D%9E%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%E7%9A%84%E5%A4%9A%E5%80%BC%E4%BE%9D%E8%B5%96"><span class="toc-number">6.2.11.8.</span> <span class="toc-text">↓\downarrow↓ 消除非平凡且非函数依赖的多值依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4NF-2"><span class="toc-number">6.2.11.9.</span> <span class="toc-text">4NF</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BE%9D%E8%B5%96%E7%9A%84%E5%85%AC%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">6.3.</span> <span class="toc-text">数据依赖的公理系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Armstrong%E5%85%AC%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%9A"><span class="toc-number">6.3.1.</span> <span class="toc-text">Armstrong公理系统：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8F%8D%E5%BE%8B"><span class="toc-number">6.3.1.1.</span> <span class="toc-text">自反律</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E%E5%B9%BF%E5%BE%8B"><span class="toc-number">6.3.1.2.</span> <span class="toc-text">增广律</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E9%80%92%E5%BE%8B"><span class="toc-number">6.3.1.3.</span> <span class="toc-text">传递律</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A8%E7%90%86%E8%A7%84%E5%88%99%EF%BC%9A"><span class="toc-number">6.3.2.</span> <span class="toc-text">推理规则：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E8%A7%84%E5%88%99%EF%BC%9AX-rightarrow-Y-X-rightarrow-Z-Rightarrow-X-rightarrow-YZ"><span class="toc-number">6.3.2.1.</span> <span class="toc-text">合并规则：X→Y,X→Z⇒X→YZX\rightarrow Y,X\rightarrow Z\Rightarrow X\rightarrow YZX→Y,X→Z⇒X→YZ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%AA%E4%BC%A0%E9%80%92%E8%A7%84%E5%88%99%EF%BC%9AX-rightarrow-Y-WY-rightarrow-Z-Rightarrow-XW-rightarrow-Z"><span class="toc-number">6.3.2.2.</span> <span class="toc-text">伪传递规则：X→Y,WY→Z⇒XW→ZX\rightarrow Y,WY\rightarrow Z\Rightarrow XW\rightarrow ZX→Y,WY→Z⇒XW→Z</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E8%A7%A3%E8%A7%84%E5%88%99%EF%BC%9AX-rightarrow-Y-Z-subseteq-Y-Rightarrow-X-rightarrow-Z"><span class="toc-number">6.3.2.3.</span> <span class="toc-text">分解规则：X→Y,Z⊆Y⇒X→ZX\rightarrow Y,Z\subseteq Y \Rightarrow X\rightarrow ZX→Y,Z⊆Y⇒X→Z</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">7.</span> <span class="toc-text">第七章 数据库设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E6%A6%82%E8%BF%B0"><span class="toc-number">7.1.</span> <span class="toc-text">数据库设计概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6%E4%B8%AA%E9%98%B6%E6%AE%B5"><span class="toc-number">7.1.0.1.</span> <span class="toc-text">6个阶段</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="toc-number">7.2.</span> <span class="toc-text">需求分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">7.3.</span> <span class="toc-text">概念结构设计</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%86%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E5%BE%97%E5%88%B0%E7%9A%84%E7%94%A8%E6%88%B7%E9%9C%80%E6%B1%82%E6%8A%BD%E8%B1%A1%E4%B8%BA%E4%BF%A1%E6%81%AF%E7%BB%93%E6%9E%84-%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B"><span class="toc-number">7.3.0.1.</span> <span class="toc-text">将需求分析得到的用户需求抽象为信息结构(概念模型)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B"><span class="toc-number">7.3.1.</span> <span class="toc-text">概念模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8D%E6%98%A0%E7%8E%B0%E5%AE%9E%E4%B8%96%E7%95%8C%EF%BC%8C%E6%98%AF%E7%8E%B0%E5%AE%9E%E4%B8%96%E7%95%8C%E7%9A%84%E4%B8%80%E4%B8%AA%E7%9C%9F%E5%AE%9E%E6%A8%A1%E5%9E%8B"><span class="toc-number">7.3.1.1.</span> <span class="toc-text">反映现实世界，是现实世界的一个真实模型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#E-R%E6%A8%A1%E5%9E%8B"><span class="toc-number">7.3.2.</span> <span class="toc-text">E-R模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E4%B9%8B%E9%97%B4%E7%9A%84%E8%81%94%E7%B3%BB%EF%BC%9A1-1%E3%80%811%EF%BC%9An%E3%80%81m%EF%BC%9An"><span class="toc-number">7.3.2.1.</span> <span class="toc-text">实体之间的联系：1:1、1：n、m：n</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">7.4.</span> <span class="toc-text">逻辑结构设计</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8Crow%E2%80%99s-Foot-ERD%E5%BB%BA%E6%A8%A1"><span class="toc-number">7.4.0.1.</span> <span class="toc-text">用Crow’s Foot ERD建模</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93-%E8%8C%83%E5%BC%8F%E5%88%86%E8%A7%A3%E7%90%86%E8%AE%BA-%EF%BC%8C%E6%B6%88%E9%99%A4%E5%B1%9E%E6%80%A7%E4%BE%9D%E8%B5%96%E4%B8%8E%E5%86%97%E4%BD%99%EF%BC%8C%E6%98%8E%E7%A1%AE%E4%B8%BB%E9%94%AE%E3%80%81%E5%A4%96%E9%94%AE%E5%8F%82%E7%85%A7%E5%85%B3%E7%B3%BB%EF%BC%8C%E6%B6%88%E9%99%A4%E5%AE%9E%E4%BD%93%E9%97%B4-%E5%A4%9A%E5%AF%B9%E5%A4%9A-%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">7.4.0.2.</span> <span class="toc-text">根据关系数据库&#x3D;&#x3D;范式分解理论&#x3D;&#x3D;，消除属性依赖与冗余，明确主键、外键参照关系，消除实体间&#x3D;&#x3D;多对多&#x3D;&#x3D;的关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E8%A7%84%E8%8C%83%E5%8C%96%E7%90%86%E8%AE%BA%E5%88%86%E8%A7%A3%E5%88%B03NF"><span class="toc-number">7.4.0.3.</span> <span class="toc-text">按照规范化理论分解到3NF</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">7.5.</span> <span class="toc-text">物理结构设计</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9C%A8%E7%89%A9%E7%90%86%E8%AE%BE%E5%A4%87%E4%B8%8A%E7%9A%84%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%E4%B8%8E%E5%AD%98%E5%8F%96%E6%96%B9%E6%B3%95%E7%A7%B0%E4%B8%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84%EF%BC%8C%E5%AE%83%E4%BE%9D%E8%B5%96%E4%BA%8E%E9%80%89%E5%AE%9A%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E3%80%82"><span class="toc-number">7.5.0.1.</span> <span class="toc-text">数据库在物理设备上的存储结构与存取方法称为数据库的物理结构，它依赖于选定的数据库管理系统。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A1%AE%E5%AE%9A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84%E4%B8%BB%E8%A6%81%E6%8C%87%E7%A1%AE%E5%AE%9A%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AD%98%E6%94%BE%E4%BD%8D%E7%BD%AE%E5%92%8C%E5%AD%98%E5%82%A8%E7%BB%93-%E6%9E%84"><span class="toc-number">7.5.0.2.</span> <span class="toc-text">确定数据库物理结构主要指确定数据的存放位置和存储结 构</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%9E%E6%96%BD%E5%92%8C%E7%BB%B4%E6%8A%A4"><span class="toc-number">7.6.</span> <span class="toc-text">数据库的实施和维护</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">8.</span> <span class="toc-text">第八章 数据库编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%87%E7%A8%8B%E5%8C%96SQL"><span class="toc-number">8.1.</span> <span class="toc-text">过程化SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E5%9C%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8A%E5%AE%9E%E7%8E%B0"><span class="toc-number">8.1.1.</span> <span class="toc-text">业务逻辑在数据库上实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%87%E7%A8%8B%E5%8C%96SQL%E7%9A%84%E5%9D%97%E7%BB%93%E6%9E%84"><span class="toc-number">8.1.2.</span> <span class="toc-text">过程化SQL的块结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL%E7%9A%84%E6%89%A9%E5%B1%95"><span class="toc-number">8.1.2.1.</span> <span class="toc-text">SQL的扩展</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0%E4%BA%86%E8%BF%87%E7%A8%8B%E5%8C%96%E8%AF%AD%E5%8F%A5%E5%8A%9F%E8%83%BD"><span class="toc-number">8.1.2.2.</span> <span class="toc-text">增加了过程化语句功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84%E6%98%AF%E5%9D%97"><span class="toc-number">8.1.2.3.</span> <span class="toc-text">基本结构是块</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9D%97%E4%B9%8B%E9%97%B4%E5%8F%AF%E4%BB%A5%E5%B5%8C%E5%A5%97"><span class="toc-number">8.1.2.3.1.</span> <span class="toc-text">块之间可以嵌套</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AF%8F%E4%B8%AA%E5%9D%97%E5%AE%8C%E6%88%90%E4%B8%80%E4%B8%AA%E9%80%BB%E8%BE%91%E6%93%8D%E4%BD%9C"><span class="toc-number">8.1.2.3.2.</span> <span class="toc-text">每个块完成一个逻辑操作</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9D%97%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="toc-number">8.1.2.4.</span> <span class="toc-text">块的基本结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E9%83%A8%E5%88%86"><span class="toc-number">8.1.2.4.1.</span> <span class="toc-text">定义部分</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E9%83%A8%E5%88%86"><span class="toc-number">8.1.2.4.2.</span> <span class="toc-text">执行部分</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%92%8C%E5%B8%B8%E9%87%8F%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">8.1.3.</span> <span class="toc-text">变量和常量的定义</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%AE%9A%E4%B9%89"><span class="toc-number">8.1.3.1.</span> <span class="toc-text">变量定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F%E5%AE%9A%E4%B9%89"><span class="toc-number">8.1.3.2.</span> <span class="toc-text">常量定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5"><span class="toc-number">8.1.3.3.</span> <span class="toc-text">赋值语句</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">8.1.4.</span> <span class="toc-text">流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">8.1.4.1.</span> <span class="toc-text">条件控制语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">8.1.4.2.</span> <span class="toc-text">循环控制语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-number">8.1.4.3.</span> <span class="toc-text">错误处理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JDBC%E7%BC%96%E7%A8%8B"><span class="toc-number">8.2.</span> <span class="toc-text">JDBC编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JDBC-API"><span class="toc-number">8.2.1.</span> <span class="toc-text">JDBC API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E4%BE%9B%E4%BA%86%E4%B8%80%E5%A5%97%E8%AE%BF%E9%97%AE%E4%BB%BB%E4%BD%95RDBMS%E7%9A%84%E6%A0%87%E5%87%86%E6%8E%A5%E5%8F%A3"><span class="toc-number">8.2.1.1.</span> <span class="toc-text">提供了一套访问任何RDBMS的标准接口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JDBC-Driver"><span class="toc-number">8.2.1.2.</span> <span class="toc-text">JDBC Driver</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Connection"><span class="toc-number">8.2.1.3.</span> <span class="toc-text">Connection</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Statement"><span class="toc-number">8.2.1.4.</span> <span class="toc-text">Statement</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ResultSet"><span class="toc-number">8.2.1.5.</span> <span class="toc-text">ResultSet</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E6%B3%A8%E5%85%A5"><span class="toc-number">8.2.2.</span> <span class="toc-text">SQL注入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E4%BB%A3%E7%A0%81%E6%B3%A8%E5%85%A5%E6%8A%80%E6%9C%AF%EF%BC%8C%E5%8F%91%E7%94%9F%E5%9C%A8%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%A4%E4%BA%92%E5%B1%82%E7%9A%84%E5%AE%89%E5%85%A8%E6%BC%8F%E6%B4%9E"><span class="toc-number">8.2.2.1.</span> <span class="toc-text">高级代码注入技术，发生在应用程序和数据库交互层的安全漏洞</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%BB%E5%87%BB%E8%80%85%E4%B8%93%E9%97%A8%E6%9E%84%E9%80%A0%E4%BC%A0%E9%80%92%E7%BB%99%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84SQL%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C%E6%9D%A5%E4%BF%AE%E6%94%B9SQL%E8%87%AA%E8%BA%AB%E7%9A%84%E8%AF%AD%E6%B3%95%E5%92%8C%E5%8A%9F%E8%83%BD"><span class="toc-number">8.2.2.2.</span> <span class="toc-text">攻击者专门构造传递给数据库的SQL字符串，来修改SQL自身的语法和功能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E6%B3%A8%E5%85%A5%E4%BA%A7%E7%94%9F%E7%9A%84%E6%8A%80%E6%9C%AF%E6%A0%B9%E6%BA%90"><span class="toc-number">8.2.3.</span> <span class="toc-text">SQL注入产生的技术根源</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B8%E5%9E%8B%E7%9A%84B-S%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="toc-number">8.2.3.1.</span> <span class="toc-text">典型的B&#x2F;S应用程序三层架构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="toc-number">8.2.4.</span> <span class="toc-text">方式：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B4%E6%95%B0"><span class="toc-number">8.2.4.1.</span> <span class="toc-text">整数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">8.2.4.2.</span> <span class="toc-text">字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL%E6%B3%A8%E9%87%8A"><span class="toc-number">8.2.4.3.</span> <span class="toc-text">SQL注释</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%84%E9%98%B2%EF%BC%9A"><span class="toc-number">8.2.5.</span> <span class="toc-text">预防：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%E3%80%81%E8%BD%AC%E4%B9%89%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6"><span class="toc-number">8.2.5.1.</span> <span class="toc-text">检查用户输入、转义特殊字符</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">9.</span> <span class="toc-text">第九章 关系查询处理和查询优化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%9F%A5%E8%AF%A2%E5%A4%84%E7%90%86"><span class="toc-number">9.1.</span> <span class="toc-text">关系数据库系统的查询处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%A4%84%E7%90%86%E9%98%B6%E6%AE%B5"><span class="toc-number">9.1.1.</span> <span class="toc-text">查询处理阶段</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%88%86%E6%9E%90%EF%BC%9A%E5%AF%B9%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%E8%BF%9B%E8%A1%8C%E6%89%AB%E6%8F%8F%E3%80%81%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90%E3%80%81%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90"><span class="toc-number">9.1.1.1.</span> <span class="toc-text">查询分析：对查询语句进行扫描、词法分析、语法分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%A3%80%E6%9F%A5%EF%BC%9A%E5%90%88%E6%B3%95%E6%80%A7%E6%A3%80%E6%9F%A5%E3%80%81%E8%A7%86%E5%9B%BE%E8%BD%AC%E6%8D%A2%E3%80%81%E5%AE%89%E5%85%A8%E6%80%A7%E6%A3%80%E6%9F%A5-DAC%E3%80%81MAC-%E3%80%81%E5%AE%8C%E6%95%B4%E6%80%A7%E5%88%9D%E6%AD%A5%E6%A3%80%E6%9F%A5"><span class="toc-number">9.1.1.2.</span> <span class="toc-text">查询检查：合法性检查、视图转换、安全性检查(DAC、MAC)、完整性初步检查</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E9%80%9A%E8%BF%87%E5%90%8E%E8%BD%AC%E4%B8%BA%E7%AD%89%E4%BB%B7%E7%9A%84%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">9.1.1.2.1.</span> <span class="toc-text">检查通过后转为等价的关系代数表达式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%9F%A5%E8%AF%A2%E6%A0%91-%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90%E6%A0%91"><span class="toc-number">9.1.1.2.2.</span> <span class="toc-text">使用查询树&#x2F;语法分析树</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96%EF%BC%9A%E9%80%89%E6%8B%A9%E4%B8%80%E4%B8%AA%E9%AB%98%E6%95%88%E6%89%A7%E8%A1%8C%E7%9A%84%E6%9F%A5%E8%AF%A2%E5%A4%84%E7%90%86%E7%AD%96%E7%95%A5"><span class="toc-number">9.1.1.3.</span> <span class="toc-text">查询优化：选择一个高效执行的查询处理策略</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E4%BE%9D%E6%8D%AE%EF%BC%9A%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99%E3%80%81%E4%BB%A3%E4%BB%B7%E3%80%81%E8%AF%AD%E4%B9%89"><span class="toc-number">9.1.1.3.1.</span> <span class="toc-text">选择依据：基于规则、代价、语义</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E6%89%A7%E8%A1%8C%EF%BC%9A%E4%BE%9D%E6%8D%AE%E4%BC%98%E5%8C%96%E5%99%A8%E5%BE%97%E5%88%B0%E7%9A%84%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5%E7%94%9F%E6%88%90%E6%9F%A5%E8%AF%A2%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92"><span class="toc-number">9.1.1.4.</span> <span class="toc-text">查询执行：依据优化器得到的执行策略生成查询执行计划</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%99%A8%EF%BC%9A%E7%94%9F%E6%88%90%E6%89%A7%E8%A1%8C%E6%9F%A5%E8%AF%A2%E8%AE%A1%E5%88%92%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="toc-number">9.1.1.4.1.</span> <span class="toc-text">代码生成器：生成执行查询计划的代码</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96"><span class="toc-number">9.2.</span> <span class="toc-text">关系数据库系统的查询优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%93%8D%E4%BD%9C%EF%BC%9A"><span class="toc-number">9.2.1.</span> <span class="toc-text">选择操作：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%A8%E8%A1%A8%E6%89%AB%E6%8F%8F%E6%96%B9%E6%B3%95%EF%BC%9A%E9%80%82%E5%90%88%E5%B0%8F%E8%A1%A8"><span class="toc-number">9.2.1.0.1.</span> <span class="toc-text">全表扫描方法：适合小表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E6%89%AB%E6%8F%8F%E6%96%B9%E6%B3%95%EF%BC%9AB-%E6%A0%91%E7%B4%A2%E5%BC%95%E3%80%81Hash%E7%B4%A2%E5%BC%95"><span class="toc-number">9.2.1.0.2.</span> <span class="toc-text">索引扫描方法：B+树索引、Hash索引</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%93%8D%E4%BD%9C%EF%BC%9A%E6%9F%A5%E8%AF%A2%E5%A4%84%E7%90%86%E4%B8%AD%E6%9C%80%E8%80%97%E6%97%B6%E4%B9%8B%E4%B8%80"><span class="toc-number">9.2.2.</span> <span class="toc-text">连接操作：查询处理中最耗时之一</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E5%BE%AA%E7%8E%AF%E6%96%B9%E6%B3%95%EF%BC%9A%E9%81%8D%E5%8E%86"><span class="toc-number">9.2.2.1.</span> <span class="toc-text">嵌套循环方法：遍历</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%AF%E5%BF%AB%E9%80%9F%E8%8E%B7%E5%8F%96%E5%89%8D%E5%87%A0%E6%9D%A1%E6%9F%A5%E8%AF%A2%E8%AE%B0%E5%BD%95"><span class="toc-number">9.2.2.1.1.</span> <span class="toc-text">可快速获取前几条查询记录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%90%86%E6%83%B3%E5%9C%BA%E6%99%AF%EF%BC%9A%E5%A4%96%E8%A1%A8%E5%B0%8F%EF%BC%8C%E5%86%85%E8%A1%A8%E8%BF%9E%E6%8E%A5%E5%AD%97%E6%AE%B5%E6%9C%89%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95"><span class="toc-number">9.2.2.1.2.</span> <span class="toc-text">理想场景：外表小，内表连接字段有唯一索引</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F-%E5%90%88%E5%B9%B6%E7%AE%97%E6%B3%95"><span class="toc-number">9.2.2.2.</span> <span class="toc-text">排序-合并算法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%88%E6%8E%92%E5%BA%8F%E5%86%8D%E6%89%AB%E6%8F%8F"><span class="toc-number">9.2.2.2.1.</span> <span class="toc-text">先排序再扫描</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%AA%E9%9C%80%E5%90%84%E8%A1%A8%E6%89%AB%E6%8F%8F%E4%B8%80%E9%81%8D"><span class="toc-number">9.2.2.2.2.</span> <span class="toc-text">只需各表扫描一遍</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E8%BF%9E%E6%8E%A5%E7%AE%97%E6%B3%95-%E5%B5%8C%E5%A5%97%E5%BE%AA%E7%8E%AF%E7%9A%84%E5%8F%98%E7%A7%8D"><span class="toc-number">9.2.2.3.</span> <span class="toc-text">索引连接算法(嵌套循环的变种)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%86%85%E8%A1%A8%E7%B4%A2%E5%BC%95%E6%9F%A5%E6%89%BE"><span class="toc-number">9.2.2.3.1.</span> <span class="toc-text">通过内表索引查找</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hash-Join%E7%AE%97%E6%B3%95"><span class="toc-number">9.2.2.4.</span> <span class="toc-text">Hash Join算法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%8A%E8%BF%9E%E6%8E%A5%E5%B1%9E%E6%80%A7%E4%BD%9C%E4%B8%BAhash%E7%A0%81"><span class="toc-number">9.2.2.4.1.</span> <span class="toc-text">把连接属性作为hash码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%92%E5%88%86%E9%98%B6%E6%AE%B5-%E8%AF%95%E6%8E%A2-%E8%BF%9E%E6%8E%A5-%E9%98%B6%E6%AE%B5"><span class="toc-number">9.2.2.4.2.</span> <span class="toc-text">划分阶段+试探(连接)阶段</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%A7%E6%95%B0%E6%8D%AE%E9%9B%86%E8%BF%9E%E6%8E%A5%E5%B8%B8%E7%94%A8%EF%BC%8C%E5%8F%AA%E8%83%BD%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5"><span class="toc-number">9.2.2.4.3.</span> <span class="toc-text">大数据集连接常用，只能等值连接</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%82%E7%94%A8%E4%BA%8E%E8%BE%83%E5%B0%8F%E7%9A%84%E8%A1%A8%E5%AE%8C%E5%85%A8%E5%8F%AF%E4%BB%A5%E6%94%BE%E4%BA%8E%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E6%83%85%E5%86%B5"><span class="toc-number">9.2.2.4.4.</span> <span class="toc-text">适用于较小的表完全可以放于内存中的情况</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E6%95%B0%E4%BC%98%E5%8C%96"><span class="toc-number">9.3.</span> <span class="toc-text">代数优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E4%BC%98%E5%8C%96%EF%BC%8C%E9%80%9A%E8%BF%87%E5%AF%B9%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E7%AD%89%E4%BB%B7%E5%8F%98%E6%8D%A2%E6%9D%A5%E6%8F%90%E9%AB%98%E6%9F%A5%E8%AF%A2%E6%95%88%E7%8E%87"><span class="toc-number">9.3.1.</span> <span class="toc-text">关系代数表达式的优化，通过对关系代数表达式的等价变换来提高查询效率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AD%89%E4%BB%B7%EF%BC%8C%E8%AE%B0%E4%BD%9CE-1-equiv-E-2"><span class="toc-number">9.3.2.</span> <span class="toc-text">关系表达式等价，记作E1≡E2E_1\equiv E_2E1​≡E2​</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AD%89%E4%BB%B7%E5%8F%98%E6%8D%A2%E8%A7%84%E5%88%99"><span class="toc-number">9.3.3.</span> <span class="toc-text">常用的等价变换规则</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E3%80%81%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF%E7%9A%84%E4%BA%A4%E6%8D%A2%E5%BE%8B%E5%92%8C%E7%BB%93%E5%90%88%E5%BE%8B"><span class="toc-number">9.3.3.1.</span> <span class="toc-text">连接、笛卡尔积的交换律和结合律</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%95%E5%BD%B1%E7%9A%84%E4%B8%B2%E6%8E%A5%E5%AE%9A%E5%BE%8B%EF%BC%9A%E5%AD%90%E9%9B%86%E5%85%B3%E7%B3%BB%E4%B8%8B%EF%BC%8C%E6%9C%80%E5%A4%96%E5%B1%82%E6%8A%95%E5%BD%B1%E6%9C%89%E6%95%88"><span class="toc-number">9.3.3.2.</span> <span class="toc-text">投影的串接定律：子集关系下，最外层投影有效</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E7%9A%84%E4%B8%B2%E6%8E%A5%E5%AE%9A%E5%BE%8B%EF%BC%9A%E9%80%89%E6%8B%A9%E6%9D%A1%E4%BB%B6%E5%8F%AF%E5%90%88%E5%B9%B6"><span class="toc-number">9.3.3.3.</span> <span class="toc-text">选择的串接定律：选择条件可合并</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E4%B8%8E%E6%8A%95%E5%BD%B1%E6%93%8D%E4%BD%9C%E7%9A%84%E4%BA%A4%E6%8D%A2%E5%BE%8B%EF%BC%9A%E4%B8%8EF%E6%B6%89%E5%8F%8A%E7%9A%84%E5%B1%9E%E6%80%A7%E6%9C%89%E5%85%B3"><span class="toc-number">9.3.3.4.</span> <span class="toc-text">选择与投影操作的交换律：与F涉及的属性有关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%92%8C%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF%E7%9A%84%E4%BA%A4%E6%8D%A2%E5%BE%8B%EF%BC%9A%E4%B8%8EF%E6%B6%89%E5%8F%8A%E7%9A%84%E5%B1%9E%E6%80%A7%E6%9C%89%E5%85%B3"><span class="toc-number">9.3.3.5.</span> <span class="toc-text">选择和笛卡尔积的交换律：与F涉及的属性有关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E4%B8%8E%E5%B9%B6%E7%9A%84%E5%88%86%E9%85%8D%E5%BE%8B"><span class="toc-number">9.3.3.6.</span> <span class="toc-text">选择与并的分配律</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E4%B8%8E%E5%B7%AE%E7%9A%84%E5%88%86%E9%85%8D%E5%BE%8B"><span class="toc-number">9.3.3.7.</span> <span class="toc-text">选择与差的分配律</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%AF%B9%E8%87%AA%E7%84%B6%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%88%86%E9%85%8D%E5%BE%8B%EF%BC%9AF%E5%8F%AA%E6%B6%89%E5%8F%8A%E5%85%AC%E5%85%B1%E5%B1%9E%E6%80%A7"><span class="toc-number">9.3.3.8.</span> <span class="toc-text">选择对自然连接的分配律：F只涉及公共属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%95%E5%BD%B1%E5%AF%B9%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF%E7%9A%84%E5%88%86%E9%85%8D%E5%BE%8B%EF%BC%9A%E5%B1%9E%E6%80%A7%E4%B9%9F%E9%9C%80%E8%A6%81%E5%88%86%E9%85%8D"><span class="toc-number">9.3.3.9.</span> <span class="toc-text">投影对笛卡尔积的分配律：属性也需要分配</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%95%E5%BD%B1%E4%B8%8E%E5%B9%B6%E7%9A%84%E5%88%86%E9%85%8D%E5%BE%8B"><span class="toc-number">9.3.3.10.</span> <span class="toc-text">投影与并的分配律</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B8%E5%9E%8B%E7%9A%84%E5%90%AF%E5%8F%91%E5%BC%8F%E8%A7%84%E5%88%99"><span class="toc-number">9.3.4.</span> <span class="toc-text">典型的启发式规则</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E8%BF%90%E7%AE%97%E5%B0%BD%E5%8F%AF%E8%83%BD%E5%85%88%E5%81%9A"><span class="toc-number">9.3.4.1.</span> <span class="toc-text">选择运算尽可能先做</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%95%E5%BD%B1%E5%92%8C%E9%80%89%E6%8B%A9%E5%90%8C%E6%97%B6%E8%BF%9B%E8%A1%8C"><span class="toc-number">9.3.4.2.</span> <span class="toc-text">投影和选择同时进行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%A6-%E2%80%A6"><span class="toc-number">9.3.4.3.</span> <span class="toc-text">… …</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E4%BC%98%E5%8C%96"><span class="toc-number">9.4.</span> <span class="toc-text">物理优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%8F%96%E8%B7%AF%E5%BE%84%E5%92%8C%E5%BA%95%E5%B1%82%E6%93%8D%E4%BD%9C%E7%AE%97%E6%B3%95%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">9.4.1.</span> <span class="toc-text">存取路径和底层操作算法的选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">9.4.2.</span> <span class="toc-text">方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99%E7%9A%84%E5%90%AF%E5%8F%91%E5%BC%8F%E4%BC%98%E5%8C%96"><span class="toc-number">9.4.2.1.</span> <span class="toc-text">基于规则的启发式优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E4%BB%A3%E4%BB%B7%E4%BC%B0%E7%AE%97%E7%9A%84%E4%BC%98%E5%8C%96"><span class="toc-number">9.4.2.2.</span> <span class="toc-text">基于代价估算的优化</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">10.</span> <span class="toc-text">第十章 数据库恢复技术</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">10.1.</span> <span class="toc-text">事务的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%EF%BC%9A"><span class="toc-number">10.1.1.</span> <span class="toc-text">事务：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E7%9A%84%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E5%BA%8F%E5%88%97%EF%BC%8C%E4%B8%8D%E5%8F%AF%E5%88%86%E5%89%B2%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8D%95%E4%BD%8D"><span class="toc-number">10.1.1.1.</span> <span class="toc-text">用户定义的一个数据库操作序列，不可分割的工作单位</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E4%BA%8B%E5%8A%A1%E7%9A%84%E8%AF%AD%E5%8F%A5%EF%BC%9A"><span class="toc-number">10.1.2.</span> <span class="toc-text">定义事务的语句：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#BEGIN-TRANSACTION%EF%BC%9A%E5%BC%80%E5%A7%8B"><span class="toc-number">10.1.2.1.</span> <span class="toc-text">BEGIN TRANSACTION：开始</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#COMMIT%EF%BC%9A%E6%8F%90%E4%BA%A4%E4%BA%8B%E5%8A%A1%E7%9A%84%E6%89%80%E6%9C%89%E6%93%8D%E4%BD%9C"><span class="toc-number">10.1.2.2.</span> <span class="toc-text">COMMIT：提交事务的所有操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ROLLBACK%EF%BC%9A%E5%9B%9E%E6%BB%9A%EF%BC%8C%E7%B3%BB%E7%BB%9F%E5%B0%86%E4%BA%8B%E5%8A%A1%E4%B8%AD%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E6%89%80%E6%9C%89%E5%B7%B2%E5%AE%8C%E6%88%90%E7%9A%84%E6%93%8D%E4%BD%9C%E5%85%A8%E9%83%A8%E6%92%A4%E9%94%80"><span class="toc-number">10.1.2.3.</span> <span class="toc-text">ROLLBACK：回滚，系统将事务中对数据库所有已完成的操作全部撤销</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84ACID%E7%89%B9%E6%80%A7%EF%BC%9A"><span class="toc-number">10.1.3.</span> <span class="toc-text">事务的ACID特性：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E5%AD%90%E6%80%A7%EF%BC%9A%E4%BA%8B%E5%8A%A1%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E9%80%BB%E8%BE%91%E5%B7%A5%E4%BD%9C%E5%8D%95%E4%BD%8D"><span class="toc-number">10.1.3.1.</span> <span class="toc-text">原子性：事务是数据库的逻辑工作单位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E8%87%B4%E6%80%A7%EF%BC%9A%E4%BA%8B%E5%8A%A1%E7%9A%84%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C%E5%BF%85%E9%A1%BB%E6%98%AF%E4%BD%BF%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%8E%E4%B8%80%E4%B8%AA%E4%B8%80%E8%87%B4%E6%80%A7%E7%8A%B6%E6%80%81%E5%8F%98%E5%88%B0%E5%8F%A6%E4%B8%80%E4%B8%AA%E4%B8%80%E8%87%B4%E6%80%A7%E7%8A%B6%E6%80%81"><span class="toc-number">10.1.3.2.</span> <span class="toc-text">一致性：事务的执行结果必须是使数据库从一个一致性状态变到另一个一致性状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%94%E7%A6%BB%E6%80%A7%EF%BC%9A%E4%B8%80%E4%B8%AA%E4%BA%8B%E7%89%A9%E7%9A%84%E6%89%A7%E8%A1%8C%E4%B8%8D%E8%83%BD%E8%A2%AB%E5%85%B6%E4%BB%96%E4%BA%8B%E5%8A%A1%E5%B9%B2%E6%89%B0"><span class="toc-number">10.1.3.3.</span> <span class="toc-text">隔离性：一个事物的执行不能被其他事务干扰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%81%E7%BB%AD%E6%80%A7%EF%BC%9A%E6%B0%B8%E4%B9%85%E6%80%A7%EF%BC%8C%E4%B8%80%E4%B8%AA%E4%BA%8B%E7%89%A9%E4%B8%80%E6%97%A6%E6%8F%90%E4%BA%A4%EF%BC%8C%E4%BB%96%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%9A%84%E6%94%B9%E5%8F%98%E5%B0%B1%E5%BA%94%E8%AF%A5%E6%98%AF%E6%B0%B8%E4%B9%85%E6%80%A7%E7%9A%84"><span class="toc-number">10.1.3.4.</span> <span class="toc-text">持续性：永久性，一个事物一旦提交，他对数据库中的数据的改变就应该是永久性的</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E6%98%AF%E6%81%A2%E5%A4%8D%E5%92%8C%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8D%95%E4%BD%8D"><span class="toc-number">10.1.3.5.</span> <span class="toc-text">事务是恢复和并发控制的基本单位</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%81%A2%E5%A4%8D%E6%A6%82%E8%BF%B0"><span class="toc-number">10.2.</span> <span class="toc-text">数据库恢复概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%85%E9%9A%9C%E7%A7%8D%E7%B1%BB"><span class="toc-number">10.3.</span> <span class="toc-text">故障种类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E5%86%85%E9%83%A8%E7%9A%84%E6%95%85%E9%9A%9C"><span class="toc-number">10.3.1.</span> <span class="toc-text">事务内部的故障</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E8%88%AC%E6%98%AF%E9%9D%9E%E9%A2%84%E6%9C%9F%E7%9A%84%EF%BC%8C%E4%B8%8D%E8%83%BD%E7%94%B1%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%A4%84%E7%90%86"><span class="toc-number">10.3.1.1.</span> <span class="toc-text">一般是非预期的，不能由应用程序处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%EF%BC%9A%E4%BA%8B%E5%8A%A1%E6%92%A4%E9%94%80"><span class="toc-number">10.3.1.2.</span> <span class="toc-text">恢复：事务撤销</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%95%85%E9%9A%9C"><span class="toc-number">10.3.2.</span> <span class="toc-text">系统故障</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%80%A0%E6%88%90%E7%B3%BB%E7%BB%9F%E5%81%9C%E6%AD%A2%E8%BF%90%E8%BD%AC%E7%9A%84%E4%BB%BB%E4%BD%95%E4%BA%8B%E4%BB%B6%EF%BC%8C%E4%BD%BF%E5%BE%97%E7%B3%BB%E7%BB%9F%E8%A6%81%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8"><span class="toc-number">10.3.2.1.</span> <span class="toc-text">指造成系统停止运转的任何事件，使得系统要重新启动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%EF%BC%9A%E6%92%A4%E9%94%80-%E9%87%8D%E5%81%9A"><span class="toc-number">10.3.2.2.</span> <span class="toc-text">恢复：撤销+重做</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AF%E6%95%85%E9%9A%9C"><span class="toc-number">10.3.2.3.</span> <span class="toc-text">软故障</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E8%B4%A8%E6%95%85%E9%9A%9C"><span class="toc-number">10.3.3.</span> <span class="toc-text">介质故障</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A1%AC%E6%95%85%E9%9A%9C%EF%BC%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E7%89%A9%E7%90%86%E7%A0%B4%E7%8E%AF"><span class="toc-number">10.3.3.1.</span> <span class="toc-text">硬故障，数据库物理破环</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%97%85%E6%AF%92"><span class="toc-number">10.3.4.</span> <span class="toc-text">计算机病毒</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%85%E9%9A%9C%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-number">10.3.5.</span> <span class="toc-text">故障对数据库的影响</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%AC%E8%BA%AB%E8%A2%AB%E7%A0%B4%E5%9D%8F"><span class="toc-number">10.3.5.1.</span> <span class="toc-text">数据库本身被破坏</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%AA%E8%A2%AB%E7%A0%B4%E5%9D%8F%EF%BC%8C%E4%BD%86%E6%98%AF%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%83%BD%E4%B8%8D%E6%AD%A3%E7%A1%AE"><span class="toc-number">10.3.5.2.</span> <span class="toc-text">数据库未被破坏，但是数据可能不正确</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%EF%BC%9A%E5%86%97%E4%BD%99"><span class="toc-number">10.3.6.</span> <span class="toc-text">恢复的基本原理：冗余</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF"><span class="toc-number">10.4.</span> <span class="toc-text">恢复的实现技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E5%86%97%E4%BD%99%E6%95%B0%E6%8D%AE%E7%9A%84%E6%9C%80%E5%B8%B8%E7%94%A8%E6%8A%80%E6%9C%AF"><span class="toc-number">10.4.1.</span> <span class="toc-text">建立冗余数据的最常用技术</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%82%A8%E5%92%8C%E7%99%BB%E8%AE%B0%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6"><span class="toc-number">10.4.1.1.</span> <span class="toc-text">数据转储和登记日志文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%82%A8"><span class="toc-number">10.4.2.</span> <span class="toc-text">数据转储</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#DBA%E5%AE%9A%E6%9C%9F%E5%B0%86%E6%95%B4%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93%E6%81%A2%E5%A4%8D%E5%88%B0%E8%BD%AC%E5%82%A8%E6%97%B6%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-number">10.4.2.1.</span> <span class="toc-text">DBA定期将整个数据库恢复到转储时的状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%87%E7%94%A8%E6%95%B0%E6%8D%AE%E7%A7%B0%E4%B8%BA%E5%90%8E%E5%A4%87%E5%89%AF%E6%9C%AC"><span class="toc-number">10.4.2.2.</span> <span class="toc-text">备用数据称为后备副本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E8%A3%85%E5%90%8E%E5%A4%87%E5%89%AF%E6%9C%AC%E5%90%8E%E5%8F%AA%E8%83%BD%E5%B0%86%E6%95%B0%E6%8D%AE%E5%BA%93%E6%81%A2%E5%A4%8D%E5%88%B0%E8%BD%AC%E5%82%A8%E6%97%B6%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-number">10.4.2.3.</span> <span class="toc-text">重装后备副本后只能将数据库恢复到转储时的状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%EF%BC%9A"><span class="toc-number">10.4.2.4.</span> <span class="toc-text">分类：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%BD%AC%E5%82%A8%EF%BC%9A%E7%B3%BB%E7%BB%9F%E4%B8%AD%E6%97%A0%E8%BF%90%E8%A1%8C%E4%BA%8B%E5%8A%A1%E6%97%B6%E8%BF%9B%E8%A1%8C%E7%9A%84%E8%BD%AC%E5%82%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">10.4.2.4.1.</span> <span class="toc-text">静态转储：系统中无运行事务时进行的转储操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%BD%AC%E5%82%A8%EF%BC%9A%E8%BD%AC%E5%82%A8%E6%9C%9F%E9%97%B4%E5%85%81%E8%AE%B8%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9B%E8%A1%8C%E5%AD%98%E5%8F%96%E6%88%96%E4%BF%AE%E6%94%B9%E3%80%82%E5%8D%B3%E8%BD%AC%E5%82%A8%E5%92%8C%E7%94%A8%E6%88%B7%E4%BA%8B%E5%8A%A1%E5%8F%AF%E5%B9%B6%E5%8F%91%E6%89%A7%E8%A1%8C"><span class="toc-number">10.4.2.4.2.</span> <span class="toc-text">动态转储：转储期间允许对数据库进行存取或修改。即转储和用户事务可并发执行</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%99%BB%E8%AE%B0%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6"><span class="toc-number">10.4.3.</span> <span class="toc-text">登记日志文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E5%92%8C%E5%86%85%E5%AE%B9"><span class="toc-number">10.4.3.1.</span> <span class="toc-text">日志文件格式和内容</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%EF%BC%9A%E7%94%A8%E6%9D%A5%E8%AE%B0%E5%BD%95%E4%BA%8B%E5%8A%A1%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%9B%B4%E6%96%B0%E6%93%8D%E4%BD%9C%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-number">10.4.3.1.1.</span> <span class="toc-text">日志文件：用来记录事务对数据库的更新操作的文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">10.4.3.2.</span> <span class="toc-text">日志文件的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%99%BB%E8%AE%B0%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E5%8E%9F%E5%88%99"><span class="toc-number">10.4.3.3.</span> <span class="toc-text">登记日志文件原则</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%99%BB%E8%AE%B0%E6%AC%A1%E5%BA%8F%E4%B8%A5%E6%A0%BC%E6%8C%89%E5%B9%B6%E5%8F%91%E4%BA%8B%E5%8A%A1%E6%89%A7%E8%A1%8C%E7%9A%84%E6%97%B6%E9%97%B4%E6%AC%A1%E5%BA%8F"><span class="toc-number">10.4.3.3.1.</span> <span class="toc-text">登记次序严格按并发事务执行的时间次序</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BF%85%E9%A1%BB%E5%85%88%E5%86%99%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%EF%BC%8C%E5%90%8E%E5%86%99%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">10.4.3.3.2.</span> <span class="toc-text">必须先写日志文件，后写数据库</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E7%AD%96%E7%95%A5"><span class="toc-number">10.5.</span> <span class="toc-text">恢复策略</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B7%E6%9C%89%E6%A3%80%E6%9F%A5%E7%82%B9%E7%9A%84%E6%81%A2%E5%A4%8D%E6%8A%80%E6%9C%AF"><span class="toc-number">10.6.</span> <span class="toc-text">具有检查点的恢复技术</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">11.</span> <span class="toc-text">第十一章 并发控制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E6%A6%82%E8%BF%B0"><span class="toc-number">11.1.</span> <span class="toc-text">并发控制概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E6%98%AF%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8D%95%E4%BD%8D"><span class="toc-number">11.1.1.</span> <span class="toc-text">事务是并发控制的基本单位</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BF%9D%E8%AF%81%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E6%80%A7%E5%92%8C%E4%B8%80%E8%87%B4%E6%80%A7%EF%BC%8C%E9%9C%80%E8%A6%81%E5%AF%B9%E5%B9%B6%E5%8F%91%E6%93%8D%E4%BD%9C%E8%BF%9B%E8%A1%8C%E6%AD%A3%E7%A1%AE%E8%B0%83%E5%BA%A6"><span class="toc-number">11.1.2.</span> <span class="toc-text">为保证事务的隔离性和一致性，需要对并发操作进行正确调度</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E9%94%81"><span class="toc-number">11.2.</span> <span class="toc-text">封锁</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1T%E5%9C%A8%E5%AF%B9%E6%9F%90%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C%E4%B9%8B%E5%89%8D%EF%BC%8C%E5%85%88%E5%90%91%E7%B3%BB%E7%BB%9F%E5%8F%91%E5%87%BA%E8%AF%B7%E6%B1%82%EF%BC%8C%E5%AF%B9%E5%85%B6%E5%8A%A0%E9%94%81"><span class="toc-number">11.2.1.</span> <span class="toc-text">事务T在对某个数据对象操作之前，先向系统发出请求，对其加锁</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E9%94%81%E7%B1%BB%E5%9E%8B"><span class="toc-number">11.2.2.</span> <span class="toc-text">封锁类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%92%E4%BB%96%E9%94%81-X%E9%94%81-%EF%BC%9A%E5%86%99%E9%94%81%EF%BC%8C%E5%85%B6%E4%BB%96%E4%BA%8B%E5%8A%A1%E4%B8%8D%E5%85%81%E8%AE%B8%E8%AF%BB%E5%8F%96%E5%92%8C%E4%BF%AE%E6%94%B9%EF%BC%8C%E4%B8%8D%E5%85%81%E8%AE%B8%E5%8F%A0%E5%8A%A0%E4%BB%BB%E4%BD%95%E9%94%81"><span class="toc-number">11.2.2.1.</span> <span class="toc-text">排他锁(X锁)：写锁，其他事务不允许读取和修改，不允许叠加任何锁</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B1%E4%BA%AB%E9%94%81-S%E9%94%81-%EF%BC%9A%E8%AF%BB%E9%94%81%EF%BC%8C%E9%99%90%E5%88%B6%E5%8F%AA%E8%AF%BB%EF%BC%8C%E5%85%B6%E4%BB%96%E4%BA%8B%E5%8A%A1%E5%8F%AA%E8%83%BD%E5%8F%A0%E5%8A%A0S%E9%94%81"><span class="toc-number">11.2.2.2.</span> <span class="toc-text">共享锁(S锁)：读锁，限制只读，其他事务只能叠加S锁</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">11.3.</span> <span class="toc-text">封锁协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE%EF%BC%9A%E8%BF%90%E7%94%A8%E5%9F%BA%E6%9C%AC%E5%B0%81%E9%94%81%E6%97%B6%EF%BC%8C%E9%9C%80%E8%A6%81%E7%BA%A6%E5%AE%9A%E4%B8%80%E4%BA%9B%E8%A7%84%E5%88%99"><span class="toc-number">11.3.0.1.</span> <span class="toc-text">封锁协议：运用基本封锁时，需要约定一些规则</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E7%BA%A7%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">11.3.1.</span> <span class="toc-text">一级封锁协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1T%E5%9C%A8%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AER%E4%B9%8B%E5%89%8D%E5%BF%85%E9%A1%BB%E5%85%88%E5%AF%B9%E5%85%B6%E5%8A%A0X%E9%94%81%EF%BC%8C%E7%9B%B4%E5%88%B0%E4%BA%8B%E5%8A%A1%E7%BB%93%E6%9D%9F"><span class="toc-number">11.3.1.1.</span> <span class="toc-text">事务T在修改数据R之前必须先对其加X锁，直到事务结束</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B2%E6%AD%A2%E4%B8%A2%E5%A4%B1%E4%BF%AE%E6%94%B9"><span class="toc-number">11.3.1.2.</span> <span class="toc-text">防止丢失修改</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">11.3.2.</span> <span class="toc-text">二级封锁协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E4%B8%80%E7%BA%A7%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE%E5%9F%BA%E7%A1%80%E4%B8%8A%E5%A2%9E%E5%8A%A0%E4%BA%8B%E5%8A%A1T%E5%9C%A8%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AER%E4%B9%8B%E5%89%8D%E5%BF%85%E9%A1%BB%E5%85%88%E5%AF%B9%E5%85%B6%E5%8A%A0S%E9%94%81%EF%BC%8C%E8%AF%BB%E5%AE%8C%E5%8D%B3%E5%8F%AF%E9%87%8A%E6%94%BES%E9%94%81"><span class="toc-number">11.3.2.1.</span> <span class="toc-text">在一级封锁协议基础上增加事务T在读取数据R之前必须先对其加S锁，读完即可释放S锁</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B2%E6%AD%A2%E4%B8%A2%E5%A4%B1%E4%BF%AE%E6%94%B9-%E9%98%B2%E6%AD%A2%E8%AF%BB%E2%80%9C%E8%84%8F%E2%80%9D%E6%95%B0%E6%8D%AE"><span class="toc-number">11.3.2.2.</span> <span class="toc-text">防止丢失修改+防止读“脏”数据</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E7%BA%A7%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">11.3.3.</span> <span class="toc-text">三级封锁协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E7%BA%A7%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%9F%BA%E7%A1%80%E4%B8%8A%E5%A2%9E%E5%8A%A0%E4%BA%8B%E5%8A%A1T%E5%9C%A8%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AER%E4%B9%8B%E5%89%8D%E5%BF%85%E9%A1%BB%E5%85%88%E5%AF%B9%E5%85%B6%E5%A2%9E%E5%8A%A0S%E9%94%81%EF%BC%8C%E7%9F%A5%E9%81%93%E4%BA%8B%E5%8A%A1%E7%BB%93%E6%9D%9F%E6%89%8D%E9%87%8A%E6%94%BE"><span class="toc-number">11.3.3.1.</span> <span class="toc-text">一级封锁协议的基础上增加事务T在读取数据R之前必须先对其增加S锁，知道事务结束才释放</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B2%E6%AD%A2%E4%B8%A2%E5%A4%B1%E4%BF%AE%E6%94%B9-%E9%98%B2%E6%AD%A2%E8%AF%BB%E2%80%9C%E8%84%8F%E2%80%9D%E6%95%B0%E6%8D%AE-%E9%98%B2%E6%AD%A2%E4%B8%8D%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB"><span class="toc-number">11.3.3.2.</span> <span class="toc-text">防止丢失修改+防止读“脏”数据+防止不可重复读</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B4%BB%E9%94%81%E5%92%8C%E6%AD%BB%E9%94%81"><span class="toc-number">11.4.</span> <span class="toc-text">活锁和死锁</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E6%B4%BB%E9%94%81%EF%BC%9A%E5%85%88%E6%9D%A5%E5%85%88%E6%9C%8D%E5%8A%A1"><span class="toc-number">11.4.1.</span> <span class="toc-text">避免活锁：先来先服务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E9%A2%84%E9%98%B2%EF%BC%9A%E4%B8%80%E6%AC%A1%E5%B0%81%E9%94%81%E3%80%81%E9%A1%BA%E5%BA%8F%E5%B0%81%E9%94%81"><span class="toc-number">11.4.1.1.</span> <span class="toc-text">死锁预防：一次封锁、顺序封锁</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E8%AF%8A%E6%96%AD%E4%B8%8E%E8%A7%A3%E9%99%A4%EF%BC%9A%E8%B6%85%E6%97%B6%E6%B3%95%E3%80%81%E4%BA%8B%E5%8A%A1%E7%AD%89%E5%BE%85%E5%9B%BE"><span class="toc-number">11.4.1.2.</span> <span class="toc-text">死锁的诊断与解除：超时法、事务等待图</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E8%B0%83%E5%BA%A6%E7%9A%84%E5%8F%AF%E4%B8%B2%E8%A1%8C%E6%80%A7"><span class="toc-number">11.5.</span> <span class="toc-text">并发调度的可串行性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E4%B8%B2%E8%A1%8C%E5%8C%96%E8%B0%83%E5%BA%A6"><span class="toc-number">11.5.1.</span> <span class="toc-text">可串行化调度</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E4%B8%AA%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%B9%B6%E5%8F%91%E6%89%A7%E8%A1%8C%E6%98%AF%E6%AD%A3%E7%A1%AE%E7%9A%84%EF%BC%8C%E5%BD%93%E4%B8%94%E4%BB%85%E5%BD%93%E5%85%B6%E7%BB%93%E6%9E%9C%E4%B8%8E%E6%8C%89%E6%9F%90%E4%B8%80%E6%AC%A1%E5%BA%8F%E4%B8%B2%E8%A1%8C%E5%9C%B0%E6%89%A7%E8%A1%8C%E8%BF%99%E4%BA%9B%E4%BA%8B%E5%8A%A1%E6%97%B6%E7%9A%84%E7%BB%93%E6%9E%9C%E7%9B%B8%E5%90%8C%EF%BC%8C%E7%A7%B0%E8%AF%A5%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E4%B8%BA%E5%8F%AF%E4%B8%B2%E8%A1%8C%E5%8C%96%E8%B0%83%E5%BA%A6"><span class="toc-number">11.5.1.1.</span> <span class="toc-text">多个事务的并发执行是正确的，当且仅当其结果与按某一次序串行地执行这些事务时的结果相同，称该调度策略为可串行化调度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E4%B8%B2%E8%A1%8C%E6%80%A7%E6%97%B6%E5%B9%B6%E5%8F%91%E4%BA%8B%E5%8A%A1%E6%AD%A3%E7%A1%AE%E8%B0%83%E5%BA%A6%E7%9A%84%E5%87%86%E5%88%99"><span class="toc-number">11.5.1.2.</span> <span class="toc-text">可串行性时并发事务正确调度的准则</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%A4%E6%AE%B5%E9%94%81%E5%8D%8F%E8%AE%AE-2PL"><span class="toc-number">11.6.</span> <span class="toc-text">两段锁协议(2PL)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%EF%BC%9A%E8%8E%B7%E5%BE%97%E5%B0%81%E9%94%81%EF%BC%8C%E7%A7%B0%E6%89%A9%E5%B1%95%E9%98%B6%E6%AE%B5"><span class="toc-number">11.6.1.</span> <span class="toc-text">第一阶段：获得封锁，称扩展阶段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%EF%BC%9A%E9%87%8A%E6%94%BE%E5%B0%81%E9%94%81%EF%BC%8C%E7%A7%B0%E6%94%B6%E7%BC%A9%E9%98%B6%E6%AE%B5"><span class="toc-number">11.6.2.</span> <span class="toc-text">第二阶段：释放封锁，称收缩阶段</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E6%89%A7%E8%A1%8C%E7%9A%84%E6%89%80%E6%9C%89%E4%BA%8B%E7%89%A9%E5%9D%87%E9%81%B5%E5%AE%88%E4%B8%A4%E6%AE%B5%E9%94%81%E5%8D%8F%E8%AE%AE%EF%BC%8C%E5%88%99%E8%BF%99%E4%BA%9B%E4%BA%8B%E5%8A%A1%E7%9A%84%E4%BB%BB%E4%BD%95%E5%B9%B6%E5%8F%91%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E9%83%BD%E6%98%AF%E5%8F%AF%E4%B8%B2%E8%A1%8C%E5%8C%96%E7%9A%84-%E5%85%85%E5%88%86%E4%B8%8D%E5%BF%85%E8%A6%81"><span class="toc-number">11.6.2.1.</span> <span class="toc-text">并发执行的所有事物均遵守两段锁协议，则这些事务的任何并发调度策略都是可串行化的(充分不必要)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E9%94%81%E7%9A%84%E7%B2%92%E5%BA%A6"><span class="toc-number">11.7.</span> <span class="toc-text">封锁的粒度</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E9%94%81%E7%B2%92%E5%BA%A6%EF%BC%9A"><span class="toc-number">11.7.1.</span> <span class="toc-text">封锁粒度：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%81%E9%94%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%A4%A7%E5%B0%8F"><span class="toc-number">11.7.1.1.</span> <span class="toc-text">封锁对象的大小</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%EF%BC%9A%E9%80%BB%E8%BE%91%E5%8D%95%E5%85%83%E3%80%81%E7%89%A9%E7%90%86%E5%8D%95%E5%85%83"><span class="toc-number">11.7.1.2.</span> <span class="toc-text">类型：逻辑单元、物理单元</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8E%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%B9%B6%E5%8F%91%E5%BA%A6%E5%92%8C%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E7%9A%84%E5%BC%80%E9%94%80%E5%AF%86%E5%88%87%E7%9B%B8%E5%85%B3"><span class="toc-number">11.7.1.3.</span> <span class="toc-text">与系统的并发度和并发控制的开销密切相关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E7%B2%92%E5%BA%A6%E5%B0%81%E9%94%81%EF%BC%9A%E6%94%AF%E6%8C%81%E5%A4%9A%E7%A7%8D%E5%B0%81%E9%94%81%E7%B2%92%E5%BA%A6"><span class="toc-number">11.7.1.4.</span> <span class="toc-text">多粒度封锁：支持多种封锁粒度</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%B2%92%E5%BA%A6%E5%B0%81%E9%94%81"><span class="toc-number">11.7.2.</span> <span class="toc-text">多粒度封锁</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E7%B2%92%E5%BA%A6%E6%A0%91"><span class="toc-number">11.7.2.1.</span> <span class="toc-text">多粒度树</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%8F%E4%B8%AA%E8%8A%82%E7%82%B9%E5%8F%AF%E7%8B%AC%E7%AB%8B%E5%8A%A0%E9%94%81%EF%BC%8C%E5%85%B6%E5%AD%90%E8%8A%82%E7%82%B9%E4%B9%9F%E8%A2%AB%E5%8A%A0%E9%94%81"><span class="toc-number">11.7.2.2.</span> <span class="toc-text">每个节点可独立加锁，其子节点也被加锁</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E5%B0%81%E9%94%81%EF%BC%9A%E7%9B%B4%E6%8E%A5%E5%8A%A0%E5%88%B0%E6%95%B0%E6%8D%AE%E5%AF%B9%E8%B1%A1%E4%B8%8A%E7%9A%84%E9%94%81"><span class="toc-number">11.7.2.3.</span> <span class="toc-text">显示封锁：直接加到数据对象上的锁</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E5%B0%81%E9%94%81%EF%BC%9A%E6%9C%AA%E8%A2%AB%E7%8B%AC%E7%AB%8B%E5%8A%A0%E9%94%81%EF%BC%8C%E4%BD%86%E6%98%AF%E7%94%B1%E4%BA%8E%E4%B8%8A%E7%BA%A7%E8%8A%82%E7%82%B9%E8%A2%AB%E5%8A%A0%E9%94%81%E8%80%8C%E5%8A%A0%E4%B8%8A%E4%BA%86%E9%94%81"><span class="toc-number">11.7.2.4.</span> <span class="toc-text">隐式封锁：未被独立加锁，但是由于上级节点被加锁而加上了锁</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%84%8F%E5%90%91%E9%94%81"><span class="toc-number">11.7.3.</span> <span class="toc-text">意向锁</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E5%AF%B9%E4%B8%80%E4%B8%AA%E8%8A%82%E7%82%B9%E5%8A%A0%E6%84%8F%E5%90%91%E9%94%81%EF%BC%8C%E5%88%99%E8%AF%B4%E6%98%8E%E8%AF%A5%E8%8A%82%E7%82%B9%E7%9A%84%E4%B8%8B%E5%B1%82%E8%8A%82%E7%82%B9%E6%AD%A3%E5%9C%A8%E8%A2%AB%E5%8A%A0%E9%94%81"><span class="toc-number">11.7.3.1.</span> <span class="toc-text">如果对一个节点加意向锁，则说明该节点的下层节点正在被加锁</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IS%E9%94%81-%E6%84%8F%E5%90%91%E5%85%B1%E4%BA%AB%E9%94%81-%EF%BC%9A"><span class="toc-number">11.7.3.2.</span> <span class="toc-text">IS锁(意向共享锁)：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IX%E9%94%81-%E6%84%8F%E5%90%91%E6%8E%92%E4%BB%96%E9%94%81-%EF%BC%9A"><span class="toc-number">11.7.3.3.</span> <span class="toc-text">IX锁(意向排他锁)：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SIX-%E5%85%B1%E4%BA%AB%E6%84%8F%E5%90%91%E6%8E%92%E4%BB%96%E9%94%81-%EF%BC%9A"><span class="toc-number">11.7.3.4.</span> <span class="toc-text">SIX(共享意向排他锁)：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%BA%E5%BA%A6%EF%BC%9AX-SIX-S-IX-IS"><span class="toc-number">11.7.4.</span> <span class="toc-text">强度：X&gt;SIX&gt;S&#x3D;IX&gt;ISX&gt;SIX&gt;S&#x3D;IX&gt;ISX&gt;SIX&gt;S&#x3D;IX&gt;IS</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/photography/02-%E5%85%B3%E4%BA%8E%E5%99%A8%E6%9D%90%EF%BC%8C%E4%BD%A0%E5%BF%85%E9%A1%BB%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/" title="02-关于器材，你必须要了解的那些事"><img src="/images/funingna.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="02-关于器材，你必须要了解的那些事"/></a><div class="content"><a class="title" href="/photography/02-%E5%85%B3%E4%BA%8E%E5%99%A8%E6%9D%90%EF%BC%8C%E4%BD%A0%E5%BF%85%E9%A1%BB%E8%A6%81%E4%BA%86%E8%A7%A3%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/" title="02-关于器材，你必须要了解的那些事">02-关于器材，你必须要了解的那些事</a><time datetime="2024-04-01T12:39:45.000Z" title="发表于 2024-04-01 20:39:45">2024-04-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/rust/RUST/" title="Rust配置与使用"><img src="/images/naweiya.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Rust配置与使用"/></a><div class="content"><a class="title" href="/rust/RUST/" title="Rust配置与使用">Rust配置与使用</a><time datetime="2024-03-05T07:07:25.000Z" title="发表于 2024-03-05 15:07:25">2024-03-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/BUAA/OS/OS/" title="OS复习"><img src="/images/funingna.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="OS复习"/></a><div class="content"><a class="title" href="/BUAA/OS/OS/" title="OS复习">OS复习</a><time datetime="2024-02-26T04:38:06.000Z" title="发表于 2024-02-26 12:38:06">2024-02-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/python/%E7%88%AC%E8%99%AB%E7%AC%94%E8%AE%B0/" title="爬虫笔记"><img src="/images/daojian.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="爬虫笔记"/></a><div class="content"><a class="title" href="/python/%E7%88%AC%E8%99%AB%E7%AC%94%E8%AE%B0/" title="爬虫笔记">爬虫笔记</a><time datetime="2024-02-25T10:05:06.000Z" title="发表于 2024-02-25 18:05:06">2024-02-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/tools/TencentCloud/%20%E8%85%BE%E8%AE%AF%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2Hexo/" title="腾讯云服务器部署Hexo"><img src="/images/naweiya.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="腾讯云服务器部署Hexo"/></a><div class="content"><a class="title" href="/tools/TencentCloud/%20%E8%85%BE%E8%AE%AF%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2Hexo/" title="腾讯云服务器部署Hexo">腾讯云服务器部署Hexo</a><time datetime="2024-01-30T12:12:36.000Z" title="发表于 2024-01-30 20:12:36">2024-01-30</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By £·</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a href="https://lzh594.github.io/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>